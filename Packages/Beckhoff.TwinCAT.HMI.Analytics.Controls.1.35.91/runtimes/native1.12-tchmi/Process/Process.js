var TcHmi;!function(e){let t;!function(t){let s;!function(t){class s extends e.Controls.Analytics.AnalyticsControl{constructor(e,t,s){super(e,t,s),this.__radialGrad="radialGradProcess",this.__onResized=()=>(e,t)=>{let s=super.__getScaleFactor(!0);if(0==this.__hasLicense)return;let i=this.__defaultHeight+18-this.__elementNameAlias[0].clientHeight;!1===this.__showText&&(i-=32);var l=i/this.__defaultHeight;s=this.__getFontScaleFactor(void 0,i)*l,this.__elementNameAlias.css("padding-bottom",5*s),this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementActualValueAlias.css("font-size",14*s),this.__elementSetValueAlias.css("font-size",14*s),this.__elementActualValue.css("font-size",14*s),this.__elementSetValue.css("font-size",14*s),this.__elementTextValues.css("margin-right",5*s),this.__elementTextValues.css("margin-left",0*s),this.__elementSvg.css("height",70*s),this.__elementSvg.css("width",70*s),this.__elementPercentage.css("font-size",50*s),this.__elementPercentage.css("margin-left",5*s),this.__elementGroupProperties.css("margin-left",5*s),this.__elementLine.css("height",70*s),this.__elementLine.css("margin-left",20*s),this.__elementLine.css("margin-right",20*s),!0===this.__showTitle?(this.__elementSvg.css("margin-top",5*s),this.__elementPercentage.css("margin-top",5*s),this.__elementGroupProperties.css("margin-top",0*s),this.__elementLine.css("margin-top",5*s)):(this.__elementSvg.css("margin-top",20*s),this.__elementGroupProperties.css("margin-top",10*s),this.__elementLine.css("margin-top",20*s),this.__elementPercentage.css("margin-top",20*s));var a=this.getRenderedWidth()/370;a>1&&70*a<130&&(this.__elementSvg.css("height",70*a),this.__elementSvg.css("width",70*a),this.__elementPercentage.css("font-size",50*a),this.__elementLine.css("height",70*a),this.__elementGroupProperties.css("font-size",14*a))}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=150,this.__elementActualValueAlias=this.__elementTemplateRoot.find(".tchmi-process-text-actual-value-alias"),this.__elementSetValueAlias=this.__elementTemplateRoot.find(".tchmi-process-text-set-value-alias"),this.__elementActualValue=this.__elementTemplateRoot.find(".tchmi-process-text-actual-value"),this.__elementSetValue=this.__elementTemplateRoot.find(".tchmi-process-text-set-value"),this.__elementTextValues=this.__elementTemplateRoot.find(".tchmi-process-text-group-values"),this.__elementGroupBlock=this.__elementTemplateRoot.find(".tchmi-process-group-block"),this.__elementLine=this.__elementTemplateRoot.find(".tchmi-process-design-line"),this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-process-svg"),this.__elementSvgDefs=this.__elementTemplateRoot.find(".tchmi-process-defs"),this.__elementSvgElapsed=this.__elementTemplateRoot.find(".tchmi-process-svg-elapsed-circle"),this.__elementSvgRemaining=this.__elementTemplateRoot.find(".tchmi-process-svg-remaining-circle"),this.__elementPercentage=this.__elementTemplateRoot.find(".tchmi-process-text-calculation-percentage"),this.__elementPercentageCon=this.__elementTemplateRoot.find(".tchmi-process-text-calculation-percentage-container"),this.__elementGroupProperties=this.__elementTemplateRoot.find(".tchmi-process-text-group-properties"))}__init(){let e=[new t.Property(this,"GraphColor","Graph Color",t.E_DataType.SOLIDCOLOR)];super.setEditableProperties(e),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setActualValueAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("ActualValueAlias")),s!==this.__actualValueAlias&&(this.__actualValueAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getActualValueAlias"]),this.__processActualValueAlias())}getActualValueAlias(){return this.__actualValueAlias}setValueAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("ValueAlias")),s!==this.__valueAlias&&(this.__valueAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValueAlias"]),this.__processSetValueAlias())}getSetValueAlias(){return this.__valueAlias}setActualValue(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("actualValue")),s!==this.__actualValue&&(this.__actualValue=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getActualValue"]),this.__processActualValue())}getActualValue(){return this.__actualValue}setValue(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("Value")),s!==this.__value&&(this.__value=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValue"]),this.__processSetValue())}getSetValue(){return this.__value}setGraphColor(t){let s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("GraphColor")),s!==this.__graphColor&&(this.__graphColor=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getGraphColor"]),this.__processGraphColor())}getGraphColor(){return this.__graphColor}__processGraphColor(){this.__processColor(),this.__processPercentage()}setElapsedTime(t){var s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("elapsedTime")),JSON.stringify(s)!==JSON.stringify(this.__elapsedTime)&&(this.__elapsedTime=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getElapsedTime"]),this.__processActualValue())}getElapsedTime(){return this.__elapsedTime}setRemainingtime(t){var s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("remainingTime")),JSON.stringify(s)!==JSON.stringify(this.__remainingTime)&&(this.__remainingTime=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getRemainingTime"]),this.__processSetValue())}getRemainingTime(){return this.__remainingTime}setValueType(t){var s=e.ValueConverter.toString(t);null!==s?s!==this.__valueType&&(this.__valueType=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValueType"]),this.__processValueType()):s=this.getAttributeDefaultValueInternal("ValueType")}getValueType(){return this.__valueType}__processActualValueAlias(){void 0!==this.__actualValueAlias&&null!==this.__actualValueAlias&&this.__elementActualValueAlias.text(this.__actualValueAlias)}__processSetValueAlias(){void 0!==this.__valueAlias&&null!==this.__valueAlias&&this.__elementSetValueAlias.text(this.__valueAlias)}__processValueType(){null!==this.__valueType&&(this.__processActualValue(),this.__processSetValue())}__processActualValue(){this.__processDisplayValues()}__processSetValue(){this.__processDisplayValues()}setShowMilliSeconds(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),s!==this.__showMilliSeconds&&(this.__showMilliSeconds=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){this.__processDisplayValues()}setDayAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("DayAlias")),s!==this.__dayAlias&&(this.__dayAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getDayAlias"]),this.__processDayAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getDayAlias(){return this.__dayAlias}__processDayAlias(){this.__processDisplayValues()}__processDisplayValues(){"Times"===this.__valueType?void 0!==this.__elapsedTime&&void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&null!==this.__elapsedTime&&void 0!==this.__dayAlias&&null!==this.__elapsedTime&&null!==this.__elapsedTime&&null!==this.__dayAlias&&(this.__elementActualValue.text(this.TimeSpanConverter(this.__elapsedTime,this.__showMilliSeconds,this.__dayAlias,!1)),this.TimeSpanConverter(this.__elapsedTime,this.__showMilliSeconds,this.__dayAlias,!1).toString().length):"Values"===this.__valueType&&void 0!==this.__actualValue&&null!==this.__actualValue?(this.__elementActualValue.text(this.__actualValue),this.__actualValue.toString().length):this.__elementActualValue.text(" ");"Times"===this.__valueType?void 0!==this.__remainingTime&&null!==this.__remainingTime&&void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&null!==this.__dayAlias&&(this.__elementSetValue.text(this.TimeSpanConverter(this.__remainingTime,this.__showMilliSeconds,this.__dayAlias,!1)),this.TimeSpanConverter(this.__remainingTime,this.__showMilliSeconds,this.__dayAlias,!1).toString().length):"Values"===this.__valueType&&void 0!==this.__value&&null!==this.__value?(this.__elementSetValue.text(this.__value),this.__value.toString().length):this.__elementActualValue.text(" "),this.__processPercentage()}__processPercentage(){if(void 0!==this.__value&&null!==this.__value&&void 0!==this.__actualValue&&null!==this.__actualValue){if("Times"===this.__valueType)if(void 0!==this.__remainingTime&&void 0!==this.__elapsedTime){var e=this.convertTimeSpan(this.__elapsedTime),t=this.convertTimeSpan(this.__remainingTime),s=!0;t<0&&Math.abs(t)>Math.abs(e)&&(s=!1),e>=0&&e+Math.abs(t)!==0&&s?this.__percentage=t<0?(e+t)/(t+e):e/(t+e):this.__percentage=0}else this.__percentage=0;else{var i=this.__actualValue,l=this.__value;l<0&&Math.abs(l)>Math.abs(i)&&(s=!1),i>=0&&i+Math.abs(l)!==0?this.__percentage=t<0?(i+l)/(l+i):i/(l+i):this.__percentage=0}var a;a=this.__percentage<10?(100*this.__percentage).toFixed(1)+"%":(100*this.__percentage).toFixed(0)+"%",this.__elementPercentage.text(a),void 0!==this.__percentage&&this.draw(this.__elementSvgElapsed,this.__percentage)}}__processColorGradient(){this.__processColor()}__processColor(){if(this.__isAttached){super.__processColor(),this.__elementSvgDefs[0].innerHTML="",0!==this.__colorGradient?this.__elementPercentage.css("text-shadow",this.__controlColorDark+" -3px 3px 3px"):this.__elementPercentage.css("text-shadow","none");var e=this.__colorGradient/100;e<0&&(e*=-1),e>1&&(e=1),this.CreateRadialGradient("rgba(255,255,255,1)",this.__elementSvgDefs[0],this.__colorGradient,this.__radialGrad+this.__secureId,0,e,0),this.__elementTemplateRoot.find(".tchmi-process-svg-gradient-circle").css("fill","url(#"+this.__radialGrad+this.__secureId),this.__elementSvgRemaining.css("fill",this.__controlChartColor),this.__elementSvgRemaining.css("stroke",this.__controlColorDark),this.__elementSvgElapsed.css("fill",this.__graphColor.color),this.__elementSvgElapsed.css("stroke","none")}}setShowText(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ShowText")),s!==this.__showText&&(this.__showText=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowText"]),this.__processShowText())}getShowText(){return this.__showText}__processShowText(){!0===this.__showText?this.__elementGroupProperties.css("display","block"):this.__elementGroupProperties.css("display","none"),e.EventProvider.raise(`${this.__id}.onResized`,null)}draw(e,t){var s="M35,35 m-34 0 a34,34 0 1, 0 68,0 a34,34 0 1, 0 -68,0";t>1?(e.css("fill","#FFA500"),s="M1,35 a34,34 0 1, 1 68,0 a34,34 0 1, 1 -68,0"):s=1==t?"M1,35 a34,34 0 1, 1 68,0 a34,34 0 1, 1 -68,0":this.describeArc(35,35,34,0,360*t),e[0].setAttribute("d",s+"L35,35z")}}t.Process=s}(s=t.Analytics||(t.Analytics={})),t.registerEx("Process","TcHmi.Controls.Analytics",s.Process)}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));