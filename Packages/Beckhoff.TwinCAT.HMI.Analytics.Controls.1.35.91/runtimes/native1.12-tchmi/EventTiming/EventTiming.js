var TcHmi;!function(t){let e;!function(e){let i;!function(e){class i extends t.Controls.Analytics.AnalyticsControl{constructor(t,e,i){super(t,e,i),this.__radialGrad="radialGradEventTiming",this.__onResized=()=>(t,e)=>{let i=super.__getScaleFactor();if(0==this.__hasLicense)return;let s=this.__defaultHeight+18-this.__elementNameAlias[0].clientHeight;!1===this.__showTotal&&(s+=34);var n=s/this.__defaultHeight;i=this.__getFontScaleFactor(void 0,s)*n,this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementSvg.css("width",350*i),this.__elementSvg.css("height",230*i),this.__elementSvg.css("margin-left",15*i),this.__elementSvg.css("margin-top",5*i),this.__elementTotalOn.css("padding-bottom",2*i),!1===this.__showTotal&&this.__elementSvg.css("margin-top",15*i),this.__elementTotalOn.css("font-size",14*i),this.__elementTotalOn.css("padding-left",5*i),this.__elementTotalOff.css("font-size",14*i),this.__elementTotalOff.css("padding-left",5*i)}}__previnit(){super.setEditableProperties([]),super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=310,this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-event-timing-svg"),this.__elementSvgDefs=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-defs"),this.__elementSvgText=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-text"),this.__elementSvgCirclePart=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-circle-part"),this.__elementSvgCircleLine=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-circle-part-line"),this.__elementSvgCircleInner=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-inner-circle"),this.__elementSvgCircleOuter=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-outer-circle"),this.__elementSvgCircleOff=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-circle-on"),this.__elementSvgCircleOn=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-circle-off"),this.__elementSvgWholeCircle=this.__elementTemplateRoot.find(".tchmi-event-timing-svg-whole-circle"),this.__elementTotalOn=this.__elementTemplateRoot.find(".tchmi-event-timing-total-on"),this.__elementTotalOff=this.__elementTemplateRoot.find(".tchmi-event-timing-total-off"))}__init(){let t=[new e.Property(this,"ShowTotal","Show Total",e.E_DataType.BOOLEAN),new e.Property(this,"ShowMilliSeconds","Show Milliseconds",e.E_DataType.BOOLEAN),new e.Property(this,"OnColor","On Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"OffColor","Off Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"MinColor","Min Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"AvgColor","Avg Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"MaxColor","Max Color",e.E_DataType.SOLIDCOLOR)];super.setEditableProperties(t),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setOffColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OffColor")),i!==this.__offColor&&(this.__offColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffColor"]),this.__processIsOn())}getOffColor(){return this.__offColor}setOnColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OnColor")),i!==this.__onColor&&(this.__onColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnColor"]),this.__processIsOn())}getOnColor(){return this.__onColor}setMinColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("MinColor")),i!==this.__minColor&&(this.__minColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMinColor"]),this.__processMinColor())}getMinColor(){return this.__minColor}__processMinColor(){this.__minColorHex=this.rgbaToHex(this.__minColor.color),this.__processColor()}setMaxColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("MaxColor")),i!==this.__maxColor&&(this.__maxColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMaxColor"]),this.__processMaxColor())}getMaxColor(){return this.__maxColor}__processMaxColor(){this.__maxColorHex=this.rgbaToHex(this.__maxColor.color),this.__processColor()}setAvgColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("AvgColor")),i!==this.__avgColor&&(this.__avgColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getAvgColor"]),this.__processAvgColor())}getAvgColor(){return this.__avgColor}__processAvgColor(){this.__avgColorHex=this.rgbaToHex(this.__avgColor.color),this.__processColor()}setIsOn(e){var i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__isOn&&(this.__isOn=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getIsOn"]),this.__processIsOn()):i=this.getAttributeDefaultValueInternal("IsOn")}getIsOn(){return this.__isOn}setOnMin(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OnMin")),JSON.stringify(i)!==JSON.stringify(this.__onMin)&&(this.__onMin=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnMin"]),this.__processOnMin())}getOnMin(){return this.__onMin}setOnMax(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OnMax")),JSON.stringify(i)!==JSON.stringify(this.__onMax)&&(this.__onMax=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnMax"]),this.__processOnMax())}getOnMax(){return this.__onMax}setOnAvg(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OnAvg")),JSON.stringify(i)!==JSON.stringify(this.__onAvg)&&(this.__onAvg=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnAvg"]),this.__processOnAvg())}getOnAvg(){return this.__onAvg}setCurrent(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("Current")),JSON.stringify(i)!==JSON.stringify(this.__current)&&(this.__current=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrent"]),this.__processCurrent())}__processOnMin(){this.DrawLabel(this.__onMin,this.__showMilliSeconds,this.__dayAlias,0)}__processOnMax(){this.DrawLabel(this.__onMax,this.__showMilliSeconds,this.__dayAlias,2)}__processOnAvg(){this.DrawLabel(this.__onAvg,this.__showMilliSeconds,this.__dayAlias,1)}setOffMin(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OffMin")),JSON.stringify(i)!==JSON.stringify(this.__offMin)&&(this.__offMin=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffMin"]),this.__processOffMin())}getOffMin(){return this.__offMin}setOffMax(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OffMax")),JSON.stringify(i)!==JSON.stringify(this.__offMax)&&(this.__offMax=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffMax"]),this.__processOffMax())}getOffMax(){return this.__offMax}setOffAvg(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OffAvg")),JSON.stringify(i)!==JSON.stringify(this.__offAvg)&&(this.__offAvg=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffAvg"]),this.__processOffAvg())}getOffAvg(){return this.__offAvg}__processOffMin(){this.DrawLabel(this.__offMin,this.__showMilliSeconds,this.__dayAlias,0)}__processOffMax(){this.DrawLabel(this.__offMax,this.__showMilliSeconds,this.__dayAlias,2)}__processOffAvg(){this.DrawLabel(this.__offAvg,this.__showMilliSeconds,this.__dayAlias,1)}setMinAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MinAlias")),i!==this.__minAlias&&(this.__minAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMinAlias"]),this.__processMinAlias())}getMinAlias(){return this.__minAlias}__processMinAlias(){this.__elementSvgText[0].textContent=this.__minAlias}setMaxAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MaxAlias")),i!==this.__maxAlias&&(this.__maxAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMaxAlias"]),this.__processMaxAlias())}getMaxAlias(){return this.__maxAlias}__processMaxAlias(){this.__elementSvgText[2].textContent=this.__maxAlias}setAvgAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("AvgAlias")),i!==this.__avgAlias&&(this.__avgAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getAvgAlias"]),this.__processAvgAlias())}getAvgAlias(){return this.__avgAlias}__processAvgAlias(){this.__elementSvgText[1].textContent=this.__avgAlias}setOnAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("OnAlias")),i!==this.__onAlias&&(this.__onAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnAlias"]),this.__processOnAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getOnAlias(){return this.__onAlias}__processOnAlias(){this.__processOnTotal()}setOffAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("OffAlias")),i!==this.__offAlias&&(this.__offAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffAlias"]),this.__processOffAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getOffAlias(){return this.__offAlias}__processOffAlias(){this.__processOffTotal()}setDayAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("DayAlias")),i!==this.__dayAlias&&(this.__dayAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getDayAlias"]),this.__processDayAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getDayAlias(){return this.__dayAlias}__processDayAlias(){this.__processIsOn(),this.__processOnTotal(),this.__processOffTotal()}__processIsOn(){this.__isOn?(null!=this.__onColor&&null!=this.__offColor&&(this.__elementSvgCircleOn.css("stroke",this.__onColor.color),this.__elementSvgCircleOff.css("stroke",this.__offColor.color),this.__elementTotalOn.css("color",this.__onColor.color),this.__elementTotalOff.css("color",this.__offColor.color)),this.__processOnMin(),this.__processOnAvg(),this.__processOnMax()):(null!=this.__onColor&&null!=this.__offColor&&(this.__elementTotalOff.css("color",this.__onColor.color),this.__elementTotalOn.css("color",this.__offColor.color),this.__elementSvgCircleOn.css("stroke",this.__offColor.color),this.__elementSvgCircleOff.css("stroke",this.__onColor.color)),this.__processOffMin(),this.__processOffAvg(),this.__processOffMax()),this.__processCurrent()}__processCurrent(){!0===this.__isOn&&this.__onMax&&this.__current&&this.DrawCurrentInterval(this.__onMax,this.__current),!1===this.__isOn&&this.__offMax&&this.__current&&this.DrawCurrentInterval(this.__offMax,this.__current)}setShowTotal(e){var i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showTotal&&(this.__showTotal=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowLastEvent"]),this.__processShowTotal()):i=this.getAttributeDefaultValueInternal("ShowTotal")}getShowTotal(){return this.__showTotal}setShowMilliSeconds(e){var i=t.ValueConverter.toBoolean(e);null===i&&(i=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),i!==this.__showMilliSeconds&&(this.__showMilliSeconds=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){this.__processOnTotal(),this.__processOffTotal(),this.__processIsOn()}setOnTotal(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OnTotal")),JSON.stringify(i)!==JSON.stringify(this.__onTotal)&&(this.__onTotal=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnTotal"]),this.__processOnTotal())}getOnTotal(){return this.__onTotal}setOffTotal(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("OffTotal")),JSON.stringify(i)!==JSON.stringify(this.__offTotal)&&(this.__offTotal=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffTotal"]),this.__processOffTotal())}getOffTotal(){return this.__offTotal}__processOnTotal(){!0===this.__showTotal&&void 0!==this.__onTotal&&void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&null!==this.__dayAlias&&(this.__elementTotalOn[0].innerHTML=this.__onAlias+": "+this.TimeSpanConverter(this.__onTotal,this.__showMilliSeconds,this.__dayAlias,!0))}__processOffTotal(){!0===this.__showTotal&&void 0!==this.__offTotal&&void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&null!==this.__dayAlias&&(this.__elementTotalOff[0].innerHTML=this.__offAlias+": "+this.TimeSpanConverter(this.__offTotal,this.__showMilliSeconds,this.__dayAlias,!0))}__processShowTotal(){!0===this.__showTotal?(this.__elementTotalOn.css("display","block"),this.__elementTotalOff.css("display","block")):(this.__elementTotalOn.css("display","none"),this.__elementTotalOff.css("display","none")),this.__processOnTotal(),this.__processOffTotal(),t.EventProvider.raise(`${this.__id}.onResized`,null)}__processColorGradient(){this.__processColor()}__processColor(){super.__processColor(),this.__elementSvgCircleInner.css("stroke",this.__controlColorDark),this.__elementSvgCircleOuter.css("stroke",this.__controlColorDark),this.__elementSvgDefs[0].innerHTML="";let t=[this.__minColorHex,this.__avgColorHex,this.__maxColorHex];for(var e=0;e<3;e++)this.__elementSvgCirclePart[e].setAttribute("fill",t[e]),this.__elementSvgCirclePart[e].setAttribute("opacity","0.4"),this.__elementSvgCirclePart[e].setAttribute("stroke","none"),this.__elementSvgCircleLine[e].setAttribute("stroke",t[e]),this.__elementSvgCircleLine[e].setAttribute("fill","none"),this.__elementSvgText[e].setAttribute("fill",t[e]),this.__elementSvgText[e+3].setAttribute("fill",t[e]),this.__elementSvgText[e+6].setAttribute("fill",t[e]);if(void 0!==this.__colorGradient){var i=this.__colorGradient/100;i<0&&(i*=-1),i>1&&(i=1),this.CreateRadialGradient("rgba(255,255,255,1)",this.__elementSvgDefs[0],this.__colorGradient,this.__radialGrad+this.__secureId,0,i,0),this.__elementSvgWholeCircle.css("fill","url(#"+this.__radialGrad+this.__secureId+")")}}DrawLabel(t,e,i,s){if(null==t||null==i)return;let n=this.TimeSpanConverter(t,e,i,!0).toString();if(this.__elementSvgText[s+3].setAttribute("visibility","hidden"),this.__elementSvgText[s+6].setAttribute("visibility","hidden"),n.includes(i)){for(var o=n.indexOf(i),_=o+1;_<o+i.length+2;_++)if(" "===n.substring(_,_+1)){o=_;break}this.__elementSvgText[s+3].textContent=n.substring(0,o).trim(),this.__elementSvgText[s+3].setAttribute("visibility","visible"),this.__elementSvgText[s+6].textContent=n.substring(o).trim(),this.__elementSvgText[s+6].setAttribute("visibility","visible")}else this.__elementSvgText[s+3].textContent=n,this.__elementSvgText[s+3].setAttribute("visibility","visible")}DrawCurrentInterval(t,e){var i=this.convertTimeSpan(t),s=this.convertTimeSpan(e);let n;n=i>s?s/i:1;let o=360*n;this.__elementSvgCircleOn[0].setAttribute("d",this.describeArc(130,130,65,0,o)),this.__elementSvgCircleOff[0].setAttribute("d",this.describeArc(130,130,65,o,360))}}e.EventTiming=i}(i=e.Analytics||(e.Analytics={})),e.registerEx("EventTiming","TcHmi.Controls.Analytics",i.EventTiming)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));