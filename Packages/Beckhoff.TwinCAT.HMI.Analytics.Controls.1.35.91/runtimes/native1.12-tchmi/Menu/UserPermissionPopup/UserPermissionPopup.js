var TcHmi;!function(e){let s,t,i,r;!function(s){let o;!function(s){class o extends e.Controls.System.TcHmiControl{constructor(e,t,i){super(e,t,i),this.__eventManager=new s.EventListenerManager,this.__currentUserGroups=[],this.__isOpen=!1,this.__hasUserGroupPermissions=!0,this.__selectedUserGroup="",this.__eventDestroyers=[],this.__defaultPermissionItems=[],this.__receivedContentsRaw="",this.originalContents=[],this.currentContents=[],this.receivedContents=[],this.__showAdvancedGroups=!1,this.__onResized=()=>()=>{},this.__saveAlias="",this.__undoAlias=""}__previnit(){super.__previnit(),this.__elTemplateRoot=this.__element.find(".tchmi-analytics-user-permission-popup-template"),this.__elPopupHeaderLabel=this.__element.find(".tchmi-analytics-user-permissions-popup-header-label"),this.__elUserGroupsContainer=this.__element.find(".tchmi-analytics-user-permission-popup-usergroups-container"),this.__elUserGroupsLabel=this.__element.find(".tchmi-analytics-user-permission-popup-usergroups-label"),this.__elPermissionsContainer=this.__element.find(".tchmi-analytics-user-permission-popup-permissions-container"),this.__elPermissionLabels=this.__element.find(".tchmi-analytics-user-permission-popup-permissions-selector-entry"),this.__elPermissionButtonContainer=this.__element.find(".tchmi-analytics-user-permission-popup-permissions-menu-container"),this.__elPermissionCloseBtn=this.__element[0].querySelector(".tchmi-analytics-user-permission-popup-close-button"),this.__elPermissionCloseBtn.backgroundPathColor="black",this.__eventManager.addEventListener(this.__elPermissionCloseBtn,"mousedown",()=>this.closePopup()),this.__createPermissionButtons()}__init(){super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||(this.__eventManager.removeEventListeners(),super.destroy())}setEditAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("EditAlias")),t!==this.__editAlias&&(this.__editAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getEditAlias"]),this.__processEditAlias())}getEditAlias(){return this.__editAlias}__processEditAlias(){this.__createPermissionComboboxItems()}setViewAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("ViewAlias")),t!==this.__viewAlias&&(this.__viewAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getViewAlias"]),this.__processViewAlias())}getViewAlias(){return this.__viewAlias}__processViewAlias(){this.__createPermissionComboboxItems()}setNoAccessAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("NoAccessAlias")),t!==this.__noAccessAlias&&(this.__noAccessAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getNoAccessAlias"]),this.__processNoAccessAlias())}getNoAccessAlias(){return this.__noAccessAlias}__processNoAccessAlias(){this.__createPermissionComboboxItems()}setUserGroupAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("UserGroupAlias")),t!==this.__userGroupAlias&&(this.__userGroupAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getUserGroupAlias"]),this.__processUserGroupAlias())}getUserGroupAlias(){return this.__userGroupAlias}__processUserGroupAlias(){null!=this.__elUserGroupsLabel&&(this.__elUserGroupsLabel[0].innerHTML=this.__userGroupAlias)}setContentPermissionAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("ContentPermissionAlias")),t!==this.__contentPermissionAlias&&(this.__contentPermissionAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getContentPermissionAlias"]),this.__processContentPermissionAlias())}getContentPermissionAlias(){return this.__contentPermissionAlias}__processContentPermissionAlias(){null!=this.__elPermissionLabels&&(this.__elPermissionLabels[0].innerHTML=this.__contentPermissionAlias)}setUserPermissionAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("UserPermissionAlias")),t!==this.__userPermissionAlias&&(this.__userPermissionAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getUserPermissionAlias"]),this.__processUserPermissionAlias())}getUserPermissionAlias(){return this.__userPermissionAlias}__processUserPermissionAlias(){null!=this.__elPopupHeaderLabel&&(this.__elPopupHeaderLabel[0].innerHTML=this.__userPermissionAlias)}setSourceManagerAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("SourceManagerAlias")),t!==this.__sourceManagerAlias&&(this.__sourceManagerAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getSourceManagerAlias"]),this.__processSourceManagerAlias())}getSourceManagerAlias(){return this.__sourceManagerAlias}__processSourceManagerAlias(){null!=this.__elPopupHeaderLabel&&(this.__elPopupHeaderLabel[0].innerHTML=this.__sourceManagerAlias)}setLayoutControllerAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("LayoutControllerAlias")),t!==this.__layoutControllerAlias&&(this.__layoutControllerAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLayoutControllerAlias"]),this.__processLayoutControllerAlias())}getLayoutControllerAlias(){return this.__layoutControllerAlias}__processLayoutControllerAlias(){null!=this.__elPopupHeaderLabel&&this.__elPopupHeaderLabel.length>0&&(this.__elPopupHeaderLabel[0].innerHTML=this.__layoutControllerAlias)}setSaveAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("SaveAlias")),t!==this.__saveAlias&&(this.__saveAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getSaveAlias"]),this.__processSaveAlias())}getSaveAlias(){return this.__saveAlias}__processSaveAlias(){const s=e.Controls.get(this.getId()+".StoreButton");null!=s&&s.setText(this.__saveAlias)}setUndoAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("UndoAlias")),t!==this.__undoAlias&&(this.__undoAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getUndoAlias"]),this.__processUndoAlias())}getUndoAlias(){return this.__undoAlias}__processUndoAlias(){const s=e.Controls.get(this.getId()+".UndoButton");null!=s&&s.setText(this.__undoAlias)}setReadingErrorAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("ReadingErrorAlias")),t!==this.__readingErrorAlias&&(this.__readingErrorAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getReadingErrorAlias"]),this.__processReadingErrorAlias())}getReadingErrorAlias(){return this.__readingErrorAlias}__processReadingErrorAlias(){}setAdvancedAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("AdvancedAlias")),t!==this.__advancedAlias&&(this.__advancedAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getAdvancedAlias"]),this.__processAdvancedAlias())}getAdvancedAlias(){return this.__advancedAlias}__processAdvancedAlias(){null!=this.__advancedGroupsSwitch&&this.__advancedGroupsSwitch.setText(this.__advancedAlias)}setStoreSuccessAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("StoreSuccessAlias")),t!==this.__storeSuccessAlias&&(this.__storeSuccessAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getStoreSuccessAlias"]),this.__processStoreSuccessAlias())}getStoreSuccessAlias(){return this.__storeSuccessAlias}__processStoreSuccessAlias(){}setStoreErrorAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("StoreErrorAlias")),t!==this.__storeErrorAlias&&(this.__storeErrorAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getStoreErrorAlias"]),this.__processStoreErrorAlias())}getStoreErrorAlias(){return this.__storeErrorAlias}__processStoreErrorAlias(){}setResetAlias(s){let t=e.ValueConverter.toString(s);null===t&&(t=this.getAttributeDefaultValueInternal("ResetAlias")),t!==this.__resetAlias&&(this.__resetAlias=t,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getResetAlias"]),this.__processResetAlias())}getResetAlias(){return this.__resetAlias}__processResetAlias(){}setDarkMode(s){let t=e.ValueConverter.toBoolean(s);null===t&&(t=this.getAttributeDefaultValueInternal("DarkMode")),t!==this.__darkMode&&(this.__darkMode=t,this.__processDarkMode(),e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDarkMode"]))}getDarkMode(){return this.__darkMode}__processDarkMode(){}__createPermissionButtons(){void 0===e.Controls.get(this.getId()+".AdvancedGroupsSwitch")&&(this.__advancedGroupsSwitch=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiToggleSwitch",this.getId()+".AdvancedGroupsSwitch",{},this),this.__advancedGroupsSwitch&&(this.__advancedGroupsSwitch.getElement()[0].classList.add("tchmi-analytics-user-permission-popup-permissions-menu"),this.__advancedGroupsSwitch.setText(this.__advancedAlias),this.__advancedGroupsSwitch.setToggleState("Normal"),this.__showAdvancedGroups=!1,this.__eventDestroyers.push(e.EventProvider.register(this.getId()+".AdvancedGroupsSwitch.onToggleStateChanged",()=>this.__changedAdvancedGroups())),this.__elPermissionButtonContainer.append(this.__advancedGroupsSwitch.getElement()[0]))),void 0===e.Controls.get(this.getId()+".StoreButton")&&(this.__storeButton=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.getId()+".StoreButton",{"data-tchmi-text":this.__saveAlias},this),this.__storeButton&&(this.__storeButton.getElement()[0].classList.add("tchmi-analytics-user-permission-popup-permissions-menu"),this.__eventDestroyers.push(e.EventProvider.register(this.getId()+".StoreButton.onPressed",()=>this.__safeUserGroupPermissions())),this.__elPermissionButtonContainer.append(this.__storeButton.getElement()[0]))),void 0===e.Controls.get(this.getId()+".UndoButton")&&(this.__undoButton=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.getId()+".UndoButton",{"data-tchmi-text":this.__undoAlias},this),this.__undoButton&&(this.__undoButton.getElement()[0].classList.add("tchmi-analytics-user-permission-popup-permissions-menu"),this.__eventDestroyers.push(e.EventProvider.register(this.getId()+".UndoButton.onPressed",()=>this.__onResetPressed())),this.__elPermissionButtonContainer.append(this.__undoButton.getElement()[0])))}openPopup(){this.__isOpen=!0,this.__darkMode?($(".tchmi-analytics-user-permission-popup").addClass("tchmi-analytics-user-permission-popup-dark"),$(".tchmi-analytics-user-permission-popup-usergroups-label").addClass("tchmi-analytics-user-permission-popup-usergroups-label-dark"),$(".tchmi-analytics-user-permission-popup-permissions-selector-entry").addClass("tchmi-analytics-user-permission-popup-permissions-selector-entry-dark")):($(".tchmi-analytics-user-permission-popup").removeClass("tchmi-analytics-user-permission-popup-dark"),$(".tchmi-analytics-user-permission-popup-usergroups-label").removeClass("tchmi-analytics-user-permission-popup-usergroups-label-dark"),$(".tchmi-analytics-user-permission-popup-permissions-selector-entry").removeClass("tchmi-analytics-user-permission-popup-permissions-selector-entry-dark")),this.__resetContent(),this.__selectedUserGroup="",this.requestContents(),this.__elTemplateRoot.css("display","block")}closePopup(){this.__isOpen=!1,this.__elTemplateRoot.css("display","none")}__onResetPressed(){this.createPopupFnct(this.__resetAlias,CustomElements.PopupStatus.INFO,5e3),this.__resetContent(),this.requestContents()}__resetContent(){this.__currentUserGroups=[],$(this.__elUserGroupsContainer).empty(),$(this.__elPermissionsContainer).empty()}__loadUserGroups(){const s=this;e.Server.UserManagement.listUserGroups((function(t){var i,r;if(t.error===e.Errors.NONE){s.__hasUserGroupPermissions=!0;for(let e in t.groupDetailsList){if(0==s.__showAdvancedGroups&&("__SystemAdministrators"==e||"__SystemGuests"==e||"__SystemUsers"==e||"__SystemMaintenanceUsers"==e))continue;let i=t.groupDetailsList[e];null==s.__currentUserGroups.find(s=>s==e)&&(s.__createUserGroupEntry(e,i),s.__currentUserGroups.push(e))}""!=s.__selectedUserGroup&&s.__currentUserGroups.find(e=>e==s.__selectedUserGroup)?s.__loadContentsForUserGroup(s.__selectedUserGroup):s.__currentUserGroups.length>=1&&s.__loadContentsForUserGroup(s.__currentUserGroups[0])}else{s.__hasUserGroupPermissions=!1;let e="Undefined error";(null===(r=null===(i=t.details)||void 0===i?void 0:i.errors)||void 0===r?void 0:r.length)>0&&(e=t.details.errors[0].reason),s.createPopupFnct(`${s.__readingErrorAlias} Error: ${e}`,CustomElements.PopupStatus.ALARM,5e3),console.error(`Cannot read user-groups from server. Error: ${e}`),s.closePopup()}}))}__createUserGroupEntry(e,s){const t=document.createElement("div");t.classList.add("tchmi-analytics-user-permission-popup-usergroups-entry-wrapper");const i=document.createElement("div");i.innerHTML=e,i.classList.add("tchmi-analytics-user-permission-popup-usergroups-entry"),this.__darkMode&&i.classList.add("tchmi-analytics-user-permission-popup-usergroups-entry-dark"),t.appendChild(i),this.__elUserGroupsContainer.append(t),this.__eventManager.addEventListener(t,"mousedown",()=>this.__loadContentsForUserGroup(e))}__loadContentsForUserGroup(e){const s=this.__element.find(".tchmi-analytics-user-permission-popup-usergroups-entry");s.removeClass("tchmi-analytics-user-permission-popup-usergroups-entry-selected");for(let t=0;t<s.length;t++)if(s[t].innerHTML==e){s[t].classList.add("tchmi-analytics-user-permission-popup-usergroups-entry-selected");break}this.__selectedUserGroup=e,$(this.__elPermissionsContainer).empty();for(const e of this.currentContents)this.__createContentEntriesRecursive(e,this.__elPermissionsContainer[0])}__createContentEntriesRecursive(e,s){var t;let i=null;if(""!=e.page&&""!=e.name){let n=null===(t=e.accessRight)||void 0===t?void 0:t.filter(e=>e.group==this.__selectedUserGroup);i=this.__createContentEntry(e.name,this.__getAnalyticsPermission(n),s),null==n&&this.__setPermissionEntry(this.findCurrentContent(e.name),r.Viewer)}if(null!=e.children&&e.children.length>0){null==i&&(i=s);for(const s of e.children)this.__createContentEntriesRecursive(s,i)}}__getAnalyticsPermission(e){let s=r.Viewer;if(null!=e){if(e.some(e=>e.accessright==t.operate&&e.permission==i.allow))return r.Editor;if(!e.some(e=>e.accessright==t.observe&&e.permission==i.allow)&&e.some(e=>e.accessright==t.observe&&e.permission==i.deny))return r.NoAccess}return s}__processReceivedContents(){if(""!=this.__receivedContentsRaw){let e=JSON.parse(this.__receivedContentsRaw);null!=e&&null!=e.contentPermissions&&(this.receivedContents=e.contentPermissions);for(const e of this.receivedContents)this.__compareContentsRecursive(e)}this.__isOpen&&this.__loadUserGroups(),e.EventProvider.raise(`${this.__id}.onContentsReceived`)}__compareContentsRecursive(e){const s=this.findCurrentContent(e.name);if(null!=s&&(s.accessRight=JSON.parse(JSON.stringify(e.accessRight))),null!=e.children)for(const s of e.children)this.__compareContentsRecursive(s)}__createContentEntry(e,s=r.NoAccess,t){const i=document.createElement("ul");i.classList.add("tchmi-analytics-user-permission-popup-permissions-entry");const n=this.__createTextblock(e),o=this.__createCombobox(e);return this.__setComboboxIndex(o,s),i.appendChild(n.getElement()[0]),i.appendChild(o.getElement()[0]),t.append(i),i}__createTextblock(s){let t=e.Controls.get(`${s}.Label`);return null==t&&(t=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiTextblock",`${s}.Label`,{"data-tchmi-text":s},this),t&&t.getElement()[0].classList.add("tchmi-analytics-user-permission-popup-permission-label")),t}__createCombobox(s){let t=e.Controls.get(`${s}.PermissionSelector`);return null==t&&(t=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiCombobox",`${s}.PermissionSelector`,{},this),t&&(t.getElement()[0].classList.add("tchmi-analytics-user-permission-popup-permission-select"),t.setSrcData(this.__defaultPermissionItems),this.__eventDestroyers.push(e.EventProvider.register(`${s}.PermissionSelector.onSelectionChanged`,()=>this.__onPermissionChanged(s))))),t}__setComboboxIndex(e,s){const t=this.__defaultPermissionItems.find(e=>e.id==s);e.setSelectedIndex(this.__defaultPermissionItems.indexOf(t))}__getComboboxIndex(e){const s=e.getSelectedValue();return r[s]}__createPermissionComboboxItems(){this.__defaultPermissionItems=[];const e={};e.id=r.Editor,e.value=r[r.Editor],e.text=this.__editAlias,this.__defaultPermissionItems.push(e);const s={};s.id=r.Viewer,s.value=r[r.Viewer],s.text=this.__viewAlias,this.__defaultPermissionItems.push(s);const t={};t.id=r.NoAccess,t.value=r[r.NoAccess],t.text=this.__noAccessAlias,this.__defaultPermissionItems.push(t)}__onPermissionChanged(e){const s=this.__getContentPermission(e);if(s==r.NoAccess){let s=this.findCurrentContent(e);null!=s&&this.__setContentPermissionRecursive(s)}this.__setPermissionEntry(this.findCurrentContent(e),s)}__getContentPermission(s){const t=e.Controls.get(`${s}.PermissionSelector`);return null!=t?this.__getComboboxIndex(t):r.Editor}__setContentPermissionRecursive(s){if(null!=s.children)for(const t of s.children){const s=e.Controls.get(`${t.name}.PermissionSelector`);null!=s?this.__setComboboxIndex(s,r.NoAccess):this.__setContentPermissionRecursive(t)}}__setPermissionEntry(e,s){var n;if(null!=e){null==e.accessRight&&(e.accessRight=[]);let o=null===(n=e.accessRight)||void 0===n?void 0:n.filter(e=>e.group==this.__selectedUserGroup);if(null!=o)for(const s of o)e.accessRight.splice(e.accessRight.indexOf(s),1);switch(s){case r.Editor:e.accessRight.push(this.__addAccessRights(t.operate,i.allow)),e.accessRight.push(this.__addAccessRights(t.observe,i.allow));break;case r.Viewer:e.accessRight.push(this.__addAccessRights(t.observe,i.allow));break;case r.NoAccess:e.accessRight.push(this.__addAccessRights(t.operate,i.deny)),e.accessRight.push(this.__addAccessRights(t.observe,i.deny))}}}__addAccessRights(e,s){let t={};return t.group=this.__selectedUserGroup,t.accessright=e,t.permission=s,t}findCurrentContent(e){for(const s of this.currentContents){const t=this.__findContentRecursive(s,e);if(null!=t)return t}return null}findReceivedContent(e){for(const s of this.receivedContents){const t=this.__findContentRecursive(s,e);if(null!=t)return t}return null}__findContentRecursive(e,s){if(e.name==s||e.page==s)return e;if(null!=e.children)for(let t=0;t<e.children.length;t++){const i=this.__findContentRecursive(e.children[t],s);if(null!=i)return i}return null}__changedAdvancedGroups(){null!=this.__advancedGroupsSwitch&&("Active"==this.__advancedGroupsSwitch.getToggleState()?this.__showAdvancedGroups=!0:this.__showAdvancedGroups=!1,this.__resetContent(),this.__loadUserGroups())}requestContents(){let e=new s.UserDataStoreCmd;e.tableName="ContentPermissionStore",e.cmdType=s.I_SE_TableCmdType.GET,e.cmdData="AnalyticsDefault";const t={requestType:"ReadWrite",commands:[{symbol:"TcHmiAnalytics.GetUserData",readValue:"",writeValue:JSON.stringify(e),commandOptions:["SendErrorMessage","SendWriteValue"]}]};this.__requestExSymbol(t)}__safeUserGroupPermissions(){const t=new n;t.userGroupName="AnalyticsDefault",t.contentPermissions=this.__getStoreLayout();let i=new s.UserDataStoreCmd;i.tableName="ContentPermissionStore",i.cmdType=s.I_SE_TableCmdType.SET,i.cmdData=JSON.stringify(t);const r={requestType:"ReadWrite",commands:[{symbol:"TcHmiAnalytics.SetUserData",readValue:"",writeValue:JSON.stringify(i),commandOptions:["SendErrorMessage","SendWriteValue"]}]};this.__requestExSymbol(r),e.EventProvider.raise(`${this.__id}.onPermissionsChanged`)}__getStoreLayout(){for(let e of this.currentContents)e=this.__getStoreLayoutRecursive(e);return this.currentContents}__getStoreLayoutRecursive(e){null==e.accessRight&&(e.accessRight=[]);const s=e.accessRight.filter(e=>e.group==this.__selectedUserGroup),t=this.findReceivedContent(e.name);if(null!=t&&(e.accessRight=t.accessRight,null!=e.accessRight?e.accessRight=e.accessRight.filter(e=>!(e.group==this.__selectedUserGroup)):e.accessRight=[],null!=s&&s.length>0&&e.accessRight.push(...s),null!=e.children))for(let s of e.children)s=this.__getStoreLayoutRecursive(s);return e}__requestExSymbol(s){let t=this;e.Server.isWebsocketReady()?e.Server.request(s,(function(s){var i=s.response;i&&void 0===i.error||console.log("Error with server-extension communication");var r=i.commands;void 0===r&&console.error("Commands undefined");for(var n=0,o=r.length;n<o;n++){var a=r[n];if("TcHmiAnalytics.SetUserData"===a.symbol){"Stored key successfully"===String(a.readValue)?t.createPopupFnct(t.__storeSuccessAlias,CustomElements.PopupStatus.OK,5e3):(t.createPopupFnct(t.__storeErrorAlias,CustomElements.PopupStatus.ALARM,5e3),console.error("Error set Key-Value-Pair"))}else if("TcHmiAnalytics.GetUserData"===a.symbol){let e=String(a.readValue);""==e&&(t.currentContents=JSON.parse(JSON.stringify(t.originalContents))),"Error get Key-Value-Pair"!=e&&(t.__receivedContentsRaw=e,t.__processReceivedContents())}void 0!==a.error&&console.log("error with server-extension command"),e.Log.debug(a.symbol+"="+a.readValue)}})):console.error("No request send, because websocket connection not ready!")}}s.UserPermissionPopup=o}(o=s.Analytics||(s.Analytics={}))}(s=e.Controls||(e.Controls={}));class n{constructor(){this.contentPermissions=[]}}e.UserPermissionsEntry=n,function(e){e.observe="observe",e.operate="operate"}(t=e.AccessRight||(e.AccessRight={})),function(e){e.allow="Allow",e.deny="Deny"}(i=e.Permission||(e.Permission={})),function(e){e[e.Editor=0]="Editor",e[e.Viewer=10]="Viewer",e[e.NoAccess=20]="NoAccess"}(r=e.AnalyticsContentPermission||(e.AnalyticsContentPermission={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("UserPermissionPopup","TcHmi.Controls.Analytics",TcHmi.Controls.Analytics.UserPermissionPopup);