var TcHmi;!function(t){!function(e){!function(e){class i extends t.Controls.Analytics.AnalyticsControl{constructor(t,i,s){super(t,i,s),this.__onResized=()=>(t,i)=>{const s=super.__onResizedBase(t,i);if(null===s)return;let n;this.__resetAutoSize(),n=1==this.__showMilliSeconds?10:12,this.__elLastEventContainer.css("font-size",e.Str.px(n*s.default)),this.__drawValue()}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=150,this.__defaultHeight=150,this.__lastEvent=e.DCTimestruct.fromDate(new Date),this.__elValueContainer=this.__elementTemplateRoot.find(".tchmi-single-value-value-container"),this.__elValue=this.__elValueContainer.find(".tchmi-single-value-value"),this.__elLastEventContainer=this.__elementTemplateRoot.find(".tchmi-single-value-last-event-container"),this.__elLastEventAlias=this.__elLastEventContainer.find(".tchmi-single-value-last-event-alias"),this.__elLastEvent=this.__elLastEventContainer.find(".tchmi-single-value-last-event"))}__init(){let t=[new e.Property(this,"Unit","Unit",e.E_DataType.STRING),new e.Property(this,"ShowLastEvent","Show Last Event",e.E_DataType.BOOLEAN),new e.Property(this,"ShowMilliSeconds","Show Milliseconds",e.E_DataType.BOOLEAN),new e.Property(this,"TextHorizontalAlign","Text Horizontal Align",e.E_DataType.COMBOBOX,{comboBoxOptions:[{value:"Left",displayName:"Left"},{value:"Center",displayName:"Center"},{value:"Right",displayName:"Right"}]}),new e.Property(this,"TextVerticalAlign","Text Vertical Align",e.E_DataType.COMBOBOX,{comboBoxOptions:[{value:"Top",displayName:"Top"},{value:"Center",displayName:"Center"},{value:"Bottom",displayName:"Bottom"}]})];super.setEditableProperties(t),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setValue(e){let i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("Value")),i!==this.__value&&(this.__value=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValue"]),this.__processValue())}getValue(){return this.__value}__processValue(){this.__drawValue()}setUnit(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("Unit")),i!==this.__unit&&(this.__unit=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getUnit"]),this.__processUnit())}getUnit(){return this.__unit}__processUnit(){this.__resetAutoSize(),this.__drawValue()}setShowLastEvent(e){var i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showLastEvent&&(this.__showLastEvent=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowLastEvent"]),this.__processShowLastEvent()):i=this.getAttributeDefaultValueInternal("ShowLastEvent")}getShowLastEvent(){return this.__showLastEvent}__processShowLastEvent(){this.__showLastEvent?this.__elLastEventContainer.css("display","block"):this.__elLastEventContainer.css("display","none"),t.EventProvider.raise(this.__id+".onResized")}setLastEvent(i){var s=Object.assign(new e.DCTimestruct,i);null===s&&(s=Object.assign(new e.DCTimestruct,this.getAttributeDefaultValueInternal("LastEvent"))),s.getTime()!==this.__lastEvent.getTime()&&(this.__lastEvent=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastEvent"]),this.__processLastEvent())}getLastEvent(){return this.__lastEvent}__processLastEvent(){null!=this.__lastEvent&&(this.__lastEvent.showMilliseconds=this.__showMilliSeconds),this.__drawLastEvent()}setShowMilliSeconds(e){var i=t.ValueConverter.toBoolean(e);null===i&&(i=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),i!==this.__showMilliSeconds&&(this.__showMilliSeconds=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){null!=this.__lastEvent&&(this.__lastEvent.showMilliseconds=this.__showMilliSeconds),this.__drawLastEvent(),t.EventProvider.raise(this.__id+".onResized",null)}setTextHorizontalAlign(e){let i=t.ValueConverter.toHorizontalAlignment(e);null===i&&(i=this.getAttributeDefaultValueInternal("TextHorizontalAlign")),i!==this.__textHorizontalAlign&&(this.__textHorizontalAlign=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTextHorizontalAlign"]),this.__processTextHorizontalAlign())}getTextHorizontalAlign(){return this.__textHorizontalAlign}__processTextHorizontalAlign(){t.StyleProvider.processContentHorizontalAlignment(this.__elValueContainer,this.__textHorizontalAlign),this.__resetAutoSize()}setTextVerticalAlign(e){let i=t.ValueConverter.toVerticalAlignment(e);null===i&&(i=this.getAttributeDefaultValueInternal("TextVerticalAlign")),i!==this.__textVerticalAlign&&(this.__textVerticalAlign=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTextVerticalAlign"]),this.__processTextVerticalAlign())}getTextVerticalAlign(){return this.__textVerticalAlign}__processTextVerticalAlign(){t.StyleProvider.processContentVerticalAlignment(this.__elValueContainer,this.__textVerticalAlign),this.__resetAutoSize()}setMonthAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MonthAlias")),i!==this.__monthAlias&&(this.__monthAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMonthAlias"]),this.__processMonthAlias())}getMonthAlias(){return this.__monthAlias}__processMonthAlias(){e.DCTimestruct.monthAlias=this.__monthAlias,this.__drawLastEventAlias()}setLastEventAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("LastEventAlias")),i!==this.__lastEventAlias&&(this.__lastEventAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastEventAlias"]),this.__processLastEventAlias())}getLastEventAlias(){return this.__lastEventAlias}__processLastEventAlias(){this.__drawLastEventAlias()}__drawValue(){this.__elValue[0].innerHTML=this.getTrimmedValueWithUnit(this.__value,this.__unit,this.__monthAlias),this.__autoSize(this.__elValueContainer[0],this.__elValue[0],["fontSize"],{max:800})}__drawLastEventAlias(){this.__elLastEventAlias.html(`${this.__lastEventAlias}:`)}__drawLastEvent(){this.__elLastEvent.html(this.__lastEvent.toString())}__processColorGradient(){super.__processColorGradient(),this.__processColor()}__processColor(){super.__processColor(),void 0!==this.__colorGradient&&(0!==this.__colorGradient?this.__elValue.css("text-shadow",this.__controlColorDark+" -3px 3px 3px"):this.__elValue.css("text-shadow","none")),this.__elValue.css("fill",this.__fontColor)}__processAmountDecimals(){super.__processAmountDecimals(),this.__drawValue()}}e.SingleValue=i}(e.Analytics||(e.Analytics={}))}(t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("SingleValue","TcHmi.Controls.Analytics",TcHmi.Controls.Analytics.SingleValue);