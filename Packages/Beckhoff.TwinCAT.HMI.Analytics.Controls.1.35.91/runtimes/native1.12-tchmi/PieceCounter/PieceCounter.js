var TcHmi;!function(t){let e;!function(e){let i;!function(e){class i extends t.Controls.Analytics.AnalyticsControl{constructor(t,e,i){super(t,e,i),this.__radialGrad="radialGradPieceCounter",this.__onResized=()=>(t,e)=>{let i=super.__getScaleFactor(!0);if(0==this.__hasLicense)return;let s=this.__defaultHeight+18-this.__elementNameAlias[0].clientHeight;0==this.__showIntervalTime&&(s+=30),0==this.__showMinMaxTimes&&(s+=40);var n=s/this.__defaultHeight;i=this.__getFontScaleFactor(void 0,s)*n,this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementSvgContainer.css("margin-top",15*i),this.__elementSvgContainer.css("height",160*i),this.__elementSvgClock.css("height",150*i),this.__elementSvgClock.css("width",150*i),this.__elementSvgCountChart.css("height",150*i),this.__elementSvgCountChart.css("width",150*i),this.__elementNumIntervals.css("font-size",14*i),this.__elementNumIntervals.css("padding-top",15*i),this.__elementIntervalTime.css("font-size",14*i),this.__elementIntervalTime.css("padding-top",5*i),this.__elementIntervalTime.css("padding-bottom",5*i),this.__elementMinMaxTimes.css("font-size",12*i),this.__elementTimeCountMin.css("padding-top",5*i),this.__elementTimeCountMax.css("padding-top",5*i),!1===this.__showMinMaxTimes?this.__elementIntervalTime.css("margin-top",10*i):(this.__elementIntervalTime.css("margin-top",0*i),this.__elementSvgContainer.css("margin-bottom",0*i))}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=310,this.__configIntervalTimeTimeSpan=[],this.__elementSvgContainer=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-container"),this.__elementSvgClock=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-clock"),this.__elementSvgClockDefs=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-clock-defs"),this.__elementSvgClockFullCycle=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-full-circle"),this.__elementSvgClockElapsedCycle=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-elapsed-circle"),this.__elementNumIntervals=this.__elementTemplateRoot.find(".tchmi-piece-counter-num-intervals"),this.__elementSvgCountChart=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart"),this.__elementSvgCountChartLine=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-line"),this.__elementSvgCountChartLineMin=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-min"),this.__elementSvgCountChartLineMax=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-max"),this.__elementSvgCountChartLineLast=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-last"),this.__elementSvgCountChartLineCur=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-cur"),this.__elementSvgCountChartTextMin=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-min-text"),this.__elementSvgCountChartTextMax=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-max-text"),this.__elementSvgCountChartTextLast=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-last-text"),this.__elementSvgCountChartTextCur=this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-count-chart-cur-text"),this.__elementIntervalTime=this.__elementTemplateRoot.find(".tchmi-piece-counter-interval-time"),this.__elementMinMaxTimes=this.__elementTemplateRoot.find(".tchmi-piece-counter-min-max-times"),this.__elementTimeCountMin=this.__elementTemplateRoot.find(".tchmi-piece-counter-min-time"),this.__elementTimeCountMax=this.__elementTemplateRoot.find(".tchmi-piece-counter-max-time"))}__init(){let t=[new e.Property(this,"ClockColor","Clock Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"ShowIntervalTime","Show Intervaltime",e.E_DataType.BOOLEAN),new e.Property(this,"ShowMinMaxTimes","Show Min-Max Times",e.E_DataType.BOOLEAN),new e.Property(this,"ShowMilliSeconds","Show Milliseconds",e.E_DataType.BOOLEAN)];super.setEditableProperties(t),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setMonthAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MonthAlias")),i!==this.__monthAlias&&(this.__monthAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMonthAlias"]),this.__processMonthAlias())}getMonthAlias(){return this.__monthAlias}__processMonthAlias(){e.DCTimestruct.monthAlias=this.__monthAlias,this.__processTimeCountMin(),this.__processTimeCountMax()}setMinAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MinAlias")),i!==this.__minAlias&&(this.__minAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMinAlias"]),this.__processMinAlias())}getMinAlias(){return this.__minAlias}__processMinAlias(){this.__processCounts(),this.__processTimeCountMin()}setMaxAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MaxAlias")),i!==this.__maxAlias&&(this.__maxAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMaxAlias"]),this.__processMaxAlias())}getMaxAlias(){return this.__maxAlias}__processMaxAlias(){this.__processCounts(),this.__processTimeCountMax()}setCurAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("CurAlias")),i!==this.__minAlias&&(this.__curAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurAlias"]),this.__processCurAlias())}getCurAlias(){return this.__curAlias}__processCurAlias(){this.__processCounts()}setLastAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("LastAlias")),i!==this.__lastAlias&&(this.__lastAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastAlias"]),this.__processLastAlias())}getLastAlias(){return this.__lastAlias}__processLastAlias(){this.__processCounts()}setNumIntervalsAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("NumIntervalsAlias")),i!==this.__numIntervalsAlias&&(this.__numIntervalsAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getNumIntervalsAlias"]),this.__processNumIntervalsAlias())}getNumIntervalsAlias(){return this.__numIntervalsAlias}__processNumIntervalsAlias(){this.__processNumIntervals()}setIntervalTimeAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("IntervalTimeAlias")),i!==this.__intervalTimeAlias&&(this.__intervalTimeAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getIntervalTimeAlias"]),this.__processIntervalTimeAlias())}getIntervalTimeAlias(){return this.__intervalTimeAlias}__processIntervalTimeAlias(){this.__processConfigIntervalTime()}setDayAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("DayAlias")),i!==this.__dayAlias&&(this.__dayAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getDayAlias"]),this.__processDayAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getDayAlias(){return this.__dayAlias}__processDayAlias(){this.__processConfigIntervalTime()}setClockColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("ClockColor")),i!==this.__clockColor&&(this.__clockColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getClockColor"]),this.__processClockColor())}getClockColor(){return this.__clockColor}__processClockColor(){this.__processColor()}setExecutingInterval(e){var i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__executingInterval&&(this.__executingInterval=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getExecutingInterval"]),this.__processExecutingInterval()):i=this.getAttributeDefaultValueInternal("ExecutingInterval")}getExecutingInterval(){return this.__executingInterval}__processExecutingInterval(){this.__processColor()}setCurrentInterval(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("CurrentInterval")),JSON.stringify(i)!==JSON.stringify(this.__currentInterval)&&(this.__currentInterval=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrentInterval"]),this.__processConfigIntervalTime())}getCurrentInterval(){return this.__currentInterval}setNumIntervals(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("NumIntervals")),i!==this.__numIntervals&&(this.__numIntervals=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getNumIntervals"]),this.__processNumIntervals())}getNumIntervals(){return this.__numIntervals}__processNumIntervals(){this.__elementNumIntervals.text(this.__numIntervalsAlias+": "+this.__numIntervals)}setCountCurrent(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("CountCurrent")),i!==this.__countCurrent&&(this.__countCurrent=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountCurrent"]),this.__processCountCurrent())}getCountCurrent(){return this.__countCurrent}__processCountCurrent(){this.__processCounts()}setCountMin(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("CountMin")),i!==this.__countMin&&(this.__countMin=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountMin"]),this.__processCountMin())}getCountMin(){return this.__countMin}__processCountMin(){this.__processCounts()}setCountMax(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("CountMax")),i!==this.__countMax&&(this.__countMax=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountMax"]),this.__processCountMax())}getCountMax(){return this.__countMax}__processCountMax(){this.__processCounts()}setCountLast(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("CountLast")),i!==this.__countLast&&(this.__countLast=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountLast"]),this.__processCountLast())}getCountLast(){return this.__countLast}__processCountLast(){this.__processCounts()}getConfigIntervalTime(){return this.__configIntervalTime}setConfigIntervalTime(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("ConfigIntervalTime")),i!==this.__configIntervalTime&&(this.__configIntervalTime=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getConfigIntervalTime"]),this.__processConfigIntervalTime())}__processConfigIntervalTime2(){var t=this.__parseISO8601Timespan(this.__configIntervalTime);this.__configIntervalTimeTimeSpan.wDays=t.days+7*t.weeks+30*t.months+365*t.years,this.__configIntervalTimeTimeSpan.wHours=t.hours,this.__configIntervalTimeTimeSpan.wMinutes=t.minutes,this.__configIntervalTimeTimeSpan.wSeconds=Math.floor(t.seconds),this.__configIntervalTimeTimeSpan.wMilliseconds=Math.round(t.seconds%1*1e3),this.__configIntervalTimeTimeSpan.wMicroseconds=0,this.__configIntervalTimeTimeSpan.wNanoseconds=0,this.__processCurrentInterval()}__parseISO8601Timespan(e){var i=e.match(/(-)?P(?:([.,\d]+)Y)?(?:([.,\d]+)M)?(?:([.,\d]+)W)?(?:([.,\d]+)D)?T(?:([.,\d]+)H)?(?:([.,\d]+)M)?(?:([.,\d]+)S)?/);return{sign:void 0===i[1]?"+":"-",years:void 0===i[2]?0:t.ValueConverter.toNumber(i[2]),months:void 0===i[3]?0:t.ValueConverter.toNumber(i[3]),weeks:void 0===i[4]?0:t.ValueConverter.toNumber(i[4]),days:void 0===i[5]?0:t.ValueConverter.toNumber(i[5]),hours:void 0===i[6]?0:t.ValueConverter.toNumber(i[6]),minutes:void 0===i[7]?0:t.ValueConverter.toNumber(i[7]),seconds:void 0===i[8]?0:t.ValueConverter.toNumber(i[8])}}__processConfigIntervalTime(){if(null!==this.__showMilliSeconds&&null!==this.__dayAlias&&null!==this.__intervalTimeAlias&&null!==this.__configIntervalTime&&void 0!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&void 0!==this.__intervalTimeAlias&&void 0!==this.__configIntervalTime){let s=this.__configIntervalTime.replace("LTIME#","").replace("PT","").match(/[a-z]+|[^a-z]+/gi);if(null!=s){var e=0;for(let t=0;t<s.length;t+=1){if(/\d/g.test(s[t])){e=t+1;break}}for(let i=e;i<s.length;i+=2)"d"===s[i].toLowerCase()&&(this.__configIntervalTimeTimeSpan.wDays=t.ValueConverter.toNumber(s[i-1])),"h"===s[i].toLowerCase()&&(this.__configIntervalTimeTimeSpan.wHours=t.ValueConverter.toNumber(s[i-1])),"m"===s[i].toLowerCase()&&(this.__configIntervalTimeTimeSpan.wMinutes=t.ValueConverter.toNumber(s[i-1])),"s"===s[i].toLowerCase()&&(this.__configIntervalTimeTimeSpan.wSeconds=t.ValueConverter.toNumber(s[i-1])),"ms"===s[i].toLowerCase()&&(this.__configIntervalTimeTimeSpan.wMilliseconds=t.ValueConverter.toNumber(s[i-1]));if(this.__configIntervalTimeTimeSpan.wMilliseconds>=1e3){var i=this.__configIntervalTimeTimeSpan.wMilliseconds/1e3;this.__configIntervalTimeTimeSpan.wSeconds=this.__configIntervalTimeTimeSpan.wSeconds+i,this.__configIntervalTimeTimeSpan.wMilliseconds=this.__configIntervalTimeTimeSpan.wMilliseconds%1e3}if(this.__configIntervalTimeTimeSpan.wSeconds>=60){i=this.__configIntervalTimeTimeSpan.wSeconds/60;this.__configIntervalTimeTimeSpan.wMinutes=this.__configIntervalTimeTimeSpan.wMinutes+i,this.__configIntervalTimeTimeSpan.wSeconds=this.__configIntervalTimeTimeSpan.wSeconds%60}if(this.__configIntervalTimeTimeSpan.wMinutes>=60){i=this.__configIntervalTimeTimeSpan.wMinutes/60;this.__configIntervalTimeTimeSpan.wHours=this.__configIntervalTimeTimeSpan.wHours+i,this.__configIntervalTimeTimeSpan.wMinutes=this.__configIntervalTimeTimeSpan.wMinutes%60}if(this.__configIntervalTimeTimeSpan.wHours>=24){i=this.__configIntervalTimeTimeSpan.wHours/24;this.__configIntervalTimeTimeSpan.wDays=this.__configIntervalTimeTimeSpan.wDays+i,this.__configIntervalTimeTimeSpan.wHours=this.__configIntervalTimeTimeSpan.wHours%24}}}void 0===this.__configIntervalTimeTimeSpan.wDays&&(this.__configIntervalTimeTimeSpan.wDays=0),void 0===this.__configIntervalTimeTimeSpan.wHours&&(this.__configIntervalTimeTimeSpan.wHours=0),void 0===this.__configIntervalTimeTimeSpan.wMinutes&&(this.__configIntervalTimeTimeSpan.wMinutes=0),void 0===this.__configIntervalTimeTimeSpan.wSeconds&&(this.__configIntervalTimeTimeSpan.wSeconds=0),void 0===this.__configIntervalTimeTimeSpan.wMilliseconds&&(this.__configIntervalTimeTimeSpan.wMilliseconds=0),this.__configIntervalTimeTimeSpan.wNanoseconds=0,this.__configIntervalTimeTimeSpan.wMicroseconds=0,this.__processCurrentInterval()}__processCounts(){void 0!==this.__countCurrent&&void 0!==this.__countLast&&void 0!==this.__countMin&&void 0!==this.__countMax&&void 0!==this.__minAlias&&void 0!==this.__maxAlias&&void 0!==this.__curAlias&&void 0!==this.__lastAlias&&null!==this.__countCurrent&&null!==this.__countLast&&null!==this.__countMin&&null!==this.__countMax&&null!==this.__minAlias&&null!==this.__maxAlias&&null!==this.__curAlias&&null!==this.__lastAlias&&this.DrawPieceCounterChart(this.__countCurrent,this.__countLast,this.__countMin,this.__countMax,this.__minAlias,this.__maxAlias,this.__curAlias,this.__lastAlias)}setShowMilliSeconds(e){var i=t.ValueConverter.toBoolean(e);null===i&&(i=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),i!==this.__showMilliSeconds&&(this.__showMilliSeconds=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){this.__processTimeCountMax(),this.__processTimeCountMin(),this.__processConfigIntervalTime()}setShowIntervalTime(e){var i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showIntervalTime&&(this.__showIntervalTime=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowIntervalTime"]),this.__processShowIntervalTime()):i=this.getAttributeDefaultValueInternal("ShowIntervalTime")}getShowIntervalTime(){return this.__showIntervalTime}__processShowIntervalTime(){!0===this.__showIntervalTime?(this.__elementIntervalTime.css("display","block"),this.__processConfigIntervalTime()):this.__elementIntervalTime.css("display","none"),t.EventProvider.raise(`${this.__id}.onResized`,null)}setShowMinMaxTimes(e){var i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showMinMaxTimes&&(this.__showMinMaxTimes=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMinMaxTimes"]),this.__processShowMinMaxTimes()):i=this.getAttributeDefaultValueInternal("ShowMinMaxTimes")}getShowMinMaxTimes(){return this.__showMinMaxTimes}setTimeCountMin(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("TimeCountMin")),JSON.stringify(i)!==JSON.stringify(this.__timeCountMin)&&(this.__timeCountMin=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTimeCountMin"]),this.__processTimeCountMin())}getTimeCountMin(){return this.__timeCountMin}setTimeCountMax(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("CountMax")),JSON.stringify(i)!==JSON.stringify(this.__timeCountMax)&&(this.__timeCountMax=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTimeCountMax"]),this.__processTimeCountMax())}getTimeCountMax(){return this.__timeCountMax}__processShowMinMaxTimes(){!0===this.__showMinMaxTimes?this.__elementMinMaxTimes.css("display","block"):this.__elementMinMaxTimes.css("display","none"),t.EventProvider.raise(`${this.__id}.onResized`,null)}__processTimeCountMin(){void 0!==this.__timeCountMin&&void 0!==this.__monthAlias&&null!==this.__monthAlias&&void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&(this.__elementTimeCountMin[0].innerHTML=this.__minAlias+": &nbsp"+this.DateTimeConverter(this.__timeCountMin,this.__monthAlias,this.__showMilliSeconds))}__processTimeCountMax(){void 0!==this.__timeCountMax&&void 0!==this.__monthAlias&&null!==this.__monthAlias&&void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&(this.__elementTimeCountMax[0].innerHTML=this.__maxAlias+": "+this.DateTimeConverter(this.__timeCountMax,this.__monthAlias,this.__showMilliSeconds))}__processColorGradient(){this.__processColor()}__processColor(){if(this.__isAttached){if(super.__processColor(),this.__elementSvgClockDefs[0].innerHTML="",void 0!==this.__colorGradient){var t=this.__colorGradient/100;t<0&&(t*=-1),t>1&&(t=1),this.CreateRadialGradient("rgba(255,255,255,1)",this.__elementSvgClockDefs[0],this.__colorGradient,this.__radialGrad+this.__secureId,0,t,0),this.__elementTemplateRoot.find(".tchmi-piece-counter-svg-gradient-circle").css("fill","url(#"+this.__radialGrad+this.__secureId)}this.__elementSvgClockFullCycle.css("fill",this.__controlChartColor),1==this.__executingInterval?this.__elementSvgClockElapsedCycle.css("fill",this.__clockColor.color):this.__elementSvgClockElapsedCycle.css("fill",this.__controlColorMiddle),this.__elementSvgClockFullCycle.css("stroke",this.__controlColorDark),this.__elementSvgClockElapsedCycle.css("stroke","none"),this.__elementSvgCountChartLine.css("stroke",this.__controlColorDark),this.__elementSvgCountChartLineMin.css("stroke",this.__controlColorDark),this.__elementSvgCountChartLineMax.css("stroke",this.__controlColorDark),this.__elementSvgCountChartTextMin.css("fill",this.__controlColorDark),this.__elementSvgCountChartTextMax.css("fill",this.__controlColorDark),this.__elementSvgCountChartLineLast.css("stroke",this.__controlColorLight),this.__elementSvgCountChartTextLast.css("fill",this.__controlColorLight),this.__elementSvgCountChartLineCur.css("stroke","#009900"),this.__elementSvgCountChartTextCur.css("fill","#009900")}}__processCurrentInterval(){if(void 0!==this.__configIntervalTimeTimeSpan&&void 0!==this.__currentInterval&&null!==this.__configIntervalTimeTimeSpan&&null!==this.__currentInterval){let t=this.__subTimeSpans(this.__configIntervalTimeTimeSpan,this.__currentInterval);void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&null!==this.__dayAlias&&this.__elementIntervalTime.text(this.__intervalTimeAlias+": "+this.TimeSpanConverter(t,this.__showMilliSeconds,this.__dayAlias,!1)),this.DrawClockPieceCounter(this.__currentInterval,this.__configIntervalTimeTimeSpan)}}__subTimeSpans(t,e){let i,s=0;var n={wDays:0,wHours:0,wMinutes:0,wSeconds:0,wMilliseconds:0,wMicroseconds:0,wNanoseconds:0};return i=n.wMilliseconds=t.wMilliseconds-e.wMilliseconds-s,i<0?(n.wMilliseconds+=1e3,s=1):s=0,i=n.wSeconds=t.wSeconds-e.wSeconds-s,i<0?(n.wSeconds+=60,s=1):s=0,i=n.wMinutes=t.wMinutes-e.wMinutes-s,i<0?(n.wMinutes+=60,s=1):s=0,i=n.wHours=t.wHours-e.wHours-s,i<0?(n.wHours+=60,s=1):s=0,i=n.wDays=t.wDays-e.wDays-s,i<0&&(i=n.wMilliseconds=e.wMilliseconds-t.wMilliseconds-s,i<0?(n.wMilliseconds+=1e3,s=1):s=0,i=n.wSeconds=e.wSeconds-t.wSeconds-s,i<0?(n.wSeconds+=60,s=1):s=0,i=n.wMinutes=e.wMinutes-t.wMinutes-s,i<0?(n.wMinutes+=60,s=1):s=0,i=n.wHours=e.wHours-t.wHours-s,i<0?(n.wHours+=60,s=1):s=0,i=n.wDays=t.wDays-e.wDays-s),n}DrawClockPieceCounter(t,e){let i=this.convertTimeSpan(t),s=this.convertTimeSpan(e);if(0!==s){var n=360*(i/s),o=this.describeArc(75,75,73.5,0,n)}else{o="M75,75 m-74,0 a74,74 0 1,0 148,0 a74,74 0 1,0 -148,0";this.__elementIntervalTime.text(this.__intervalTimeAlias+": 00:00:00")}this.__elementSvgClockElapsedCycle[0].setAttribute("d",o+"L75,75z")}DrawPieceCounterChart(t,e,i,s,n,o,r,_){let a=136,l=Math.min(i,s,e,t),h=Math.max(i,s,e,t),u=s-i,c=143;t<=i&&(c-=14),e<=i&&(c-=14),this.__elementSvgCountChartLineMin[0].setAttribute("x1","15px"),this.__elementSvgCountChartLineMin[0].setAttribute("x2","75px"),this.__elementSvgCountChartLineMin[0].setAttribute("y1",c+"px"),this.__elementSvgCountChartLineMin[0].setAttribute("y2",c+"px");let m=7;t>=s&&(m+=14),e>=s&&(m+=14),this.__elementSvgCountChartLineMax[0].setAttribute("x1","15px"),this.__elementSvgCountChartLineMax[0].setAttribute("x2","75px"),this.__elementSvgCountChartLineMax[0].setAttribute("y1",m+"px"),this.__elementSvgCountChartLineMax[0].setAttribute("y2",m+"px"),this.__elementSvgCountChartTextMin[0].setAttribute("x","79px"),this.__elementSvgCountChartTextMin[0].setAttribute("y",c+6+"px"),this.__elementSvgCountChartTextMin[0].textContent=n+": "+i,this.__elementSvgCountChartTextMax[0].setAttribute("x","79px"),this.__elementSvgCountChartTextMax[0].setAttribute("y",m+6+"px"),this.__elementSvgCountChartTextMax[0].textContent=o+": "+s,this.__elementSvgCountChartLine[0].setAttribute("x1","45px"),this.__elementSvgCountChartLine[0].setAttribute("x2","45px"),this.__elementSvgCountChartLine[0].setAttribute("y1",m+"px"),this.__elementSvgCountChartLine[0].setAttribute("y2",c+"px"),a=Math.abs(c-m);let v=143;v=t===s?m:t===i?c:t===h?7:t===l?143:t>s?m-14:t<i?c+14:(1-(t-i)/u)*a+m;let C=143;if(C=e===s?m:e===i?c:e===h?7:e===l?143:e>s?m-(e-s)/(h-e)*(m-7):e<i?c+(i-e)/(e-l)*(143-c):(1-(e-i)/u)*a+m,v===c&&(v+=3),v===m&&(v-=3),C===c&&(C+=3,C===v&&(C+=3)),C===m&&(C-=3,C===v&&(C-=3)),C===v&&(Math.abs(m-v)<28||v<m&&C<m?C+=3:C-=3),this.__elementSvgCountChartLineLast[0].setAttribute("x1","15px"),this.__elementSvgCountChartLineLast[0].setAttribute("x2","75px"),this.__elementSvgCountChartLineLast[0].setAttribute("y1",C+"px"),this.__elementSvgCountChartLineLast[0].setAttribute("y2",C+"px"),this.__elementSvgCountChartLineCur[0].setAttribute("x1","15px"),this.__elementSvgCountChartLineCur[0].setAttribute("x2","75px"),this.__elementSvgCountChartLineCur[0].setAttribute("y1",v+"px"),this.__elementSvgCountChartLineCur[0].setAttribute("y2",v+"px"),(Math.abs(c-v)<14||Math.abs(m-v)<14)&&(t<=i?v=c+14:t>=s?v=m-14:Math.abs(c-v)<=14?v=c-14:Math.abs(m-v)<=14&&(v=m+14)),this.__elementSvgCountChartTextCur[0].setAttribute("x","79px"),this.__elementSvgCountChartTextCur[0].setAttribute("y",v+6+"px"),this.__elementSvgCountChartTextCur[0].textContent=r+": "+t,e<=i){if(C=143,Math.abs(C-v)<14)for(;Math.abs(C-v)<14;)C-=10}else if(e>=s){if(C=7,Math.abs(C-v)<14)for(;Math.abs(C-v)<14;)C+=10}else if(e-i<s-e)for(;Math.abs(C-c)<=14||Math.abs(C-v)<=14;)C-=10;else for(;Math.abs(C-m)<=14||Math.abs(C-v)<=14;)C+=10;this.__elementSvgCountChartTextLast[0].setAttribute("x","79px"),this.__elementSvgCountChartTextLast[0].setAttribute("y",C+6+"px"),this.__elementSvgCountChartTextLast[0].textContent=_+": "+e}}e.PieceCounter=i}(i=e.Analytics||(e.Analytics={})),e.registerEx("PieceCounter","TcHmi.Controls.Analytics",i.PieceCounter)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));