var TcHmi;!function(t){let e;!function(e){let i;!function(e){class i extends t.Controls.Analytics.AnalyticsControl{constructor(t,e,i){super(t,e,i),this.__linearGrad="linearGradBandwidth",this.__onResized=()=>(t,e)=>{let i=super.__getScaleFactor();if(0==this.__hasLicense)return;this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementSvg.css("width",this.getRenderedWidth()),this.__elementSvg.css("height",100*i);let s=5;!1===this.__showLastEvent&&(s+=5),!1===this.__showTitle&&(s+=5),this.__elementSvg.css("margin-top",s*i),this.__elementLastEvent.css("font-size",12*i),this.__elementLastEvent.css("padding-left",5*i),this.__elementSvg[0].setAttribute("viewBox","0 0 "+(this.getRenderedWidth()-10)+" 100"),this.__elementSvg[0].setAttribute("width",(this.getRenderedWidth()-20).toString()),this.__processChart()}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=150,this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg"),this.__elementSvgDefs=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-defs"),this.__elementSvgText=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text"),this.__elementSvgTextRect=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text-rect"),this.__elementSvgTextCurrentValue=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text-current-value"),this.__elementSvgTextSmaller=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text-smaller"),this.__elementSvgTextWithin=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text-within"),this.__elementSvgTextBigger=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text-bigger"),this.__elementSvgTextLower=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text-lower-bound"),this.__elementSvgTextUpper=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-text-upper-bound"),this.__elementSvgRectangle=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-rectangle"),this.__elementSvgRectangleSmaller=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-rectangle-smaller"),this.__elementSvgRectangleWithin=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-rectangle-within"),this.__elementSvgRectangleBigger=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-svg-rectangle-bigger"),this.__elementLastEvent=this.__elementTemplateRoot.find(".tchmi-bandwidth-classificator-last-event"))}__init(){let t=[new e.Property(this,"AmountDecimals","Amount Decimals",e.E_DataType.UINTEGER),new e.Property(this,"ShowCurrentValue","Show Current Value",e.E_DataType.BOOLEAN),new e.Property(this,"ShowLastEvent","Show Last Event",e.E_DataType.BOOLEAN),new e.Property(this,"ShowMilliSeconds","Show Milliseconds",e.E_DataType.BOOLEAN)];super.setEditableProperties(t),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setMonthAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MonthAlias")),i!==this.__monthAlias&&(this.__monthAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMonthAlias"]),this.__processMonthAlias())}getMonthAlias(){return this.__monthAlias}__processMonthAlias(){e.DCTimestruct.monthAlias=this.__monthAlias,this.__processLastEvent()}setBandwidthColor(e){var i=t.ValueConverter.toString(e.color);null===i&&(i=this.getAttributeDefaultValueInternal("BandwidthColor")),i!==this.__bandwidthColor&&(this.__bandwidthColor=this.rgbaToHex(i),t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getBandwidthColor"]),this.__processColor())}getBandwidthColor(){return void 0!==this.__bandwidthColor&&null!==this.__bandwidthColor?this.rgbaToHex(this.__bandwidthColor):this.__bandwidthColor}setShowMilliSeconds(e){var i=t.ValueConverter.toBoolean(e);null===i&&(i=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),i!==this.__showMilliSeconds&&(this.__showMilliSeconds=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){this.__processLastEvent()}setLastEventAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("LastEventAlias")),i!==this.__lastEventAlias&&(this.__lastEventAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastEventAlias"]),this.__processLastEventAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getLastEventAlias(){return this.__lastEventAlias}__processLastEventAlias(){this.__processLastEvent()}setLastEvent(e){var i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("LastEvent")),JSON.stringify(i)!==JSON.stringify(this.__lastEvent)&&(this.__lastEvent=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastEvent"]),this.__processLastEvent())}getLastEvent(){return this.__lastEvent}__processLastEvent(){void 0!==this.__lastEvent&&void 0!==this.__monthAlias&&void 0!==this.__showMilliSeconds&&null!==this.__monthAlias&&null!==this.__showMilliSeconds&&this.__elementLastEvent.text(this.__lastEventAlias+": "+this.DateTimeConverter(this.__lastEvent,this.__monthAlias,this.__showMilliSeconds))}setShowLastEvent(e){var i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showLastEvent&&(this.__showLastEvent=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowLastEvent"]),this.__processShowLastEvent()):i=this.getAttributeDefaultValueInternal("ShowLastEvent")}getShowLastEvent(){return this.__showLastEvent}__processShowLastEvent(){!0===this.__showLastEvent?this.__elementLastEvent.css("display","block"):this.__elementLastEvent.css("display","none"),t.EventProvider.raise(`${this.__id}.onResized`,null)}setShowCurrentValue(e){var i=t.ValueConverter.toBoolean(e);null===i&&(i=this.getAttributeDefaultValueInternal("ShowCurrentValue")),i!==this.__showCurrentValue&&(this.__showCurrentValue=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowCurrentValue"]),this.__processShowCurrentValue())}getShowCurrentValue(){return this.__showCurrentValue}__processShowCurrentValue(){1==this.__showCurrentValue?this.__elementSvgTextCurrentValue[0].setAttribute("visibility","visible"):this.__elementSvgTextCurrentValue[0].setAttribute("visibility","hidden"),this.__processChart()}setLowerBound(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("LowerBound")),i!==this.__lowerBound&&(this.__lowerBound=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLowerBound"]),this.__processLowerBound())}getLowerBound(){return this.__lowerBound}__processLowerBound(){this.__processChart()}setUpperBound(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("UpperBound")),i!==this.__upperBound&&(this.__upperBound=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getUpperBound"]),this.__processUpperBound())}getUpperBound(){return this.__upperBound}__processUpperBound(){this.__processChart()}setCurrentValue(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("CurrentValue")),i!==this.__currentValue&&(this.__currentValue=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrentValue"]),this.__processCurrentValue())}getCurrentValue(){return this.__currentValue}__processCurrentValue(){this.__processChart()}setClassificationResult(e){var i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("ClassificationResult")),i!==this.__eClass&&(this.__eClass=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getClassificationResult"]),this.__processClassificationResult())}getClassificationResult(){return this.__eClass}__processClassificationResult(){this.__processColor()}setWithinAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("WithinAlias")),i!==this.__withinAlias&&(this.__withinAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getWithinAlias"]),this.__processWithinAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getWithinAlias(){return this.__withinAlias}__processWithinAlias(){this.__processChart()}setBiggerAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("BiggerAlias")),i!==this.__biggerAlias&&(this.__biggerAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getBiggerAlias"]),this.__processBiggerAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getBiggerAlias(){return this.__biggerAlias}__processBiggerAlias(){this.__processChart()}setSmallerAlias(e){var i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("SmallerAlias")),i!==this.__smallerAlias&&(this.__smallerAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getSmallerAlias"]),this.__processSmallerAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getSmallerAlias(){return this.__smallerAlias}__processSmallerAlias(){this.__processChart()}__processAmountDecimals(){super.__processAmountDecimals(),this.__processChart()}__processColorGradient(){this.__processColor()}__processColor(){if(this.__elementSvgText.css("fill",this.__fontColor),this.__elementSvgTextCurrentValue.css("fill",this.__fontColor),void 0!==this.__bandwidthColor&&void 0!==this.__controlChartColor&&void 0!==this.__colorGradient){this.__elementSvgDefs[0].innerHTML="",this.CreateLinearGradient(this.hexToRgbA(this.__controlChartColor),this.__elementSvgDefs[0],this.__colorGradient,this.__linearGrad+this.__secureId+"ChartColor"),this.CreateLinearGradient(this.hexToRgbA(this.__bandwidthColor),this.__elementSvgDefs[0],this.__colorGradient,this.__linearGrad+this.__secureId+"BandwidthColor"),this.CreateLinearGradient(this.hexToRgbA(this.__controlColorDark),this.__elementSvgDefs[0],this.__colorGradient,this.__linearGrad+this.__secureId+"DarkColor");for(var t=0;t<3;t++)this.__elementSvgDefs[0].children[t].setAttribute("x2","0%"),this.__elementSvgDefs[0].children[t].setAttribute("y2","100%"),this.__elementSvgDefs[0].children[t].children[1].setAttribute("offset","35%")}this.__elementSvgRectangle.css("stroke","url(#"+this.__linearGrad+this.__secureId+"DarkColor)"),this.__elementSvgRectangleSmaller.css("fill","url(#"+this.__linearGrad+this.__secureId+"ChartColor)"),this.__elementSvgRectangleWithin.css("fill","url(#"+this.__linearGrad+this.__secureId+"ChartColor)"),this.__elementSvgRectangleBigger.css("fill","url(#"+this.__linearGrad+this.__secureId+"ChartColor)"),this.__elementSvgTextRect.css("fill","none"),1==this.__eClass?(this.__elementSvgRectangleWithin.css("fill","url(#"+this.__linearGrad+this.__secureId+"BandwidthColor)"),this.__elementSvgTextWithin.css("fill",this.__fontColor)):2==this.__eClass?(this.__elementSvgRectangleSmaller.css("fill","url(#"+this.__linearGrad+this.__secureId+"BandwidthColor)"),this.__elementSvgTextSmaller.css("fill",this.__fontColor)):3==this.__eClass&&(this.__elementSvgRectangleBigger.css("fill","url(#"+this.__linearGrad+this.__secureId+"BandwidthColor)"),this.__elementSvgTextBigger.css("fill",this.__fontColor))}__processChart(){this.getRenderedWidth()-20>0&&null!=this.__upperBound&&null!=this.__lowerBound&&null!=this.__showCurrentValue&&null!=this.__currentValue&&null!=this.__withinAlias&&null!=this.__biggerAlias&&null!=this.__smallerAlias&&this.DrawBandwidthChart(this.getRenderedWidth()-20,this.__lowerBound,this.__upperBound,this.__currentValue,this.__showCurrentValue,this.__smallerAlias,this.__withinAlias,this.__biggerAlias)}DrawBandwidthChart(t,e,i,s,l,n,r,_){let a,h=(t-5-5-5)/3;this.__elementSvgRectangleSmaller[0].setAttribute("x","5px"),this.__elementSvgRectangleSmaller[0].setAttribute("y","15px"),this.__elementSvgRectangleSmaller[0].setAttribute("width",h+5+"px"),this.__elementSvgRectangleSmaller[0].setAttribute("height","40px"),this.__elementSvgRectangleWithin[0].setAttribute("x",5+h+"px"),this.__elementSvgRectangleWithin[0].setAttribute("y","15px"),this.__elementSvgRectangleWithin[0].setAttribute("width",h+5+"px"),this.__elementSvgRectangleWithin[0].setAttribute("height","40px"),this.__elementSvgRectangleBigger[0].setAttribute("x",5+2*h+"px"),this.__elementSvgRectangleBigger[0].setAttribute("y","15px"),this.__elementSvgRectangleBigger[0].setAttribute("width",h+5+"px"),this.__elementSvgRectangleBigger[0].setAttribute("height","40px"),this.__elementSvgTextLower[0].setAttribute("x",5+h+"px"),this.__elementSvgTextLower[0].setAttribute("y","75px"),this.__elementSvgTextLower[0].textContent=this.getTrimmedNumber(e),this.__elementSvgTextUpper[0].setAttribute("x",5+2*h+"px"),this.__elementSvgTextUpper[0].setAttribute("y","75px"),this.__elementSvgTextUpper[0].textContent=this.getTrimmedNumber(i),a=!0===l?33:40,this.__elementSvgTextSmaller[0].setAttribute("x",(5+h)/2+"px"),this.__elementSvgTextSmaller[0].setAttribute("y",a+"px"),this.__elementSvgTextSmaller[0].textContent=n,this.__elementSvgTextWithin[0].setAttribute("x",(5+h)/2+h+"px"),this.__elementSvgTextWithin[0].setAttribute("y",a+"px"),this.__elementSvgTextWithin[0].textContent=r,this.__elementSvgTextBigger[0].setAttribute("x",(5+h)/2+2*h+"px"),this.__elementSvgTextBigger[0].setAttribute("y",a+"px"),this.__elementSvgTextBigger[0].textContent=_,this.__elementSvgTextCurrentValue[0].textContent=this.getTrimmedNumber(s),s<e?(this.__elementSvgTextCurrentValue[0].setAttribute("x",(5+h)/2+"px"),this.__elementSvgTextCurrentValue[0].setAttribute("y","49px")):s>=e&&s<=i?(this.__elementSvgTextCurrentValue[0].setAttribute("x",(5+h)/2+h+"px"),this.__elementSvgTextCurrentValue[0].setAttribute("y","49px")):(this.__elementSvgTextCurrentValue[0].setAttribute("x",(5+h)/2+2*h+"px"),this.__elementSvgTextCurrentValue[0].setAttribute("y","49px"))}}e.BandwidthClassificator=i}(i=e.Analytics||(e.Analytics={})),e.registerEx("BandwidthClassificator","TcHmi.Controls.Analytics",i.BandwidthClassificator)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));