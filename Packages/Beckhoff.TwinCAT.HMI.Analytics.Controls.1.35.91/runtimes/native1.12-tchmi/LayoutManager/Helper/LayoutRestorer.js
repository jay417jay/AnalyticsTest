var TcHmi;!function(t){!function(t){!function(t){class e extends t.LayoutElement{constructor(t,e){super(t,e)}restoreLayout(t){let e=!1;for(let o=this.__layoutProps.automaticLayoutChanges.length-1;o>=0;o--)this.__tryLayoutRestoration(t,o)&&(e=!0);e&&this.__layout.removeUnusedRows()}__tryLayoutRestoration(t,e){const o=this.__layout.getCurrentLayout(this.__layoutProps.ElElementTemplateRoot.children()[this.__layoutProps.grabbedElIdx].id),i=t.split("-");if("left"===i[1])o.sort((t,e)=>e.cE-t.cE);else if("right"===i[1])o.sort((t,e)=>t.cS-e.cS);else if("top"===i[1])o.sort((t,e)=>e.rE-t.rE);else if("bottom"===i[1])o.sort((t,e)=>t.rS-e.rS);else if(""===i[1]&&""===i[i.length-1])return!1;let r=!1,l=!1;const n=JSON.parse(this.__layoutProps.automaticLayoutChanges[e]);for(let t=0;t<o.length;t++){if("grid-buffer-cell-id"===o[t].id||"selected"===o[t].id)continue;const e=n.find(e=>e.id===o[t].id);if(e.rS!=o[t].rS||e.rE!=o[t].rE||e.cS!=o[t].cS||e.cE!=o[t].cE){if(null!=this.__layoutProps.ruleSet.find(e=>e.affectedElementID==o[t].id)&&!this.__checkRuleCondition(o,t))continue;l=this.__checkCtrlPosition(e,o,!0)}!0===l&&!1===r&&(r=!0)}return!!r&&(this.__tryLayoutRestoration(t,e),!0)}__checkRuleCondition(t,e){let o=this.__layoutProps.ruleSet.find(o=>o.affectedElementID==t[e].id).premiseElement,i=this.__layoutProps.ruleSet.findIndex(o=>o.affectedElementID==t[e].id),r=t.find(t=>t.id==o.id);return null==o||null==r||o.rS===r.rS&&o.rE===r.rE&&o.cS===r.cS&&o.cE===r.cE&&(this.__layoutProps.ruleSet.splice(i,1),!0)}__checkCtrlPosition(t,e,o){if(null==t||null==t.rS)return!1;for(let o=0;o<e.length;o++){const i=e[o];if("selected"!==i.id&&i.id!==t.id&&null!=i.cS&&!(i.rE<=t.rS||i.rS>=t.rE||i.cE<=t.cS||i.cS>=t.cE))return!1}if(o){const e=this.__layoutProps.ElElementTemplateRoot.find("#"+t.id)[0];this.__layout.setElementGridDimensions(e,t)}return!0}}t.LayoutRestorer=e}(t.Analytics||(t.Analytics={}))}(t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));