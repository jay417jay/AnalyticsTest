var TcHmi;!function(t){!function(t){!function(t){class e extends t.LayoutElement{constructor(t,e){super(t,e),this.generatedLayout="",this.editedLayout=""}__prepareLayout(){this.__getOriginalContainerDimensions();let t=0;""!=this.editedLayout?t=this.__layout.getNumberOfRows(JSON.parse(this.editedLayout)):""!=this.generatedLayout?t=this.__layout.getNumberOfRows(JSON.parse(this.generatedLayout)):this.__layoutProps.requestedLayout&&""!=this.__layoutProps.requestedLayout?t=this.__layout.getNumberOfRows(JSON.parse(this.__layoutProps.requestedLayout)):this.__layoutProps.numberOfRows>0&&(t=this.__layoutProps.defaultRowNumber),this.__layout.changeRowNumber(t-this.__layoutProps.numberOfRows),this.__layout.setGridDimensions()}__getGridElements(t,e,i){return this.__layoutProps.layoutInitialized||""!==this.generatedLayout?e=(t=this.__layoutProps.ElElementTemplateRoot.children()[i]).children[0]:((t=document.createElement("div")).className="tchmi-layout-manager-grid-cell",e=this.__layoutProps.ElElementTemplateRoot.children()[0]),[t,e]}__getOriginalContainerDimensions(){if(null!=this.__layoutProps.defaultVPWidth&&null!=this.__layoutProps.defaultVPHeight){const t=this.__layoutProps.ElCtrlElement[0].clientWidth*this.__layoutProps.defaultVPHeight/this.__layoutProps.defaultVPWidth;this.__layoutProps.defaultContainerHeight=t,this.__layoutProps.defaultHeightUnit=this.__layoutProps.heightUnit}}__getStoredCtrlDim(t){let e,i=[];if(""!=this.editedLayout)i=JSON.parse(this.editedLayout);else if(""==this.generatedLayout||this.__layoutProps.isRedoUndoAction){if(!this.__layoutProps.requestedLayout||""==this.__layoutProps.requestedLayout)return null;i=JSON.parse(this.__layoutProps.requestedLayout)}else i=JSON.parse(this.generatedLayout);return null!=i.find(e=>e.id===t.id)?(e=i.find(e=>e.id===t.id),i.splice(i.findIndex(e=>e.id===t.id),1)):null!=i.find(e=>e.id===String(t.id+"_GridElement"))?(e=i.find(e=>e.id===String(t.id+"_GridElement")),i.splice(i.findIndex(e=>e.id===String(t.id+"_GridElement")),1)):null!=i.find(e=>e.id===String(t.id.replace("_GridElement","")))&&(e=i.find(e=>e.id===String(t.id.replace("_GridElement",""))),i.splice(i.findIndex(e=>e.id===String(t.id.replace("_GridElement",""))),1)),e}__convertCtrlToGridEl(t,e,i,s=!0,l=!0){const o=document.createElement("div");o.className="tchmi-layout-manager-cell-drop-button";const a=document.createElement("div");a.classList.add("tchmi-layout-manager-cell-edit-mask"),a.classList.add("tchmi-layout-manager-cell-edit-mask-hidden");const r=document.createElement("div");r.className="tchmi-layout-manager-cell-resizer";const n=document.createElement("div");n.className="tchmi-layout-manager-cell-visible-button",s&&this.__layoutProps.ElElementTemplateRoot[0].removeChild(t),this.__setCtrlStyle(t),t.style.visibility="visible",e.appendChild(t),e.id=`${t.id}_GridElement`,e.appendChild(a),e.appendChild(r),e.appendChild(n),this.__layoutProps.interactiveCtrls.some(t=>t.cId===e.id)&&e.appendChild(o),this.__layoutProps.ElElementTemplateRoot[0].append(e),l&&(this.__layoutProps.ElCtrlElement.find(`#${e.id}`).hide(),setTimeout(()=>this.__processFadeInEffect(e),10*i))}__setCtrlStyle(t){new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"style"===e.attributeName&&this.__applyStyles(t)})}).observe(t,{attributes:!0,attributeFilter:["style"]}),this.__applyStyles(t)}__applyStyles(t){t.style.setProperty("left","","important"),t.style.setProperty("top","","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","100%","important"),t.style.setProperty("position","relative","important"),t.style.setProperty("z-index","0","important")}__processFadeInEffect(t){this.__layoutProps.ElCtrlElement.find(`#${t.id}`).fadeIn()}}t.LayoutGenerator=e}(t.Analytics||(t.Analytics={}))}(t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));