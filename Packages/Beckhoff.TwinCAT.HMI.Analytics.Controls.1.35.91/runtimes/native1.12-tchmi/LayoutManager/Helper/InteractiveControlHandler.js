var TcHmi;!function(t){!function(e){!function(e){class a extends e.LayoutElement{constructor(t,e,a){super(t,e),this.__charts=[],this.__layoutID=a}createControl(t,e=null,a="TcHmi.Controls.Analytics.DataChart",o=""){let n=0,r=!1;if(null==e){const t=$(`[data-tchmi-type="${a}"]`);for(n=0;null==e&&n<1e3;){const o=`${this.__layoutID+a.replace(/\./g,"_")+n}`;t.toArray().some((function(t){return t.id===o}))||(e=o),n++}r=!0}this.__createControl(t,e,r,n,a,o)}__createControl(a,o,n,r,l,i){let s=t.Controls.get(o);null!=s?s instanceof e.DataChart&&s.updateChartID():(s=t.ControlFactory.createEx(l,o,{"data-tchmi-top":10,"data-tchmi-left":10,"data-tchmi-width":500,"data-tchmi-height":300,"data-tchmi-reset-config":n,"data-tchmi-name-alias":`New charting ${r}`},a),""!=i&&null!=s&&s instanceof e.AnalyticsControl&&s.setAndSaveNameAlias(`${i} ${r}`)),s.setClassNames(["Default"]),this.__charts.push(s),null!=s&&s instanceof e.DataChart&&setTimeout(()=>s.setDarkMode(this.__layoutProps.darkMode),100);const c={};c.cId=`${s.getId()}_GridElement`,c.cType=l,this.__layoutProps.interactiveCtrls.push(c)}removeCtrl(a){return o=>{if(o.preventDefault(),o.stopPropagation(),!confirm("Do your really want to delete this control?! The configuration will be deleted permanently."))return;this.__layoutProps.grabbedElIdx=a;const n=this.__layoutProps.ElElementTemplateRoot.find("#"+this.__layoutProps.ElElementTemplateRoot.children()[this.__layoutProps.grabbedElIdx].id)[0];this.__layoutProps.interactiveCtrls=this.__layoutProps.interactiveCtrls.filter(t=>t.cId!=n.id);const r=t.Controls.get(n.id.replace("_GridElement",""));null!=r&&r instanceof e.DataChart&&r.dropChartConfig(),null!=r&&r instanceof e.AnalyticsControl&&r.resetProperties(),r.destroy(),this.__layout.calcCurrentLayout(),this.dispatchEvent(new CustomEvent(e.EventNames.controlDropped))}}}e.InteractiveControlHandler=a}(e.Analytics||(e.Analytics={}))}(t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));