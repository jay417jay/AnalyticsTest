var TcHmi;!function(e){!function(t){!function(t){class a extends EventTarget{constructor(){super()}requestDataSources(){this.__requestExtSymbol({requestType:"ReadWrite",commands:[{symbol:"TcHmiAnalytics.GetDataSources",readValue:"",writeValue:"",commandOptions:["SendErrorMessage","SendWriteValue"]}]},1e3)}setDataChartConfig(e){const a=new t.UserDataStoreCmd;a.tableName="InteractiveChartStorage",a.cmdType=t.I_SE_TableCmdType.SET,a.cmdData=JSON.stringify(e);const r={requestType:"ReadWrite",commands:[{symbol:"TcHmiAnalytics.SetUserData",readValue:"",writeValue:JSON.stringify(a),commandOptions:["SendErrorMessage","SendWriteValue"]}]};this.__requestExtSymbol(r,3e3)}refreshChart(e){const t={requestType:"ReadWrite",commands:[{symbol:"TcHmiAnalytics.RefreshInteractiveChart",readValue:"",writeValue:e,commandOptions:["SendErrorMessage","SendWriteValue"]}]};this.__requestExtSymbol(t,3e3)}dropDataChartConfig(e){const a=new t.UserDataStoreCmd;a.tableName="InteractiveChartStorage",a.cmdType=t.I_SE_TableCmdType.SET,a.cmdData=JSON.stringify(e);const r={requestType:"ReadWrite",commands:[{symbol:"TcHmiAnalytics.DropUserData",readValue:"",writeValue:JSON.stringify(a),commandOptions:["SendErrorMessage","SendWriteValue"]}]};this.__requestExtSymbol(r,3e3)}getDataChartConfig(e){const a=new t.UserDataStoreCmd;a.tableName="InteractiveChartStorage",a.cmdType=t.I_SE_TableCmdType.GET,a.cmdData=e;const r={requestType:"ReadWrite",commands:[{symbol:"TcHmiAnalytics.GetUserData",readValue:"",writeValue:JSON.stringify(a),commandOptions:["SendErrorMessage","SendWriteValue"]}]};this.__requestExtSymbol(r,3e3)}__requestExtSymbol(a,r){let s=this;e.Server.isWebsocketReady()?e.Server.requestEx(a,{timeout:r,parallel:!0},(function(a){let r=a.response;if(!r||null!=r.error)return void console.log("error with server-extension communication in DataSourceHandler");let n=r.commands;if(void 0!==n)for(let r=0,o=n.length;r<o;r++){let o=n[r];if("TcHmiAnalytics.GetUserData"===o.symbol)if(0===a.error&&"0"!==String(o.readValue)&&""!==String(o.readValue)&&"Get DataSource failed"!==String(o.readValue)){const e=String(o.readValue);s.dispatchEvent(new CustomEvent(t.DataChartEventNames.chartConfigReceived,{detail:e}))}else s.dispatchEvent(new CustomEvent(t.DataChartEventNames.chartConfigReceived,{detail:null}));else if("TcHmiAnalytics.SetUserData"==o.symbol)"Updated user DataSource successfully"==String(o.readValue)?s.dispatchEvent(new CustomEvent(t.DataChartEventNames.dataSourceConfigStored,{detail:!0})):s.dispatchEvent(new CustomEvent(t.DataChartEventNames.dataSourceConfigStored,{detail:!1}));else if("TcHmiAnalytics.GetDataSources"==o.symbol)if(""!=String(o.readValue)){const e=String(o.readValue);s.dispatchEvent(new CustomEvent(t.DataChartEventNames.dataSourcesReceived,{detail:e}))}else s.dispatchEvent(new CustomEvent(t.DataChartEventNames.dataSourcesReceived,{detail:null}));else if(null!=o.error)return void console.log("error with server-extension command");e.Log.debug(o.symbol+"="+o.readValue)}})):console.error("No request send, because websocket connection not ready!")}}t.DataSourceHandler=a}(t.Analytics||(t.Analytics={}))}(e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));