var TcHmi;!function(e){let t;!function(t){let s;!function(t){class s extends e.Controls.Analytics.AnalyticsControl{constructor(e,t,s){super(e,t,s),this.__radialGrad="radialGradTBTP",this.__onResized=()=>(e,t)=>{let s=super.__getScaleFactor();0!=this.__hasLicense&&(this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementSvgChart.css("margin-left",5*s),this.__elementInnerText.css("font-size",16*s),this.__elementSvgLegend.css("height",65*s),this.__elementSvgLegend.css("width",270*s),this.__elementSvgLegend.css("margin-left",5*s),!0===this.__showTitle?(this.__elementSvgChart.css("height",221*s),this.__elementSvgChart.css("width",270*s),this.__elementSvgChart.css("margin-top",0*s),this.__elementSvgLegend.css("margin-top",10*s)):(this.__elementSvgLegend.css("margin-top",20*s),this.__elementSvgChart.css("margin-top",10*s),this.__elementSvgChart.css("height",240*s),this.__elementSvgChart.css("width",290*s)))}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=310,this.__elementSvgChart=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-svg"),this.__elementSvgLegend=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-legend-svg"),this.__elementSvgChartDefs=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-svg-defs"),this.__elementSvgLegendDefs=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-legend-svg-defs"),this.__elementWrittenValues=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-written-values-circle"),this.__elementValuesFile=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-values-file-circle"),this.__elementInnerText=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-text"),this.__elementStrokeCircle=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-stroke-circle"),this.__elementStrokeCircleOuter=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-stroke-circle-outer"),this.__elementCircleOuter=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-chart-percentage-outer-circle"),this.__elementSvgLegendRectWrittenValues=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-legend-rect-written-values"),this.__elementSvgLegendTextWrittenValues=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-legend-text-written-values"),this.__elementSvgLegendRectValuesFile=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-legend-rect-values-file"),this.__elementSvgLegendTextValuesFile=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-legend-text-values-file"),this.__elementSvgLegendTextCurCycles=this.__elementTemplateRoot.find(".tchmi-time-based-t-p-legend-text-current-cycles"))}__init(){let e=[new t.Property(this,"ShowCurrentTeachCycles","Show Current Teach Cycles",t.E_DataType.BOOLEAN),new t.Property(this,"WrittenValuesColor","Written Values Color",t.E_DataType.SOLIDCOLOR),new t.Property(this,"ValuesInFileColor","Values In File Color",t.E_DataType.SOLIDCOLOR)];super.setEditableProperties(e),super.__init()}__attach(){super.__attach(),this.__processColor()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setCurrentCyclesAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("CurrentCyclesAlias")),s!==this.__currentCyclesAlias&&(this.__currentCyclesAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrentCyclesAlias"]),this.__processCurrentCyclesAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getCurrentCyclesAlias(){return this.__currentCyclesAlias}__processCurrentCyclesAlias(){this.__elementSvgLegendTextCurCycles[0].textContent=this.__currentCyclesAlias}setValuesInFileAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("ValuesInFileAlias")),s!==this.__valuesInFileAlias&&(this.__valuesInFileAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValuesInFileAlias"]),this.__processValuesInFileAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getValuesInFileAlias(){return this.__valuesInFileAlias}__processValuesInFileAlias(){this.__elementSvgLegendTextValuesFile[0].textContent=this.__valuesInFileAlias}setWrittenValuesAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("WrittenValuesAlias")),s!==this.__writtenValuesAlias&&(this.__writtenValuesAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getWrittenValuesAlias"]),this.__processWrittenValuesAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getWrittenValuesAlias(){return this.__writtenValuesAlias}__processWrittenValuesAlias(){this.__elementSvgLegendTextWrittenValues[0].textContent=this.__writtenValuesAlias}setWrittenValues(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("WrittenValues")),s!==this.__writtenValues&&(this.__writtenValues=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getWrittenValues"]),this.__processWrittenValues())}getWrittenValues(){return this.__writtenValues}setValuesInFile(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("ValuesInFile")),s!==this.__valuesInFile&&(this.__valuesInFile=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValuesInFile"]),this.__processValuesInFile())}getValuesInFile(){return this.__valuesInFile}setWrittenValuesColor(t){let s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("WrittenValuesColor")),s!==this.__writtenValuesColor&&(this.__writtenValuesColor=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getWrittenValuesColor"]),this.__processWrittenValuesColor())}getWrittenValuesColor(){return this.__writtenValuesColor}__processWrittenValuesColor(){this.__processColor(),this.__processPercentage()}setValuesInFileColor(t){let s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("ValuesInFileColor")),s!==this.__valuesInFileColor&&(this.__valuesInFileColor=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValuesInFileColor"]),this.__processValuesInFileColor())}getValuesInFileColor(){return this.__valuesInFileColor}__processValuesInFileColor(){this.__processColor(),this.__processPercentage()}setDisplayFormat(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("DisplayFormat")),s!==this.__displayFormat&&(this.__displayFormat=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getDisplayFormat"]),this.__processDisplayFormat())}getDisplayFormat(){return this.__displayFormat}__processDisplayFormat(){this.__processPercentage()}__processNameAlias(){null!=this.__nameAlias&&this.__elementNameAlias.text(this.__nameAlias)}__processWrittenValues(){this.__processPercentage()}__processValuesInFile(){this.__processPercentage()}__processPercentage(){void 0!==this.__valuesInFile&&null!==this.__valuesInFile&&void 0!==this.__writtenValues&&null!==this.__writtenValues&&(this.__valuesInFile>0?this.__percentage=this.__writtenValues/this.__valuesInFile:this.__percentage=0,void 0!==this.__writtenValuesColor&&null!==this.__writtenValuesColor&&void 0!==this.__valuesInFileColor&&null!==this.__valuesInFileColor&&void 0!==this.__displayFormat&&null!==this.__displayFormat&&this.DrawTeachPath(this.__percentage,this.__writtenValuesColor.color,this.__valuesInFileColor.color,this.__displayFormat,this.__valuesInFile,this.__writtenValues))}setShowCurrentTeachCycles(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ShowCurrentTeachCycles")),s!==this.__showCurrentTeachCycles&&(this.__showCurrentTeachCycles=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowCurrentTeachCycles"]),this.__processShowCurrentTeachCycles())}getShowCurrentTeachCycles(){return this.__showCurrentTeachCycles}__processShowCurrentTeachCycles(){1==this.__showCurrentTeachCycles?this.__elementSvgLegendTextCurCycles.css("visibility","visible"):this.__elementSvgLegendTextCurCycles.css("visibility","hidden")}setCurrentTeachCycles(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CurrentTeachCycles")),s!==this.__currentTeachCycles&&(this.__currentTeachCycles=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrentTeachCycles"]),this.__processCurrentTeachCycles())}getCurrentTeachCycles(){return this.__currentTeachCycles}__processCurrentTeachCycles(){this.__elementSvgLegendTextCurCycles[1].textContent=this.__currentTeachCycles.toString()}__processColorGradient(){this.__processColor()}__processColor(){if(super.__processColor(),this.__isAttached){this.__elementCircleOuter.css("fill",this.__controlChartColor),this.__elementCircleOuter.css("stroke","none"),this.__elementSvgLegendRectWrittenValues.css("stroke",this.__controlColorDark),this.__elementSvgLegendRectValuesFile.css("stroke",this.__controlColorDark),this.__elementSvgLegendTextValuesFile.css("fill",this.__fontColor),this.__elementSvgLegendTextWrittenValues.css("fill",this.__fontColor),this.__elementSvgLegendTextCurCycles.css("fill",this.__fontColor),this.__elementStrokeCircle.css("stroke",this.__controlColorDark),this.__elementStrokeCircle.css("fill","none"),this.__elementStrokeCircleOuter.css("stroke",this.__controlColorDark),this.__elementStrokeCircleOuter.css("fill","none"),this.__elementInnerText.css("stroke",this.__controlColorDark),this.__elementWrittenValues.css("stroke",this.__writtenValuesColor.color),this.__elementValuesFile.css("stroke",this.__valuesInFileColor.color),this.__elementSvgChartDefs[0].innerHTML="",void 0!==this.__colorGradient&&void 0!==this.__writtenValuesColor&&void 0!==this.__valuesInFileColor&&(this.CreateRadialGradient(this.__writtenValuesColor.color,this.__elementSvgChartDefs[0],this.__colorGradient,this.__radialGrad+this.__secureId+"WrittenValues"),this.CreateRadialGradient(this.__valuesInFileColor.color,this.__elementSvgChartDefs[0],this.__colorGradient,this.__radialGrad+this.__secureId+"ValuesFile"),this.__elementSvgLegendRectWrittenValues.css("fill","url(#"+this.__radialGrad+this.__secureId+"WrittenValues)"),this.__elementSvgLegendRectValuesFile.css("fill","url(#"+this.__radialGrad+this.__secureId+"ValuesFile)"));var e=this.__colorGradient/100;e<0&&(e*=-1),e>1&&(e=1),this.CreateRadialGradient("rgba(255,255,255,1)",this.__elementSvgChartDefs[0],this.__colorGradient,this.__radialGrad+this.__secureId,0,e,0),this.__elementStrokeCircleOuter.css("fill","url(#"+this.__radialGrad+this.__secureId+")")}}DrawTeachPath(e,t,s,i,l,r){var n,_=360*e;_>360?this.__elementWrittenValues[0].setAttribute("d","M135,120 m-90,0 a90,90 0 1,0 180,0 a90,90 0 1,0 -180,0"):this.__elementWrittenValues[0].setAttribute("d",this.describeArc(135,120,90,0,_)),l>0?this.__elementValuesFile[0].setAttribute("d","M135,120 m-70,0 a70,70 0 1,0 140,0 a70,70 0 1,0 -140,0"):this.__elementValuesFile[0].setAttribute("d",this.describeArc(135,120,90,0,0)),n=e<10?(100*e).toFixed(1)+"%":(100*e).toFixed(0)+"%",this.__elementInnerText[0].innerHTML="","Relative"===i?(this.__elementInnerText[0].textContent,this.__elementInnerText.css("fill",s),this.__elementInnerText[0].textContent=n.toString()):"Absolute"===i?(this.__elementInnerText.css("fill",t),this.__elementInnerText[0].textContent=r.toString()+"/"+l.toString()):"Written Values"===i?(this.__elementInnerText.css("fill",t),this.__elementInnerText[0].textContent=r.toString()):"Values in File"===i&&(this.__elementInnerText.css("fill",s),this.__elementInnerText[0].textContent=l.toString())}}t.TimeBasedTeachPath=s}(s=t.Analytics||(t.Analytics={})),t.registerEx("TimeBasedTeachPath","TcHmi.Controls.Analytics",s.TimeBasedTeachPath)}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));