var TcHmi;!function(t){let e;!function(e){let i;!function(e){class i extends t.Controls.Analytics.AnalyticsControl{constructor(e,i,s){super(e,i,s),this.SVG_SIZE={width:250,height:250},this.PADDING={x:10,y:10},this.__lastPointPos={x:0,y:0},this.__radialGrad="radialGradientXYShape",this.__onResized=()=>(t,e)=>{const i=super.__getScaleFactor();if(0==this.__hasLicense)return;this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementNameAlias.css("padding-top","5px");let s,n,o=250,r=220;!1===this.__showLastEvent&&(r+=10*r/o,o+=10,s=5),!1===this.__showCountIntersections&&(r+=10*r/o,o+=10,s=5),!1===this.__showTitle&&(r+=10*r/o,o+=10),this.__elementNameAlias.css("padding-bottom",s*i),this.__elSvg.css("width",o*i),this.__elSvg.css("height",r*i),this.__elCountIntersections.css("font-size",14*i),this.__elCountIntersections.css("padding-bottom",5*i),n=!0===this.__showMilliSeconds?12:14,this.__elLastEvent.css("font-size",n*i),this.__elLastEvent.css("padding-left",5*i)},this.__onResolverForConfig1WatchCallback=e=>{!1===this.__isAttached&&this.__suspendObjectResolver("config1"),e.error===t.Errors.NONE?tchmi_equal(e.value,this.__config1)||(this.__config1=e.value||null,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getConfig1"]),this.__processConfig1()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Analytics.AnalyticsControl, Id="+this.getId()+", Attribute=Config1] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},this.__onResolverForConfig4WatchCallback=e=>{!1===this.__isAttached&&this.__suspendObjectResolver("config4"),e.error===t.Errors.NONE?tchmi_equal(e.value,this.__config4)||(this.__config4=e.value||null,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getConfig4"]),this.__processConfig4()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Analytics.AnalyticsControl, Id="+this.getId()+", Attribute=Config4] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},this.__onResolverForConfig5WatchCallback=e=>{!1===this.__isAttached&&this.__suspendObjectResolver("config5"),e.error===t.Errors.NONE?tchmi_equal(e.value,this.__config5)||(this.__config5=e.value||null,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getConfig5"]),this.__processConfig5()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Analytics.AnalyticsControl, Id="+this.getId()+", Attribute=Config5] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},this.RECTANGLE_WIDTH=this.SVG_SIZE.width-2*this.PADDING.x,this.RECTANGLE_HEIGHT=this.SVG_SIZE.height-2*this.PADDING.y}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=310,this.__amountDecimals=2,this.__elSvg=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg"),this.__elSvgPoint=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-point"),this.__elSvgPointTitle=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-point-title"),this.__elSvgVertices=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-vertex"),this.__elSvgVerticesTitles=this.__elSvgVertices.find(".tchmi-x-y-shape-monitor-vertex-title"),this.__elSvgOuterForm=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-outer-form"),this.__elSvgRectangle=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-rectangle"),this.__elSvgRectangleTitle=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-rectangle-title"),this.__elSvgCircle=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-circle"),this.__elSvgCircleTitle=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-circle-title"),this.__elSvgTriangle=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-triangle"),this.__elSvgTriangleTitle=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-triangle-title"),this.__elSvgDefs=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-svg-defs"),this.__elCountIntersections=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-count-intersections"),this.__elLastEvent=this.__elementTemplateRoot.find(".tchmi-x-y-shape-monitor-last-event"))}__init(){const t=[new e.Property(this,"Unit","Unit",e.E_DataType.STRING),new e.Property(this,"ShowGateIntersectionPoint","Show Cursor",e.E_DataType.BOOLEAN),new e.Property(this,"ShowCountIntersections","Show Count Intersections",e.E_DataType.BOOLEAN),new e.Property(this,"ShowLastEvent","Show Last Intersection",e.E_DataType.BOOLEAN),new e.Property(this,"ShowMilliSeconds","Show Milliseconds",e.E_DataType.BOOLEAN),new e.Property(this,"IntersectionColor","Intersection Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"NoIntersectionColor","No Intersection Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"PointColor","Point Color",e.E_DataType.SOLIDCOLOR)];super.setEditableProperties(t),super.__init()}__attach(){super.__attach(),this.__processColor(),this.__drawShape()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setMonthAlias(e){let i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("MonthAlias")),i!==this.__monthAlias&&(this.__monthAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMonthAlias"]),this.__processMonthAlias())}getMonthAlias(){return this.__monthAlias}__processMonthAlias(){e.DCTimestruct.monthAlias=this.__monthAlias,this.__processLastEvent()}setLastIntersectionAlias(e){let i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("LastIntersectionAlias")),i!==this.__lastIntersectionAlias&&(this.__lastIntersectionAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastIntersectionAlias"]),this.__processLastIntersectionAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getLastIntersectionAlias(){return this.__lastIntersectionAlias}__processLastIntersectionAlias(){this.__processLastEvent()}setIntersectionsAlias(e){let i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("IntersectionsAlias")),i!==this.__intersectionsAlias&&(this.__intersectionsAlias=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getIntersectionsAlias"]),this.__processIntersectionsAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getIntersectionsAlias(){return this.__intersectionsAlias}__processIntersectionsAlias(){this.__processCountIntersections()}getFontsizeTitle(){return this.__fontsizeTitle}setIntersectionColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("IntersectionColor")),i!==this.__intersectionColor&&(this.__intersectionColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getIntersectionColor"]),this.__processIntersectionColor())}getIntersectionColor(){return this.__intersectionColor}__processIntersectionColor(){this.__processColor()}setNoIntersectionColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("NoIntersectionColor")),i!==this.__noIntersectionColor&&(this.__noIntersectionColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getNoIntersectionColor"]),this.__processNoIntersectionColor())}getNoIntersectionColor(){return this.__noIntersectionColor}__processNoIntersectionColor(){this.__processColor()}setPointColor(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("PointColor")),i!==this.__pointColor&&(this.__pointColor=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getPointColor"]),this.__processPointColor())}getPointColor(){return this.__pointColor}__processPointColor(){this.__processColor()}setShape(e){let i=t.ValueConverter.toString(e);null!==i?i!==this.__shape&&(this.__shape=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShape"]),this.__processShape()):i=this.getAttributeDefaultValueInternal("Shape")}getShape(){return this.__shape}__processShape(){switch(this.__elSvgOuterForm.attr("visibility","hidden"),this.__shape){case"Rectangle":this.__elSvgRectangle[0].setAttribute("visibility","visible");break;case"Circle":this.__elSvgCircle[0].setAttribute("visibility","visible");break;case"Triangle":this.__elSvgTriangle[0].setAttribute("visibility","visible")}this.__drawShape(),this.__processColor()}setYInputValue(e){let i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("YInputValue")),i!==this.__yInputValue&&(this.__yInputValue=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getYInputValue"]),this.__processYInputValue())}getYInputValue(){return this.__yInputValue}__processYInputValue(){this.__drawCursor(this.__xInputValue,this.__yInputValue)}setXInputValue(e){let i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("XInputValue")),i!==this.__xInputValue&&(this.__xInputValue=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getXInputValue"]),this.__processYInputValue())}getXInputValue(){return this.__xInputValue}__processXInputValue(){this.__drawCursor(this.__xInputValue,this.__yInputValue)}setConfig1(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("Config1"));const s=this.__objectResolvers.get("config1");s&&(s.watchDestroyer&&s.watchDestroyer(),s.resolver.destroy());const n=new t.Symbol.ObjectResolver(i);this.__objectResolvers.set("config1",{resolver:n,watchCallback:this.__onResolverForConfig1WatchCallback,watchDestroyer:n.watch(this.__onResolverForConfig1WatchCallback)})}getConfig1(){return this.__config1}__processConfig1(){this.__drawShape()}setConfig2(e){let i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("Config2")),JSON.stringify(i)!==JSON.stringify(this.__config2)&&(this.__config2=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getConfig2"]),this.__processConfig2())}getConfig2(){return this.__config2}__processConfig2(){this.__drawShape()}setConfig3(e){let i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("Config3")),JSON.stringify(i)!==JSON.stringify(this.__config3)&&(this.__config3=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getConfig3"]),this.__processConfig3())}getConfig3(){return this.__config3}__processConfig3(){this.__drawShape()}setConfig4(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("Config4"));const s=this.__objectResolvers.get("config4");s&&(s.watchDestroyer&&s.watchDestroyer(),s.resolver.destroy());const n=new t.Symbol.ObjectResolver(i);this.__objectResolvers.set("config4",{resolver:n,watchCallback:this.__onResolverForConfig4WatchCallback,watchDestroyer:n.watch(this.__onResolverForConfig4WatchCallback)})}getConfig4(){return this.__config4}__processConfig4(){this.__drawShape()}setConfig5(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("Config5"));const s=this.__objectResolvers.get("config5");s&&(s.watchDestroyer&&s.watchDestroyer(),s.resolver.destroy());const n=new t.Symbol.ObjectResolver(i);this.__objectResolvers.set("config5",{resolver:n,watchCallback:this.__onResolverForConfig5WatchCallback,watchDestroyer:n.watch(this.__onResolverForConfig5WatchCallback)})}getConfig5(){return this.__config5}__processConfig5(){this.__drawShape()}setIntersection(e){let i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__intersection&&(this.__intersection=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getIntersection"]),this.__processIntersection()):i=this.getAttributeDefaultValueInternal("Intersection")}getIntersection(){return this.__intersection}__processIntersection(){this.__drawShape(),this.__processColor()}setWithinShape(e){let i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__withinShape&&(this.__withinShape=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getWithinShape"]),this.__processWithinShape()):i=this.getAttributeDefaultValueInternal("WithinShape")}getWithinShape(){return this.__withinShape}__processWithinShape(){this.__drawShape(),this.__processColor()}setLastEvent(e){let i=t.ValueConverter.toObject(e);null===i&&(i=this.getAttributeDefaultValueInternal("LastEvent")),JSON.stringify(i)!==JSON.stringify(this.__lastEvent)&&(this.__lastEvent=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastEvent"]),this.__processLastEvent())}getLastEvent(){return this.__lastEvent}setShowMilliSeconds(e){let i=t.ValueConverter.toBoolean(e);null===i&&(i=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),i!==this.__showMilliSeconds&&(this.__showMilliSeconds=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){this.__processLastEvent()}__processLastEvent(){void 0!==this.__lastEvent&&void 0!==this.__monthAlias&&null!==this.__monthAlias&&void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&(this.__elLastEvent[0].innerHTML=`${this.__lastIntersectionAlias}: ${this.DateTimeConverter(this.__lastEvent,this.__monthAlias,this.__showMilliSeconds)}`,t.EventProvider.raise(`${this.__id}.onResized`,null))}setShowLastEvent(e){let i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showLastEvent&&(this.__showLastEvent=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowLastEvent"]),this.__processShowLastEvent()):i=this.getAttributeDefaultValueInternal("ShowLastEvent")}getShowLastEvent(){return this.__showLastEvent}__processShowLastEvent(){!0===this.__showLastEvent?this.__elLastEvent.css("display","block"):this.__elLastEvent.css("display","none"),t.EventProvider.raise(`${this.__id}.onResized`,null)}setCountIntersections(e){let i=t.ValueConverter.toNumber(e);null===i&&(i=this.getAttributeDefaultValueInternal("CountIntersections")),JSON.stringify(i)!==JSON.stringify(this.__countIntersections)&&(this.__countIntersections=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountIntersections"]),this.__processCountIntersections())}getCountIntersections(){return this.__countIntersections}__processCountIntersections(){void 0!==this.__countIntersections&&this.__elCountIntersections.text(`${this.__intersectionsAlias}: ${this.__countIntersections}`)}setShowCountIntersections(e){let i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showCountIntersections&&(this.__showCountIntersections=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowCountIntersections"]),this.__processShowCountIntersections()):i=this.getAttributeDefaultValueInternal("ShowCountIntersections")}getShowCountIntersections(){return this.__showCountIntersections}__processShowCountIntersections(){!0===this.__showCountIntersections?this.__elCountIntersections.css("display","block"):this.__elCountIntersections.css("display","none"),t.EventProvider.raise(`${this.__id}.onResized`,null)}setShowGateIntersectionPoint(e){let i=t.ValueConverter.toBoolean(e);null!==i?i!==this.__showGateIntersectionPoint&&(this.__showGateIntersectionPoint=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowGateIntersectionPoint"]),this.__processShowGateIntersectionPoint()):i=this.getAttributeDefaultValueInternal("ShowGateIntersectionPoint")}getShowGateIntersectionPoint(){return this.__showGateIntersectionPoint}__processShowGateIntersectionPoint(){1==this.__showGateIntersectionPoint?this.__elSvgPoint[0].setAttribute("visibility","visible"):this.__elSvgPoint[0].setAttribute("visibility","hidden")}setUnit(e){let i=t.ValueConverter.toString(e);null===i&&(i=this.getAttributeDefaultValueInternal("Unit")),i!==this.__unit&&(this.__unit=i,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getUnit"]),this.__processUnit())}getUnit(){return this.__unit}__processUnit(){this.__drawShape()}__processColorGradient(){this.__processColor()}__processColor(){if(this.__isAttached){if(this.__elSvgDefs[0].innerHTML="",this.CreateRadialGradient(this.__intersectionColor.color,this.__elSvgDefs[0],this.__colorGradient,`${this.__radialGrad}${this.__secureId}Intersection`),this.CreateRadialGradient(this.__noIntersectionColor.color,this.__elSvgDefs[0],this.__colorGradient,`${this.__radialGrad}${this.__secureId}NoIntersection`),"Rectangle"===this.__shape)for(let t=0;t<2;t++)this.__elSvgDefs[0].children[t].setAttribute("r","80%");this.CreateRadialGradient(this.__pointColor.color,this.__elSvgDefs[0],this.__colorGradient,`${this.__radialGrad}${this.__secureId}Point`),this.__withinShape?this.__elSvgOuterForm.css("fill",`url(#${this.__radialGrad}${this.__secureId}Intersection`):this.__elSvgOuterForm.css("fill",`url(#${this.__radialGrad}${this.__secureId}NoIntersection`),this.__elSvgOuterForm.css("stroke",this.__controlColorDark),this.__elSvgPoint.css("fill",`url(#${this.__radialGrad}${this.__secureId}Point`)}}__drawShape(){if(this.__isAttached)switch(this.__shape){case"Rectangle":this.__drawRectangle();break;case"Circle":this.__drawCircle();break;case"Triangle":this.__drawTriangle()}}__drawRectangle(){const t=this.__config1.X,e=this.__config1.Y,i=this.__config2,s=this.__config3,n=this.__getRectangleShape(t,e,i,s);this.__drawInfo=n,this.__drawRectangleShape(n,t,e,i,s),this.__drawCursor(this.__xInputValue,this.__yInputValue)}__drawRectangleShape(t,e,i,s,n){this.__elSvgRectangle[0].setAttribute("x",`${t.rectangle.x}px`),this.__elSvgRectangle[0].setAttribute("y",`${t.rectangle.y}px`),this.__elSvgRectangle[0].setAttribute("width",`${t.rectangle.width}px`),this.__elSvgRectangle[0].setAttribute("height",`${t.rectangle.height}px`);const o=this.getTrimmedNumberWithUnit(e,this.__unit),r=this.getTrimmedNumberWithUnit(i,this.__unit),_=this.getTrimmedNumberWithUnit(s,this.__unit),l=this.getTrimmedNumberWithUnit(n,this.__unit);this.__elSvgRectangleTitle.html(`X: ${o}, Y: ${r}, Width: ${_}, Height: ${l}`),this.__elSvgVertices.css("visibility","visible");const h=e,a=i,c=e+s,u=i+n,g=t.rectangle.x,d=t.rectangle.y,p=t.rectangle.x+t.rectangle.width,v=t.rectangle.y+t.rectangle.height;this.__drawPointTooltip("A",h,a,g,d,0),this.__drawPointTooltip("B",c,a,p,d,1),this.__drawPointTooltip("C",h,u,g,v,2),this.__drawPointTooltip("D",c,u,p,v,3)}__getRectangleShape(t,i,s,n){let o,r,_,l,h,a,c=s/n;return e.Utilities.isNumber(c)||(c=1),c<1?(_=this.PADDING.x+(this.RECTANGLE_WIDTH-this.RECTANGLE_WIDTH*c)/2,l=this.PADDING.y,h=this.RECTANGLE_WIDTH*c,a=this.RECTANGLE_HEIGHT,o=this.RECTANGLE_WIDTH/s*c,r=this.RECTANGLE_HEIGHT/n):(_=this.PADDING.x,l=this.PADDING.y+(this.RECTANGLE_WIDTH-this.RECTANGLE_WIDTH/c)/2,h=this.RECTANGLE_WIDTH,a=this.RECTANGLE_HEIGHT/c,o=this.RECTANGLE_WIDTH/s,r=this.RECTANGLE_HEIGHT/n/c),{offset:{x:_-o*t,y:l-r*i},factor:{x:o,y:r},rectangle:{x:_,y:l,width:h,height:a}}}__drawCircle(){const t=this.__config1.X,e=this.__config1.Y,i=this.__config2;this.__drawCircleShape(t,e,i),this.__drawCursor(this.__xInputValue,this.__yInputValue)}__drawCircleShape(t,e,i){const s=this.__getCircleShape(t,e,i);this.__drawInfo=s,this.__elSvgCircle[0].setAttribute("cx",`${s.circle.center.x}px`),this.__elSvgCircle[0].setAttribute("cy",`${s.circle.center.y}px`),this.__elSvgCircle[0].setAttribute("r",`${s.circle.radius}px`);const n=this.getTrimmedNumberWithUnit(t,this.__unit),o=this.getTrimmedNumberWithUnit(e,this.__unit),r=this.getTrimmedNumberWithUnit(i,this.__unit);this.__elSvgCircleTitle.html(`Center ( ${n} | ${o} ), r: ${r}`),this.__elSvgVertices.css("visibility","hidden"),this.__elSvgVertices[0].style.visibility="visible",this.__drawPointTooltip("Center",t,e,s.circle.center.x,s.circle.center.y,0)}__getCircleShape(t,e,i){let s;s=this.SVG_SIZE.width>this.SVG_SIZE.height?this.SVG_SIZE.height/2-this.PADDING.y:this.SVG_SIZE.width/2-this.PADDING.x;const n=this.SVG_SIZE.width/2,o=this.SVG_SIZE.height/2,r=s/i;return{offset:{x:n-t*r,y:o-e*r},factor:{x:r,y:r},circle:{center:{x:n,y:o},radius:s}}}__drawTriangle(){const t=this.__config1.X,e=this.__config1.Y,i=this.__config4.X,s=this.__config4.Y,n=this.__config5.X,o=this.__config5.Y;this.__drawTriangleShape(t,e,i,s,n,o),this.__drawCursor(this.__xInputValue,this.__yInputValue)}__drawTriangleShape(t,e,i,s,n,o){const r=this.__getTriangleShape(t,e,i,s,n,o);this.__drawInfo=r,this.__elSvgTriangle[0].setAttribute("d",`M${r.triangle.p3.x},${r.triangle.p3.y}\n                                                                L${r.triangle.p1.x},${r.triangle.p1.y}\n                                                                L${r.triangle.p2.x},${r.triangle.p2.y}\n                                                                L${r.triangle.p3.x},${r.triangle.p3.y}z`),this.__elSvgVertices.css("visibility","visible");const _=this.__drawPointTooltip("A",t,e,r.triangle.p1.x,r.triangle.p1.y,0),l=this.__drawPointTooltip("B",i,s,r.triangle.p2.x,r.triangle.p2.y,1),h=this.__drawPointTooltip("C",n,o,r.triangle.p3.x,r.triangle.p3.y,2);this.__elSvgTriangleTitle.html(`${_}, ${l}, ${h}`),this.__elSvgVertices[3].style.visibility="hidden"}__getTriangleShape(t,e,i,s,n,o){const r=Math.min(t,i,n),_=Math.max(t,i,n)-r,l=Math.min(e,s,o),h=Math.max(e,s,o)-l,a=_/h;let c,u;a<1?(c=(this.SVG_SIZE.width-2*this.PADDING.x)/_*a,u=(this.SVG_SIZE.height-2*this.PADDING.y)/h):(c=(this.SVG_SIZE.width-2*this.PADDING.x)/_,u=(this.SVG_SIZE.height-2*this.PADDING.y)/h/a);const g=-r*c+this.PADDING.x,d=-l*u+this.PADDING.y;return{offset:{x:g,y:d},factor:{x:c,y:u},triangle:{p1:{x:g+t*c,y:d+e*u},p2:{x:g+i*c,y:d+s*u},p3:{x:g+n*c,y:d+o*u}}}}__drawPointTooltip(t,e,i,s,n,o){this.__elSvgVertices[o].setAttribute("cx",`${s}px`),this.__elSvgVertices[o].setAttribute("cy",`${n}px`);const r=`${t} ( ${this.getTrimmedNumberWithUnit(e,this.__unit)} | ${this.getTrimmedNumberWithUnit(i,this.__unit)} )`;return this.__elSvgVerticesTitles[o].innerHTML=r,r}__drawCursor(t,e){if(this.__isAttached){const i=this.__drawInfo.offset.x+this.__drawInfo.factor.x*t,s=this.__drawInfo.offset.y+this.__drawInfo.factor.y*e;this.__elSvgPoint[0].setAttribute("d",`M${i} ${s+8} L${i-5} ${s-8} L${i+5} ${s-8} Z`);const n=i-this.__lastPointPos.x,o=s-this.__lastPointPos.y;let r=180*Math.atan2(o,n)/Math.PI;this.__elSvgPoint[0].style.transform=`rotate(${-90+r}deg)`,this.__lastPointPos={x:i,y:s};const _=this.getTrimmedNumberWithUnit(t,this.__unit,"SVGPoint"),l=this.getTrimmedNumberWithUnit(e,this.__unit,"SVGPoint");this.__elSvgPointTitle.html(`P ( ${_} | ${l} )`)}}}e.XYShapeMonitor=i}(i=e.Analytics||(e.Analytics={})),e.registerEx("XYShapeMonitor","TcHmi.Controls.Analytics",i.XYShapeMonitor)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));