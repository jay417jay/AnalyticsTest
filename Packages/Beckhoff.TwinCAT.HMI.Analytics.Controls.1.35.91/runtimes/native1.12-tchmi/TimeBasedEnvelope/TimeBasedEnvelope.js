var TcHmi;!function(e){let t;!function(t){let s;!function(t){class s extends e.Controls.Analytics.AnalyticsControl{constructor(e,t,s){super(e,t,s),this.__linearGrad="linearGradTBE",this.__onResized=()=>(e,t)=>{let s=super.__getScaleFactor(!0);if(0==this.__hasLicense)return;let i=this.__defaultHeight+18-this.__elementNameAlias[0].clientHeight;0==this.__showCurrentCycles&&(i+=20),0==this.__showReadState&&(i+=20);var n=i/this.__defaultHeight;s=this.__getFontScaleFactor(void 0,i)*n,this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementSvg.css("width",this.getRenderedWidth()-10),this.__elementSvg.css("height",90*s),this.__elementReadState.css("font-size",14*s),this.__elementCurrentCycles.css("font-size",14*s),!0===this.__showTitle?(this.__elementSvg.css("margin-top",0*s),this.__elementReadState.css("margin-top",0*s),this.__elementCurrentCycles.css("margin-top",0*s)):(this.__elementSvg.css("margin-top",5*s),this.__elementReadState.css("margin-top",5*s),this.__elementCurrentCycles.css("margin-top",5*s)),this.__elementSvg[0].setAttribute("viewBox","0 0 "+(this.getRenderedWidth()-10)+" 90"),this.__elementSvg[0].setAttribute("width",(this.getRenderedWidth()-10).toString()),this.__processSvg()}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=150,this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg"),this.__elementSvgDefs=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-defs"),this.__elementSvgRectBusy=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-busy-rect"),this.__elementSvgTextBusy=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-busy-text"),this.__elementSvgTextRect=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-rect"),this.__elementSvgTextSmaller=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-smaller"),this.__elementSvgTextWithin=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-within"),this.__elementSvgTextBigger=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-bigger"),this.__elementSvgRectangle=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-rectangle"),this.__elementSvgRectangleBounds=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-rectangle-bounds"),this.__elementSvgRectangleBoundsInner=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-rectangle-inner-bounds"),this.__elementSvgRectangleSmaller=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-rectangle-smaller"),this.__elementSvgRectangleWithin=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-rectangle-within"),this.__elementSvgRectangleBigger=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-rectangle-bigger"),this.__elementSvgLineLower=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-line-lower"),this.__elementSvgLineUpper=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-line-upper"),this.__elementSvgTextBounds=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-bound"),this.__elementSvgTextBoundsLower=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-lower-bound"),this.__elementSvgTextBoundsUpper=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-upper-bound"),this.__elementSvgTextBoundsSmaller=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-smaller-bound"),this.__elementSvgTextBoundsWithin=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-within-bound"),this.__elementSvgTextBoundsBigger=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-svg-text-bigger-bound"),this.__elementReadState=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-read-state"),this.__elementCurrentCycles=this.__elementTemplateRoot.find(".tchmi-time-based-envelope-current-cycles"))}__init(){let e=[new t.Property(this,"ShowCurrentCycles","Show Current Cycles",t.E_DataType.BOOLEAN),new t.Property(this,"EnvelopeColor","Envelope Color",t.E_DataType.SOLIDCOLOR)];super.setEditableProperties(e),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setWithinAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("WithinAlias")),s!==this.__withinAlias&&(this.__withinAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getWithinAlias"]),this.__processWithinAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getWithinAlias(){return this.__withinAlias}__processWithinAlias(){this.__elementSvgTextWithin[0].textContent=this.__withinAlias}setBiggerAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("BiggerAlias")),s!==this.__biggerAlias&&(this.__biggerAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getBiggerAlias"]),this.__processBiggerAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getBiggerAlias(){return this.__biggerAlias}__processBiggerAlias(){this.__elementSvgTextBigger[0].textContent=this.__biggerAlias}setSmallerAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("SmallerAlias")),s!==this.__smallerAlias&&(this.__smallerAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getSmallerAlias"]),this.__processSmallerAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getSmallerAlias(){return this.__smallerAlias}__processSmallerAlias(){this.__elementSvgTextSmaller[0].textContent=this.__smallerAlias}setBusyAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("BusyAlias")),s!==this.__busyAlias&&(this.__busyAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getBusyAlias"]),this.__processBusyAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getBusyAlias(){return this.__busyAlias}__processBusyAlias(){this.__elementSvgTextBusy[0].textContent=this.__busyAlias}setReadStateAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("ReadStateAlias")),s!==this.__readStateAlias&&(this.__readStateAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getReadStateAlias"]),this.__processReadStateAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getReadStateAlias(){return this.__readStateAlias}__processReadStateAlias(){this.__processReadState()}setReadMessageAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("ReadMessageAlias")),s!==this.__readMessageAlias&&(this.__readMessageAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getReadMessageAlias"]),this.__processReadMessageAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getReadMessageAlias(){return this.__readMessageAlias}__processReadMessageAlias(){this.__processReadState()}setCurrentCyclesAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("CurrentCyclesAlias")),s!==this.__currentCyclesAlias&&(this.__currentCyclesAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrentCyclesAlias"]),this.__processCurrentCyclesAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getCurrentCyclesAlias(){return this.__currentCyclesAlias}__processCurrentCyclesAlias(){this.__processCurrentCycles()}setLowerBound(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("LowerBound")),s!==this.__lowerBound&&(this.__lowerBound=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLowerBound"]),this.__processLowerBound())}getLowerBound(){return this.__lowerBound}__processLowerBound(){this.__elementSvgTextBoundsLower[0].textContent=this.getTrimmedNumber(this.__lowerBound),this.__processSvg()}setUpperBound(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("UpperBound")),s!==this.__upperBound&&(this.__upperBound=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getUpperBound"]),this.__processUpperBound())}getUpperBound(){return this.__upperBound}__processUpperBound(){this.__elementSvgTextBoundsUpper[0].textContent=this.getTrimmedNumber(this.__upperBound),this.__processSvg()}setValue(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("Value")),s!==this.__value&&(this.__value=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getValue"]),this.__processValue())}getValue(){return this.__value}__processValue(){this.__processSvg()}setClassificationResult(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("ClassificationResult")),s!==this.__eClass&&(this.__eClass=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getClassificationResult"]),this.__processClassificationResult())}getClassificationResult(){return this.__eClass}__processClassificationResult(){this.__processColor()}setExecutingCompare(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ExecutingCompare")),s!==this.__executingCompare&&(this.__executingCompare=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getExecutingCompare"]),this.__processExecutingCompare())}getExecutingCompare(){return this.__executingCompare}__processExecutingCompare(){!0===this.__executingCompare?(this.__elementSvgRectBusy.css("fill","url(#"+this.__linearGrad+this.__secureId+"EnvelopeColor)"),this.__elementSvgRectangleBoundsInner.css("fill","url(#"+this.__linearGrad+this.__secureId+"EnvelopeColor)")):(this.__elementSvgRectBusy.css("fill",this.__controlColorLightPlus),this.__elementSvgRectangleBoundsInner.css("fill",this.__controlColorLightPlus))}setWithinBand(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("WithinBand")),s!==this.__withinBand&&(this.__withinBand=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getWithinBand"]),this.__processWithinBand())}getWithinBand(){return this.__withinBand}__processWithinBand(){}setCountSmaller(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CountSmaller")),s!==this.__countSmaller&&(this.__countSmaller=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountSmaller"]),this.__processCountSmaller())}getCountSmaller(){return this.__countSmaller}__processCountSmaller(){this.__elementSvgTextBoundsSmaller[0].textContent=this.__countSmaller.toString()}setCountBigger(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CountBigger")),s!==this.__countBigger&&(this.__countBigger=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountBigger"]),this.__processCountBigger())}getCountBigger(){return this.__countBigger}__processCountBigger(){this.__elementSvgTextBoundsBigger[0].textContent=this.__countBigger.toString()}setCountWithinBand(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CountWithinBand")),s!==this.__countWithinBand&&(this.__countWithinBand=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountWithinBand"]),this.__processCountWithinBand())}getCountWithinBand(){return this.__countWithinBand}__processCountWithinBand(){this.__elementSvgTextBoundsWithin[0].textContent=this.__countWithinBand.toString()}setCurrentCycles(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CurrentCycles")),s!==this.__currentCycles&&(this.__currentCycles=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrentCycles"]),this.__processCurrentCycles())}getCurrentCycles(){return this.__currentCycles}__processCurrentCycles(){this.__elementCurrentCycles.text(this.__currentCyclesAlias+": "+this.__currentCycles)}setEnvelopeColor(t){let s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("EnvelopeColor")),s!==this.__envelopeColor&&(this.__envelopeColor=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getEnvelopeColor"]),this.__processEnvelopeColor())}getEnvelopeColor(){return this.__envelopeColor}__processEnvelopeColor(){this.__processColor(),this.__processExecutingCompare()}setReadState(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("ReadState")),s!==this.__readState&&(this.__readState=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getReadState"]),this.__processReadState())}getReadState(){return this.__readState}__processReadState(){let e;if(void 0!==this.__readMessageAlias&&null!==this.__readMessageAlias&&void 0!==this.__readState){switch(this.__readState){case 1:e=this.__readMessageAlias.split(",")[0];break;case 2:e=this.__readMessageAlias.split(",")[1];break;case 3:e=this.__readMessageAlias.split(",")[2];break;case 4:e=this.__readMessageAlias.split(",")[3];break;case 0:e=this.__readMessageAlias.split(",")[4];break;default:e=""}this.__elementReadState.text(this.__readStateAlias+": "+e)}}setShowReadState(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ShowReadState")),s!==this.__showReadState&&(this.__showReadState=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowReadState"]),this.__processShowReadState())}getShowReadState(){return this.__showReadState}__processShowReadState(){!0===this.__showReadState?this.__elementReadState.css("display","block"):this.__elementReadState.css("display","none"),e.EventProvider.raise(`${this.__id}.onResized`,null)}setShowCurrentCycles(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ShowCurrentCycles")),s!==this.__showCurrentCycles&&(this.__showCurrentCycles=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowCurrentCycles"]),this.__processShowCurrentCycles())}getShowCurrentCycles(){return this.__showCurrentCycles}__processShowCurrentCycles(){!0===this.__showCurrentCycles?this.__elementCurrentCycles.css("display","block"):this.__elementCurrentCycles.css("display","none"),e.EventProvider.raise(`${this.__id}.onResized`,null)}__processColorGradient(){this.__processColor()}__processColor(){if(void 0!==this.__envelopeColor&&void 0!==this.__controlChartColor&&void 0!==this.__colorGradient){this.__elementSvgDefs[0].innerHTML="",this.CreateLinearGradient(this.hexToRgbA(this.__controlChartColor),this.__elementSvgDefs[0],this.__colorGradient,this.__linearGrad+this.__secureId+"ChartColor"),this.CreateLinearGradient(this.__envelopeColor.color,this.__elementSvgDefs[0],this.__colorGradient,this.__linearGrad+this.__secureId+"EnvelopeColor"),this.CreateLinearGradient(this.hexToRgbA(this.__controlColorDark),this.__elementSvgDefs[0],this.__colorGradient,this.__linearGrad+this.__secureId+"DarkColor");for(var e=0;e<3;e++)this.__elementSvgDefs[0].children[e].setAttribute("x2","0%"),this.__elementSvgDefs[0].children[e].setAttribute("y2","100%"),this.__elementSvgDefs[0].children[e].children[1].setAttribute("offset","35%")}this.__processExecutingCompare(),this.__elementSvgRectBusy.css("stroke","url(#"+this.__linearGrad+this.__secureId+"DarkColor)"),this.__elementSvgTextBusy.css("fill",this.__fontColor),this.__elementSvgRectangle.css("stroke","url(#"+this.__linearGrad+this.__secureId+"DarkColor)"),this.__elementSvgRectangleBoundsInner.css("stroke","none"),this.__elementSvgRectangleBounds.css("stroke","url(#"+this.__linearGrad+this.__secureId+"DarkColor)"),this.__elementSvgLineLower.css("stroke",this.__controlColorDark),this.__elementSvgLineUpper.css("stroke",this.__controlColorDark),this.__elementSvgTextBounds.css("fill",this.__fontColor),this.__elementSvgTextRect.css("fill","none"),this.__elementSvgRectangle.css("fill","url(#"+this.__linearGrad+this.__secureId+"ChartColor)");let t=this.__fontColor;3===this.__eClass?(this.__elementSvgTextBigger.css("fill",t),this.__elementSvgRectangleBigger.css("fill","url(#"+this.__linearGrad+this.__secureId+"EnvelopeColor)")):1===this.__eClass?(this.__elementSvgTextWithin.css("fill",t),this.__elementSvgRectangleWithin.css("fill","url(#"+this.__linearGrad+this.__secureId+"EnvelopeColor)")):2===this.__eClass&&(this.__elementSvgTextSmaller.css("fill",t),this.__elementSvgRectangleSmaller.css("fill","url(#"+this.__linearGrad+this.__secureId+"EnvelopeColor)")),this.__elementSvgRectangleBounds.css("fill",this.__controlChartColor)}__processSvg(){void 0!==this.__value&&void 0!==this.__lowerBound&&void 0!==this.__upperBound&&this.DrawSvg(this.getRenderedWidth(),this.__value,this.__lowerBound,this.__upperBound)}DrawSvg(e,t,s,i){e<8&&(e=8);let n=e-4,l=(n-2-2)/3;this.__elementSvgRectBusy[0].setAttribute("x","1px"),this.__elementSvgRectBusy[0].setAttribute("y","5px"),this.__elementSvgRectBusy[0].setAttribute("width","12px"),this.__elementSvgRectBusy[0].setAttribute("height","12px"),this.__elementSvgRectangleSmaller[0].setAttribute("x","2px"),this.__elementSvgRectangleSmaller[0].setAttribute("y",90*.24+"px"),this.__elementSvgRectangleSmaller[0].setAttribute("width",l+2+"px"),this.__elementSvgRectangleSmaller[0].setAttribute("height",45-90*.24+"px"),this.__elementSvgRectangleWithin[0].setAttribute("x",2+l+"px"),this.__elementSvgRectangleWithin[0].setAttribute("y",90*.24+"px"),this.__elementSvgRectangleWithin[0].setAttribute("width",l+2+"px"),this.__elementSvgRectangleWithin[0].setAttribute("height",45-90*.24+"px"),this.__elementSvgRectangleBigger[0].setAttribute("x",2+2*l+"px"),this.__elementSvgRectangleBigger[0].setAttribute("y",90*.24+"px"),this.__elementSvgRectangleBigger[0].setAttribute("width",l+2+"px"),this.__elementSvgRectangleBigger[0].setAttribute("height",45-90*.24+"px"),this.__elementSvgRectangleBounds[0].setAttribute("x","2px"),this.__elementSvgRectangleBounds[0].setAttribute("y","50px"),this.__elementSvgRectangleBounds[0].setAttribute("width",n-3+"px"),this.__elementSvgRectangleBounds[0].setAttribute("height","12px");let r=1;r=t<=s?t/s*l:t>s&&t<=i?(t-s)/(i-s)*l+l:t<2*i?(t-i)/(2*i-i)*l+2*l:n-2+1,"NaN"==r.toString()&&(r=1),this.__elementSvgRectangleBoundsInner[0].setAttribute("x","3px"),this.__elementSvgRectangleBoundsInner[0].setAttribute("y","51.5px"),this.__elementSvgRectangleBoundsInner[0].setAttribute("width",r-1+"px"),this.__elementSvgRectangleBoundsInner[0].setAttribute("height","9px"),"number"==typeof s&&"number"==typeof i&&(this.__elementSvgTextBoundsLower[0].setAttribute("x",2+l-1+"px"),this.__elementSvgTextBoundsLower[0].setAttribute("y","89.1px"),this.__elementSvgTextBoundsUpper[0].setAttribute("x",2+2*l-1+"px"),this.__elementSvgTextBoundsUpper[0].setAttribute("y","89.1px"),this.__elementSvgLineLower[0].setAttribute("x1",2+l-1+"px"),this.__elementSvgLineLower[0].setAttribute("x2",2+l-1+"px"),this.__elementSvgLineLower[0].setAttribute("y1","74.7px"),this.__elementSvgLineLower[0].setAttribute("y2",90*.55+"px"),this.__elementSvgLineUpper[0].setAttribute("x1",2+2*l-1+"px"),this.__elementSvgLineUpper[0].setAttribute("x2",2+2*l-1+"px"),this.__elementSvgLineUpper[0].setAttribute("y1","74.7px"),this.__elementSvgLineUpper[0].setAttribute("y2",90*.55+"px")),this.__elementSvgTextSmaller[0].setAttribute("x",(2+l)/2+"px"),this.__elementSvgTextSmaller[0].setAttribute("y","37.8px"),this.__elementSvgTextWithin[0].setAttribute("x",(2+l)/2+l+"px"),this.__elementSvgTextWithin[0].setAttribute("y","37.8px"),this.__elementSvgTextBigger[0].setAttribute("x",(2+l)/2+2*l+"px"),this.__elementSvgTextBigger[0].setAttribute("y","37.8px"),this.__elementSvgTextBoundsSmaller[0].setAttribute("x",(2+l)/2+"px"),this.__elementSvgTextBoundsSmaller[0].setAttribute("y","76.5px"),this.__elementSvgTextBoundsWithin[0].setAttribute("x",(2+l)/2+l+"px"),this.__elementSvgTextBoundsWithin[0].setAttribute("y","76.5px"),this.__elementSvgTextBoundsBigger[0].setAttribute("x",(2+l)/2+2*l+"px"),this.__elementSvgTextBoundsBigger[0].setAttribute("y","76.5px")}}t.TimeBasedEnvelope=s}(s=t.Analytics||(t.Analytics={})),t.registerEx("TimeBasedEnvelope","TcHmi.Controls.Analytics",s.TimeBasedEnvelope)}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));