var CustomElements;!function(t){class s extends t.AnalyticsBaseCustomElement{constructor(){super(),this.__margin=5,this.DEFAULT_MAX_TEXT_VALUE_FONT_SIZE=100,this.DEFAULT_MAX_TEXT_ALIAS_FONT_SIZE=50,this.__progress=10,this.__showText=!0,this.__showThresholds=!1,this.__showClassification=!0,this.__thresholdOkWarning=90,this.__thresholdWarningAlarm=75,this.__classification=TcHmi.Controls.Analytics.ClassificationState.NOT_INITIALIZED,this.__maxTextValueFontSize=this.DEFAULT_MAX_TEXT_VALUE_FONT_SIZE,this.__maxTextAliasFontSize=this.DEFAULT_MAX_TEXT_ALIAS_FONT_SIZE,this.__textValueFontSize=this.DEFAULT_MAX_TEXT_VALUE_FONT_SIZE,this.__textAliasFontSize=this.DEFAULT_MAX_TEXT_ALIAS_FONT_SIZE,this.__ringColor="rgb(0, 200, 200)",this.__ringBackgroundColor=null,this.__colorOk="#339900",this.__colorWarning="#ff9900",this.__colorAlarm="#cc3300",this.__ringAlias="Value"}__init(){}__attach(){this.__elSVG=this.__elTemplateRoot.querySelector("svg"),this.__elSVGCircleProgress=this.__elSVG.querySelector(".circle-progress"),this.__elSVGCircleBackground=this.__elSVG.querySelector(".circle-background"),this.__elSVGCircleFirst=this.__elSVG.querySelector(".circle-first"),this.__elSVGCircleSecond=this.__elSVG.querySelector(".circle-second"),this.__elSVGCircleLast=this.__elSVG.querySelector(".circle-last"),this.__elTextContainer=this.__elTemplateRoot.querySelector(".text-container"),this.__elTextValue=this.__elTextContainer.querySelector(".progress"),this.__elTextAlias=this.__elTextContainer.querySelector(".alias"),this.__addEventListeners()}__onSizeChanged(){if(super.__onSizeChanged(),this.__isAttached){const t=Math.min(this.__size.width,this.__size.height);this.__svgSize=t-2*this.__margin,this.__svgSize>=0&&(this.__elSVG.style.margin=`${this.__margin}px`,this.__elSVG.setAttribute("width",`${this.__svgSize}px`),this.__elSVG.setAttribute("height",`${this.__svgSize}px`)),this.maxTextValueFontSize=100,this.maxTextAliasFontSize=50,this.resetAutoSize(),this.__onPropertyChanged("size",this.__size)}}get progress(){return this.__progress}set progress(t){t!==this.__progress&&(this.__progress=t,this.__onProgressChanged())}__onProgressChanged(){this.__isAttached&&(this.__draw(),this.__onPropertyChanged("progress",this.__progress))}get showText(){return this.__showText}set showText(t){t!==this.__showText&&(this.__showText=t,this.__onShowTextChanged())}__onShowTextChanged(){this.__isAttached&&(this.__showText?this.__elTextContainer.classList.remove("collapse"):this.__elTextContainer.classList.add("collapse"),this.__draw(),this.__onPropertyChanged("showText",this.__showText))}get showThresholds(){return this.__showThresholds}set showThresholds(t){t!==this.__showThresholds&&(this.__showThresholds=t,this.__onShowThresholdsChanged())}__onShowThresholdsChanged(){this.__isAttached&&(this.__drawThresholds(),this.__onPropertyChanged("showThresholds",this.__showThresholds))}get showClassification(){return this.__showClassification}set showClassification(t){t!==this.__showClassification&&(this.__showClassification=t,this.__onShowClassificationChanged())}__onShowClassificationChanged(){this.__isAttached&&(this.__processClassification(),this.__onPropertyChanged("showClassification",this.__showClassification))}get thresholdOkWarning(){return this.__thresholdOkWarning}set thresholdOkWarning(t){t!==this.__thresholdOkWarning&&(this.__thresholdOkWarning=t,this.__onThresholdOkWarningChanged())}__onThresholdOkWarningChanged(){this.__isAttached&&(this.__drawThresholds(),this.__onPropertyChanged("thresholdOkWarning",this.__thresholdOkWarning))}get thresholdWarningAlarm(){return this.__thresholdWarningAlarm}set thresholdWarningAlarm(t){t!==this.__thresholdWarningAlarm&&(this.__thresholdWarningAlarm=t,this.__onThresholdWarningAlarmChanged())}__onThresholdWarningAlarmChanged(){this.__isAttached&&(this.__drawThresholds(),this.__onPropertyChanged("thresholdWarningAlarm",this.__thresholdWarningAlarm))}get classification(){return this.__classification}set classification(t){t!==this.__classification&&(this.__classification=t,this.__onClassificationChanged())}__onClassificationChanged(){this.__isAttached&&(this.__processClassification(),this.__onPropertyChanged("classification",this.__classification))}get maxTextValueFontSize(){return this.__maxTextValueFontSize}set maxTextValueFontSize(t){t!==this.__maxTextValueFontSize&&(this.__maxTextValueFontSize=t,this.__onMaxTextValueFontSizeChanged())}__onMaxTextValueFontSizeChanged(){this.__isAttached&&(this.__drawText(),this.__onPropertyChanged("maxTextValueFontSize",this.__maxTextValueFontSize))}get maxTextAliasFontSize(){return this.__maxTextAliasFontSize}set maxTextAliasFontSize(t){t!==this.__maxTextAliasFontSize&&(this.__maxTextAliasFontSize=t,this.__onMaxTextAliasFontSizeChanged())}__onMaxTextAliasFontSizeChanged(){this.__isAttached&&(this.__drawText(),this.__onPropertyChanged("maxTextAliasFontSize",this.__maxTextAliasFontSize))}get textValueFontSize(){return this.__textValueFontSize}set textValueFontSize(t){t!==this.__textValueFontSize&&(this.__textValueFontSize=t,this.__onTextValueFontSizeChanged())}__onTextValueFontSizeChanged(){this.__isAttached&&this.__onPropertyChanged("textValueFontSize",this.__textValueFontSize)}get textAliasFontSize(){return this.__textAliasFontSize}set textAliasFontSize(t){t!==this.__textAliasFontSize&&(this.__textAliasFontSize=t,this.__onTextAliasFontSizeChanged())}__onTextAliasFontSizeChanged(){this.__isAttached&&this.__onPropertyChanged("textAliasFontSize",this.__textAliasFontSize)}get ringColor(){return this.__ringColor}set ringColor(t){t!==this.__ringColor&&(this.__ringColor=t,this.__onRingColorChanged())}__onRingColorChanged(){this.__isAttached&&(this.__draw(),this.__onPropertyChanged("ringColor",this.__ringColor))}get ringBackgroundColor(){return this.__ringBackgroundColor}set ringBackgroundColor(t){t!==this.__ringBackgroundColor&&(this.__ringBackgroundColor=t,this.__onRingBackgroundColorChanged())}__onRingBackgroundColorChanged(){this.__isAttached&&this.__onPropertyChanged("ringBackgroundColor",this.__ringBackgroundColor)}get colorOk(){return this.__colorOk}set colorOk(t){t!==this.__colorOk&&(this.__colorOk=t,this.__onColorOkChanged())}__onColorOkChanged(){this.__isAttached&&(this.__elTextValue.style.setProperty("--ok-color",this.__colorOk),this.__onPropertyChanged("colorOk",this.__colorOk))}get colorWarning(){return this.__colorWarning}set colorWarning(t){t!==this.__colorWarning&&(this.__colorWarning=t,this.__onColorWarningChanged())}__onColorWarningChanged(){this.__isAttached&&(this.__elTextValue.style.setProperty("--warning-color",this.__colorWarning),this.__onPropertyChanged("colorWarning",this.__colorWarning))}get colorAlarm(){return this.__colorAlarm}set colorAlarm(t){t!==this.__colorAlarm&&(this.__colorAlarm=t,this.__onColorAlarmChanged())}__onColorAlarmChanged(){this.__isAttached&&(this.__elTextValue.style.setProperty("--alarm-color",this.__colorAlarm),this.__onPropertyChanged("colorAlarm",this.__colorAlarm))}get ringAlias(){return this.__ringAlias}set ringAlias(t){t!==this.__ringAlias&&(this.__ringAlias=t,this.__onRingAliasChanged())}__onRingAliasChanged(){this.__isAttached&&(this.__draw(),this.__onPropertyChanged("ringAlias",this.__ringAlias))}resetAutoSize(){this.__isAttached&&(this.__resetAutoSize("value"),this.__resetAutoSize("alias"),this.__drawAll())}__drawAll(){this.__draw(),this.__drawThresholds(),this.__drawText()}__draw(){void 0!==this.__svgSize&&(this.__drawRings(),this.showText&&this.__drawText())}__drawRings(){var t;if(void 0===this.__svgSize||this.__svgSize<0)return;let s=this.progress;s>100?s=100:s<0&&(s=0);let i=99.4-s,e=s+.3;e>=100&&(i=0,e=100);const _=null!==(t=this.__ringBackgroundColor)&&void 0!==t?t:this.ringColor;this.__drawRing(this.__elSVGCircleBackground,i,_,e),this.__lastRingInfo=this.__drawRing(this.__elSVGCircleProgress,s,this.__ringColor),this.__lastOEERingInfo=this.__lastRingInfo}__drawRing(t,s,i="red",e=0,_=this.__svgSize,o){const n=this.__getSVGCircleAttributes(_,s,100,e,o,this.__svgSize);return null==t||n.r<=0||(t.setAttribute("cx",n.cx_s),t.setAttribute("cy",n.cy_s),t.setAttribute("r",n.r_s),t.setAttribute("stroke-width",n.strokeWidth_s),t.setAttribute("stroke-dashoffset",n.strokeDashOffset_s),t.setAttribute("stroke-dasharray",n.strokeDashArray_s),t.style.strokeDashoffset=n.strokeDashOffset_s,t.style.strokeDasharray=n.strokeDashArray_s,t.setAttribute("stroke",i)),n}__drawText(){if(void 0===this.__lastRingInfo||this.__svgSize<0||!this.__showText)return;const s=`${this.__getTrimmedNumber(this.__progress)}%`;this.__elTextValue.innerHTML=s,this.__elTextAlias.innerHTML=this.ringAlias,this.__elTextContainer.style.width=`${.7*this.__lastRingInfo.innerWidth}px`,this.__elTextContainer.style.height=`${.7*this.__lastRingInfo.innerWidth}px`,this.__elTextContainer.style.marginLeft=`${(this.size.width-this.__lastRingInfo.width)/2+this.__lastRingInfo.strokeWidth+.15*this.__lastRingInfo.innerWidth}px`,this.__elTextAlias.style.fontSize="6px";this.__maxTextValueFontSize;let i=this.__maxTextAliasFontSize;this.textValueFontSize=this.__autoSize(this.__elTextContainer,this.__elTextValue,"fontSize",{namespace:"value",autoGrowDelay:6e4,max:this.DEFAULT_MAX_TEXT_VALUE_FONT_SIZE}),this.textValueFontSize>this.maxTextValueFontSize&&(this.__elTextValue.style.fontSize=t.Str.px(this.maxTextValueFontSize)),i>.75*this.__textValueFontSize&&(i=.75*this.__textValueFontSize),this.textAliasFontSize=this.__autoSize(this.__elTextContainer,this.__elTextAlias,"fontSize",{namespace:"alias",autoGrowDelay:6e4,max:this.DEFAULT_MAX_TEXT_ALIAS_FONT_SIZE}),this.textAliasFontSize>this.maxTextAliasFontSize&&(this.__elTextAlias.style.fontSize=t.Str.px(this.maxTextAliasFontSize));const e=this.__elTextValue.getBoundingClientRect().height+this.__elTextAlias.getBoundingClientRect().height,_=this.__lastRingInfo.cy-e/3;this.__elTextContainer.style.marginTop=`${_}px`}__getSVGCircleAttributes(t,s,i=100,e=0,_,o){void 0===o&&(o=t);let n=t/2;void 0===_&&(_=n/4);const r=t-2*_,a=n+(o-t)/2,h=a;n-=_/2;const l=2*Math.PI*n,c=s/i*l,g=(1-s/i)*l,d=(.25-e/i)*l;return{width:t,innerWidth:r,cx:a,cy:h,r:n,strokeWidth:_,strokeDashOffset:d,strokeDashArray:[c,g],width_s:`${t}px`,innerWidth_s:`${r}px`,cx_s:`${a}px`,cy_s:`${h}px`,r_s:`${n}px`,strokeWidth_s:`${_}px`,strokeDashOffset_s:String(d),strokeDashArray_s:`${c} ${g}`}}__drawThresholds(){if(this.showThresholds){this.__elSVGCircleFirst.classList.remove("collapse"),this.__elSVGCircleSecond.classList.remove("collapse"),this.__elSVGCircleLast.classList.remove("collapse");let t=this.colorAlarm;const s=this.colorWarning;let i=this.colorOk,e=this.thresholdWarningAlarm,_=this.thresholdOkWarning;this.thresholdOkWarning<this.thresholdWarningAlarm&&(t=this.colorOk,i=this.colorAlarm,e=this.thresholdWarningAlarm,_=this.thresholdOkWarning);const o=e,n=_-e,r=100-_;this.__drawRing(this.__elSVGCircleFirst,o,t,0,this.__lastOEERingInfo.innerWidth+1,5),this.__drawRing(this.__elSVGCircleSecond,n,s,o,this.__lastOEERingInfo.innerWidth+1,5),this.__drawRing(this.__elSVGCircleLast,r,i,o+n,this.__lastOEERingInfo.innerWidth+1,5)}else this.__elSVGCircleFirst.classList.add("collapse"),this.__elSVGCircleSecond.classList.add("collapse"),this.__elSVGCircleLast.classList.add("collapse")}__processClassification(){if(this.__elTextValue.classList.remove("ok"),this.__elTextValue.classList.remove("warning"),this.__elTextValue.classList.remove("alarm"),this.__showClassification)switch(this.__classification){case TcHmi.Controls.Analytics.ClassificationState.OK:this.__elTextValue.classList.add("ok");break;case TcHmi.Controls.Analytics.ClassificationState.WARNING:this.__elTextValue.classList.add("warning");break;case TcHmi.Controls.Analytics.ClassificationState.ALARM:this.__elTextValue.classList.add("alarm")}}__addEventListeners(){}__getHtml(){return"<style>\n            * {\n                box-sizing: border-box;\n                user-select: none;\n            }\n\n            .root {\n                display: flex;\n                position: relative;\n                font-family: RobotoCondensed, 'Microsoft YaHei', '微软雅黑', 'Hiragino Sans GB', '冬青黑体', 'STXihei', '华文细黑', 'WenQuanYi Micro Hei', 'Meiryo', 'メイリオ', 'Hiragino Kaku Gothic Pro', 'ヒラギノ角ゴ ProN', 'Noto Sans CJK SC', 'Noto Sans CJK TC', 'Noto Sans CJK JP', 'Noto Sans CJK KR', sans-serif;\n                font-size: 12px;\n                font-style: normal;\n                font-weight: normal;\n            }\n\n            circle {\n                transition: stroke 0.4s ease-in-out, stroke-width 0.4s ease-in-out, stroke-dashoffset 0.4s ease-in-out, stroke-dasharray 0.4s ease-in-out;\n                fill: none;\n            }\n\n            .circle-background {\n                opacity: 0.3;\n            }\n\n            .text-container {\n                font-size: 12px;\n                position: absolute;\n                top: 0;\n                display: flex;\n                flex-direction: column;\n                text-align: center;\n            }\n\n            .progress {\n                font-size: 1.8em;\n                line-height: 0.7em;\n                white-space: nowrap;\n                --ok-color: #339900;\n                --warning-color: #ff9900;\n                --alarm-color: #cc3300;\n            }\n\n            .alias {\n                font-size: 1em;\n                opacity: 0.5;\n            }\n\n            .collapse {\n                visibility: collapse;\n            }\n\n            .ok {\n                color: var(--ok-color) !important;\n            }\n\n            .warning {\n                color: var(--warning-color) !important;\n            }\n\n            .alarm {\n                color: var(--alarm-color) !important;\n            }\n            </style>\n\t\t\t\n            <div class=\"root\">\n                <svg width=\"100\" height=\"100\">\n                        <circle class=\"circle-background\"/>\n                        <circle class=\"circle-progress\"/>\n                        <circle class=\"circle-first\"/>\n                        <circle class=\"circle-second\"/>\n                        <circle class=\"circle-last\"/>\n\n                </svg>\n                <div class=\"text-container\">\n                    <div class=\"text progress\">10%</div>\n                    <div class=\"text alias\">Value</div>\n                </div>\n            </div>\n            "}}t.RingProgressBar=s}(CustomElements||(CustomElements={})),customElements.define("ring-progress-bar",CustomElements.RingProgressBar);