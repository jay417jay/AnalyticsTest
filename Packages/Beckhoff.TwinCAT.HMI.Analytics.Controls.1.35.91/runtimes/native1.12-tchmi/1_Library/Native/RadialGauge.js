var CustomElements;!function(t){class e extends t.AnalyticsBaseCustomElement{constructor(){super(),this.__chartMargin=30,this.CIRCLE_START=3*Math.PI/2,this.__value=0,this.__unit="",this.__minValue=0,this.__maxValue=100,this.__ranges=null,this.__cursorColor="#FFFFFF"}__init(){}__attach(){this.__debouncedUpdateValue=t.Utilities.debounce(this.__updateValue,100),this.__elValueBox=this.__elTemplateRoot.querySelector(".value-box"),this.__elValue=this.__elValueBox.querySelector(".value"),this.__elMinValue=this.__elTemplateRoot.querySelector(".min-value"),this.__elMaxValue=this.__elTemplateRoot.querySelector(".max-value"),this.__elCursor=this.__elTemplateRoot.querySelector(".cursor"),this.__elRanges=[...this.__elTemplateRoot.querySelectorAll(".range")],this.__elTemplateRoot.style.setProperty("--chart-margin",`${this.__chartMargin}px`),this.__addEventListeners()}get value(){return this.__value}set value(t){t!==this.__value&&(this.__value=t,this.__onValueChanged())}__onValueChanged(){this.__isAttached&&(this.__debouncedUpdateValue(),this.__calculateCursorPos(),this.__onPropertyChanged("value",this.__value))}get unit(){return this.__unit}set unit(t){t!==this.__unit&&(this.__unit=t,this.__onUnitChanged())}__onUnitChanged(){this.__isAttached&&(this.__debouncedUpdateValue(),this.__onPropertyChanged("unit",this.__unit))}get minValue(){return this.__minValue}set minValue(t){t!==this.__minValue&&(this.__minValue=t,this.__onMinValueChanged())}__onMinValueChanged(){this.__isAttached&&(this.__elMinValue.innerHTML=this.__getTrimmedNumber(this.__minValue,"min"),this.__calculateCursorPos(),this.__onPropertyChanged("minValue",this.__minValue))}get maxValue(){return this.__maxValue}set maxValue(t){t!==this.__maxValue&&(this.__maxValue=t,this.__onMaxValueChanged())}__onMaxValueChanged(){this.__isAttached&&(this.__elMaxValue.innerHTML=this.__getTrimmedNumber(this.__maxValue,"max"),this.__calculateCursorPos(),this.__onPropertyChanged("maxValue",this.__maxValue))}get ranges(){return this.__ranges}set ranges(t){t!==this.__ranges&&(this.__ranges=t,this.__onRangesChanged())}__onRangesChanged(){if(this.__isAttached){if(null==this.__ranges||3!==this.__ranges.length)return this.__elRanges[0].startAngle=this.CIRCLE_START,this.__elRanges[0].distance=Math.PI,this.__elRanges[1].distance=0,void(this.__elRanges[2].distance=0);const t=this.maxValue!==this.minValue?Math.PI/(this.maxValue-this.minValue):0;for(let e=0;e<3;e++){const s=this.__elRanges[e],i=this.__ranges[e];s.startAngle=this.CIRCLE_START+(i.start-this.minValue)*t,s.distance=(i.end-i.start)*t,s.color=i.color.color}this.__onPropertyChanged("ranges",this.__ranges)}}get cursorColor(){return this.__cursorColor}set cursorColor(t){t!==this.__cursorColor&&(this.__cursorColor=t,this.__onCursorColorChanged())}__onCursorColorChanged(){this.__isAttached&&(this.__elCursor.style.backgroundColor=this.__cursorColor,this.__onPropertyChanged("cursorColor",this.__cursorColor))}__onSizeChanged(){if(super.__onSizeChanged(),this.__isAttached){this.__resetAutoSize("value"),this.__debouncedUpdateValue();const e=this.__size.width-2*this.__chartMargin;for(const s of this.__elRanges)s.style.width=t.Str.px(e),s.style.height=t.Str.px(2*this.__size.height-2*this.__chartMargin);this.__calculatePos(),this.__onPropertyChanged("size",this.__size)}}__calculatePos(){this.__calculateCursorPos(),this.__calculateLabelsPos(),this.__elTemplateRoot.style.marginLeft=t.Str.px((this.__size.width-this.__elRanges[0].actualSize)/2-this.__chartMargin)}__calculateCursorPos(){const e=this.__elRanges[0].actualSize;if(0===e)return;const s=this.__chartMargin,i=e/2-5,a=this.maxValue!==this.minValue?Math.PI/(this.maxValue-this.minValue):0;this.__elCursor.style.left=t.Str.px(s),this.__elCursor.style.top=t.Str.px(i),this.__elCursor.style.transformOrigin=`${e/2}px 5px`,this.__elCursor.style.transform=`rotate(${(this.value-this.minValue)*a}rad)`}__calculateLabelsPos(){const e=this.__elRanges[0].actualSize;if(0===e)return;const s=this.__elRanges[0].strokeWidth,i=e/2,a=e-2*s;this.__elValueBox.style.left=t.Str.px(this.__chartMargin+2*s),this.__elValueBox.style.width=t.Str.px(a-2*s),this.__elValueBox.style.height=t.Str.px(a/2),this.__elValueBox.style.top=`${i-a/2}px`,this.__debouncedUpdateValue(),this.__elMinValue.style.left=t.Str.px(this.__chartMargin),this.__elMinValue.style.top=`${i}px`,this.__elMaxValue.style.left=`${e+this.__chartMargin-s}px`,this.__elMaxValue.style.top=`${i}px`}__updateValue(){this.__elValue.innerHTML=this.__getTrimmedNumberWithUnit(this.__value,this.__unit,"value"),this.__autoSize(this.__elValueBox,this.__elValue,"font-size",{min:6,max:200,namespace:"value"})}__resize(t){super.__resize(t)}__addEventListeners(){this.__addEventListener(this.__elRanges[0],"actualSizeChanged",()=>{this.__resetAutoSize("value"),this.__chartActualWidth=this.__elRanges[0].actualSize,this.__elTemplateRoot.style.setProperty("--stroke-width",`${this.__elRanges[0].strokeWidth}px`),this.__calculatePos()})}__getHtml(){return"<style>\n            * {\n                box-sizing: border-box;\n                user-select: none;\n            }\n\n            .root {\n                --chart-margin: 0px;\n                --stroke-width: 0px;\n                --font-size: 12px;\n                width: 100%;\n                height: 100%;\n                display: inline-block;\n                position: relative;\n                font-family: RobotoCondensed, 'Microsoft YaHei', '微软雅黑', 'Hiragino Sans GB', '冬青黑体', 'STXihei', '华文细黑', 'WenQuanYi Micro Hei', 'Meiryo', 'メイリオ', 'Hiragino Kaku Gothic Pro', 'ヒラギノ角ゴ ProN', 'Noto Sans CJK SC', 'Noto Sans CJK TC', 'Noto Sans CJK JP', 'Noto Sans CJK KR', sans-serif;\n                font-size: var(--font-size);\n                font-style: normal;\n                font-weight: normal;\n            }\n\n            .cursor {\n                position:absolute;\n                top:0;\n                left:0;\n                width: var(--stroke-width);\n                height: 5px;\n                border-radius: 3;\n                transition: transform 0.3s ease;\n            }\n\n            .value-box {\n                position: absolute;\n                left:0;\n            }\n\n            .value {\n                white-space: nowrap;\n                min-width: 100%;\n                min-height: 100%;\n                display: flex;\n                align-items: flex-end;\n                justify-content: center;\n            }\n\n            .min-value, .max-value {\n                position: absolute;\n                left: 0;\n                top: 0;\n                text-align: center;\n                width: var(--stroke-width);\n                font-size: 16px;\n            }\n            \n            custom-circle {\n                position: absolute;\n                left: var(--chart-margin);\n            }\n            \n            </style>\n            \n            <div class=\"root blub\">\n                <custom-circle class=\"range\"></custom-circle>\n                <custom-circle class=\"range\"></custom-circle>\n                <custom-circle class=\"range\"></custom-circle>\n                <div class=\"cursor\"></div>\n                <div class=\"min-value text\">1</div>\n                <div class=\"max-value text\">2</div>\n                <div class=\"value-box\"><div class=\"value text\">1</div></div>\n            </div>\n            "}}t.RadialGauge=e}(CustomElements||(CustomElements={})),customElements.define("radial-gauge",CustomElements.RadialGauge);