var CustomElements;!function(e){class t extends e.AnalyticsBaseCustomElement{constructor(){super(),this.__hasChanged=!1,this.__selectSelectWidth="300px",this.__defaultText="",this.__selectItems=[]}__init(){this.__useShadowDOM=!1}__attach(){this.__autocompleteElement=this.__elTemplateRoot.querySelector(".tchmi-analytics-auto-search-select-autocomplete"),this.__inputElement=this.__elTemplateRoot.querySelector(".tchmi-analytics-auto-search-select-autoinputitem"),this.__processSelectedValue(this.__selectedItem,!1),this.__addEventListeners()}__onSizeChanged(){super.__onSizeChanged(),this.__isAttached&&(this.__acutalSize=Math.min(this.__size.width,this.__size.height),this.__elTemplateRoot.style.setProperty("--size",`${this.__acutalSize}px`),this.__processSelectItems())}get selectSelectWidth(){return this.__selectSelectWidth}set selectSelectWidth(e){e!==this.__selectSelectWidth&&(this.__selectSelectWidth=e,this.__onSelectWidthChanged())}__onSelectWidthChanged(){this.__isAttached&&(this.__processSelectWidth(),this.__onPropertyChanged("selectSelectWidth",this.__selectSelectWidth))}get defaultText(){return this.__defaultText}set defaultText(e){e!==this.__defaultText&&(this.__defaultText=e,this.__onDefaultTextChanged())}__onDefaultTextChanged(){this.__isAttached&&(this.__processDefaultText(),this.__onPropertyChanged("defaultText",this.__defaultText))}get selectItems(){return this.__selectItems}set selectItems(e){e!==this.__selectItems&&(this.__selectItems=e,this.__onSelectItemsChanged())}__onSelectItemsChanged(){this.__isAttached&&(this.__processSelectItems(),this.__onPropertyChanged("selectItems",this.__selectItems))}get selectedItem(){return this.__selectedItem}set selectedItem(e){e!==this.__selectedItem&&(this.__selectedItem=e,this.__onSelectItemChanged())}__onSelectItemChanged(){this.__isAttached&&(this.__processSelectedItems(),this.__onPropertyChanged("selectItem",this.__selectedItem))}__processSelectWidth(){this.__autocompleteElement.style.width=this.__selectSelectWidth}__processDefaultText(){this.__inputElement.placeholder=this.__defaultText}__processSelectItems(){}__processSelectedItems(){null!=this.__selectedItem&&(this.__inputElement.textContent=this.__selectedItem.displayText,this.__inputElement.title=this.__selectedItem.displayText)}__onUserInput(e=null){var t;const l=null!=e&&e instanceof KeyboardEvent,i=this.__elTemplateRoot.getElementsByClassName("tchmi-analytics-auto-search-select-autocomplete-itemlist");for(let e=i.length-1;e>=0;e--)null===(t=i[e].parentNode)||void 0===t||t.removeChild(i[e]);let n=this.__inputElement.value,a=!1;if(l)switch(e.key){case"ArrowDown":let e=this.__selectItems.findIndex(e=>e.displayText==this.__inputElement.value)+1;e<this.__selectItems.length&&(this.__selectItems[e].isSelectable||e++,e<this.__selectItems.length&&(this.__processSelectedValue(this.__selectItems[e],!0),n="",a=!0));break;case"ArrowUp":let t=this.__selectItems.findIndex(e=>e.displayText==this.__inputElement.value)-1;t>0&&(this.__selectItems[t].isSelectable||t--,t>0&&(this.__processSelectedValue(this.__selectItems[t],!0),n="",a=!0))}if(!l&&((null==e?void 0:e.target)!==this.__inputElement&&(null==e?void 0:e.target)!==this||this.__hasChanged)||this.__displayItems(n,a),l){const e=this.__selectItems.find(e=>e.displayText==this.__inputElement.value);null!=e&&(this.__selectedItem=e,this.dispatchEvent(new CustomEvent(s.selectedValueChanged,{detail:e})))}this.__hasChanged=!1}__displayItems(e,t){var s;const l=document.createElement("div");l.classList.add("tchmi-analytics-auto-search-select-autocomplete-itemlist"),null===(s=this.__inputElement.parentNode)||void 0===s||s.appendChild(l);let i=null;for(const s of this.__selectItems)if(s.displayText.toLowerCase().includes(e.toLowerCase())){const n=s.displayText.toLowerCase().indexOf(e.toLowerCase()),a=document.createElement("div");a.className="tchmi-analytics-auto-search-select-autocomplete-item",a.innerHTML="",n>0&&(a.innerHTML+=s.displayText.substr(0,n)),a.innerHTML+="<strong>"+s.displayText.substr(n,e.length)+"</strong>",a.innerHTML+=s.displayText.substr(n+e.length,s.displayText.length),a.innerHTML+=`<input type='hidden' value='${s}'>`,s.isSelectable||(a.style.color="gray",a.innerHTML=`${s.displayText}<input type='hidden' value='${s}'>`),t&&s.value==this.__selectedItem.value&&(a.style.fontWeight="bold",i=a),this.__eventListenerManager.addEventListener(a,"click",()=>this.__processSelectedValue(s)),l.appendChild(a)}null!=i&&(l.scrollTop=i.offsetTop)}__processSelectedValue(e,t=!0){null!=e&&e.isSelectable&&(this.__inputElement.value=e.displayText,this.__inputElement.title=e.displayText,this.__selectedItem=e,this.__onUserInput(null),this.__hasChanged=!0,t&&this.dispatchEvent(new CustomEvent(s.selectedValueChanged,{detail:e})))}__addEventListeners(){this.__eventListenerManager.addEventListener(this.__inputElement,"keyup",e=>this.__onUserInput(e)),this.__eventListenerManager.addEventListener(document,"click",e=>this.__onUserInput(e))}__getHtml(){return'<style>\n            /*the container must be positioned relative:*/\n            .tchmi-analytics-auto-search-select-autocomplete {\n              position: relative;\n              display: inline-block;\n            }\n\n            .tchmi-analytics-auto-search-select-autoinputitem {\n              border: 1px solid transparent;\n              background-color: white;\n              font-size: 16px;\n              width: 100%;\n            }\n\n            .tchmi-analytics-auto-search-select-autocomplete-itemlist {\n              position: absolute;\n              border: 1px solid #d4d4d4;\n              border-bottom: none;\n              border-top: none;\n              z-index: 99;\n              top: 100%;\n              left: 0;\n              right: 0;\n              height: 300px;\n              overflow-y: auto;\n              overflow-x: hidden;\n            }\n\n            .tchmi-analytics-auto-search-select-autocomplete-item {\n              padding: 10px;\n              cursor: pointer;\n              background-color: #fff; \n              border-bottom: 1px solid #d4d4d4; \n              word-wrap: break-word;\n            }\n\n            /*when hovering an item:*/\n            .tchmi-analytics-auto-search-select-autocomplete-item:hover {\n              background-color: #e9e9e9; \n            }\n            \n            </style>\n            \n            <form autocomplete="off" style="font: 16px Arial">\n              <div class="tchmi-analytics-auto-search-select-autocomplete" style="width:300px;">\n                <input class="tchmi-analytics-auto-search-select-autoinputitem" type="text">\n              </div>\n            </form>\n            '}}e.AutoSearchSelect=t;class s{}s.selectedValueChanged="selectedValueChanged",e.AutoSearchSelectEventNames=s}(CustomElements||(CustomElements={})),customElements.define("auto-search-select",CustomElements.AutoSearchSelect);