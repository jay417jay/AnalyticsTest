var TcHmi;!function(i){!function(i){!function(i){class t extends i.Base_Axis{constructor(t,s,a){super(t,s,a),this.__maxNumOfIntervals=12,this.__numOfyAxisIntervalLabels=0,this.__yAxisIntervalSize=0,this.__datapointsRAWyMinValue=0,this.__datapointsRAWyMaxValue=0,this.__datapointsRAWyRange=0,this.__yAxisStepDistance=0,this.__intervalSizeFactor=0,this.__descriptionWidth=0,this.__axisPaddingTop=-0,this.__nullPoint=0,this.__options=a,this.__sizeManager=new i.SizeManager}get nullpoint(){return this.__nullPoint}get yAxisPosition(){return this.__options.yAxisPosition}get labelSuffix(){return this.__options.labelSuffix}drawAxis(t,s,a,_=null,n=null){this.__startPoint=t,this.__endPoint=s;const e=this.__options.description;let h;if(this.__descriptionWidth=0,null!=e){switch(this.yAxisPosition){case i.YAxisPosition.Left:h=this.__startPoint.x+10;break;case i.YAxisPosition.Right:h=this.__endPoint.x}const t=(this.__startPoint.y-this.__endPoint.y)/2+this.__endPoint.y,s=new i.SVGText(h,t,this.__getAxisDescription(),["tchmi-analytics-charting-axis-label"]);this.__props.darkMode&&s.addClass("tchmi-analytics-charting-axis-label-dark"),s.appendTo(this.elParent),s.y+=s.width/2,s.rotation=-90,this.__descriptionWidth=s.width,this.__elAxisDescription=s}null==n?(this.__datapointsRAWyMinValue=Number.MAX_VALUE,this.__datapointsRAWyMaxValue=Number.MIN_VALUE,a.forEach(t=>{const s=i.AlyMath.min(t.values),a=i.AlyMath.max(t.values);s<this.__datapointsRAWyMinValue&&(this.__datapointsRAWyMinValue=s),a>this.__datapointsRAWyMaxValue&&(this.__datapointsRAWyMaxValue=a)}),this.__datapointsRAWyRange=this.__datapointsRAWyMaxValue-(this.__datapointsRAWyMinValue>0?0:this.__datapointsRAWyMinValue)):(this.__datapointsRAWyMinValue=n[0],this.__datapointsRAWyMaxValue=n[1],this.__datapointsRAWyRange=this.__datapointsRAWyMaxValue-this.__datapointsRAWyMinValue),this.__scaleYaxis(_,n);let o=0;this.__datapointsRAWyMinValue<0&&(o=-Math.floor(this.__datapointsRAWyMinValue/this.__yAxisIntervalSize));let l=null;if(this.__onlyBooleanPropsWithSameDisplayAlias()){let i=this.__startPoint.y,t=this.__options.channelConfigurations[0].userFalseAlias?this.__options.channelConfigurations[0].userFalseAlias:"False",s=this.__drawLabel(i,t);this.__nullPoint=i,i=this.__startPoint.y+this.__intervalSizeFactor*this.__numOfyAxisIntervalLabels*this.__yAxisIntervalSize,t=this.__options.channelConfigurations[0].userTrueAlias?this.__options.channelConfigurations[0].userTrueAlias:"True",s=this.__drawLabel(i,t)}else for(let i=0;i<=this.__numOfyAxisIntervalLabels;i++){const t=this.__startPoint.y+this.__intervalSizeFactor*i*this.__yAxisIntervalSize,s=(i-o)*this.__yAxisIntervalSize,a=this.__createLabel(t,s);l=(null!=l&&(l.y,l.height,a.y),a),i-o==0&&(this.__nullPoint=t)}const r=Math.max(...this.__axisLabels.map(i=>i.width)),d=this.__sizeManager.stabilizeSize(r,!0,"maxLabelWidth",r,1.2*r);let x=0;switch(this.__axisLabels.forEach(t=>{const s=this.__sizeManager.stabilizeSize(t.width,!0,`label_${x}`,t.width,1.2*t.width);switch(this.yAxisPosition){case i.YAxisPosition.Left:t.x+=d-s;break;case i.YAxisPosition.Right:t.x-=d}x++}),this.__axisTicks.forEach(t=>{switch(this.yAxisPosition){case i.YAxisPosition.Left:t.x1=this.__startPoint.x+this.__descriptionWidth+d+5,t.x2=this.__startPoint.x+this.__descriptionWidth+d+5+this.__tickLength;break;case i.YAxisPosition.Right:t.x1=this.__startPoint.x-this.__descriptionWidth-d-5,t.x2=this.__startPoint.x-this.__descriptionWidth-d-5-this.__tickLength}}),this.yAxisPosition){case i.YAxisPosition.Left:this.__axisLine.x1=this.__startPoint.x+this.__descriptionWidth+d+5+this.__tickLength,this.__axisLine.x2=this.__axisLine.x1;break;case i.YAxisPosition.Right:this.__axisLine.x1=this.__startPoint.x-this.__descriptionWidth-d-5-this.__tickLength,this.__axisLine.x2=this.__axisLine.x1}this.__axisLine.y1=this.__startPoint.y,this.__axisLine.y2=this.__endPoint.y,this.__width=d+5+this.__tickLength+this.__descriptionWidth,this.__height=this.__startPoint.y-this.__endPoint.y}__scaleYaxis(i=null,t=null){let s=this.__maxNumOfIntervals;this.__datapointsRAWyMinValue<0&&(s-=1),null==t&&this.__datapointsRAWyRange%10==0&&(this.__datapointsRAWyRange=this.__datapointsRAWyRange+1);let a=1;for(;this.__datapointsRAWyRange/Math.pow(10,a-1)>10;)a++;if(null==t){for(this.__datapointsRAWyRange>=2&&(this.__datapointsRAWyRange=Math.ceil(this.__datapointsRAWyRange));this.__datapointsRAWyRange%10!=0&&this.__datapointsRAWyRange>20;)this.__datapointsRAWyRange=this.__datapointsRAWyRange+1;for(;this.__datapointsRAWyRange%2!=0&&this.__datapointsRAWyRange>5;)this.__datapointsRAWyRange=this.__datapointsRAWyRange+1}null!=i&&(s=i);let _=1e-4,n=0,e=!1;for(;!e&&Math.pow(10,a)>=_;)this.__datapointsRAWyRange/_<=s?(n=1,e=!0):this.__datapointsRAWyRange/(2*_)<=s?(n=2,e=!0):this.__datapointsRAWyRange/(5*_)<=s&&(n=5,e=!0),!1===e&&(_*=10);this.__yAxisIntervalSize=null==t?n*_:this.__datapointsRAWyMaxValue/i,this.__numOfyAxisIntervalLabels=this.__datapointsRAWyRange/this.__yAxisIntervalSize,this.__datapointsRAWyMinValue<0&&this.__numOfyAxisIntervalLabels++,this.__numOfyAxisIntervalLabels=null==i?Math.ceil(this.__numOfyAxisIntervalLabels)+1:i,this.__intervalSizeFactor=(this.__endPoint.y-this.__axisPaddingTop-this.__startPoint.y)/(this.__numOfyAxisIntervalLabels*this.__yAxisIntervalSize),this.__stepDistance=(this.__endPoint.y-this.__axisPaddingTop-this.__startPoint.y)/(this.__numOfyAxisIntervalLabels*this.__yAxisIntervalSize)}__createLabel(i,t){const s=String(t%1e-4==0?t:t.toFixed(1));return this.__drawLabel(i,s)}__drawLabel(t,s){let a;switch(this.yAxisPosition){case i.YAxisPosition.Left:a=this.__startPoint.x+this.__descriptionWidth;break;case i.YAxisPosition.Right:a=this.__startPoint.x-this.__descriptionWidth}const _=new i.SVGText(a,t,s+this.labelSuffix,["tchmi-analytics-charting-axis-label-text"]);this.__addLabel(_),_.y+=_.height/4;const n=new i.SVGLine(0,t,0,t,["tchmi-analytics-charting-axis-tick"]);return this.__addTick(n),_}__getAxisDescription(){var i;const t=this.__options.description;return(null===(i=this.__options)||void 0===i?void 0:i.showDifferentials)?`Î” ${t}`:t}__onlyBooleanPropsWithSameDisplayAlias(){return!!(this.__options.channelConfigurations.every(i=>i.datatype.toUpperCase().includes("BOOL"))&&this.__options.channelConfigurations.length>=1)&&(this.__options.channelConfigurations.length>0&&this.__options.channelConfigurations.every(i=>i.userFalseAlias===this.__options.channelConfigurations[0].userFalseAlias&&i.userTrueAlias===this.__options.channelConfigurations[0].userTrueAlias))}}i.YAxis=t}(i.Analytics||(i.Analytics={}))}(i.Controls||(i.Controls={}))}(TcHmi||(TcHmi={}));