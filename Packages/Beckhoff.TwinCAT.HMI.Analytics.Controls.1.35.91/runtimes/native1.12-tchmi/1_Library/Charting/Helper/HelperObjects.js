var TcHmi;!function(e){!function(e){!function(e){class t{constructor(e){this.__date=null;const t=new Date(Date.UTC(1601,0,1)),s=e/1e4;this.__date=new Date(t.getTime()+s);const a=this.__date.getFullYear(),r=this.__padNumber(this.__date.getMonth()+1,2),n=this.__padNumber(this.__date.getDate(),2),m=this.__padNumber(this.__date.getHours(),2),_=this.__padNumber(this.__date.getMinutes(),2),i=this.__padNumber(this.__date.getSeconds(),2),o=this.__padNumber(this.__date.getMilliseconds(),3);this._time=`${a}-${r}-${n} ${m}:${_}:${i}.${o}`}__padNumber(e,t){let s=e.toString();for(;s.length<t;)s="0"+s;return s}get time(){return this._time}get date(){return this.__date}get year(){return this.__date.getFullYear()}get month(){return this.__date.getMonth()+1}get monthInText(){return["January","February","March","April","May","June","July","August","September","October","November","December"][this.__date.getMonth()]}get day(){return this.__date.getDate()}get dayInText(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.__date.getDay()]}get hours(){return this.__date.getHours()}get minutes(){return this.__date.getMinutes()}get seconds(){return this.__date.getSeconds()}get milliseconds(){return this.__date.getMilliseconds()}toString(e){let t=this._time;switch(e){case s.yyyy_mm_dd_hh_mm_ss_mmm:t=t;break;case s.hh_mm_ss_mmm:t=t.slice(11,23);break;case s.hh_mm_ss_mm:t=t.slice(11,22);break;case s.hh_mm_ss_m:t=t.slice(11,21);break;case s.hh_mm_ss:t=t.slice(11,19);break;case s.hh_mm:t=t.slice(11,16);break;case s.dd_MM:t=t.slice(8,10)+"."+t.slice(5,7);break;case s.dd:t=t.slice(8,10);break;case s.MM:t=t.slice(5,7);break;case s.yy_mm:t=t.slice(0,7);break;case s.mmm:t=t.slice(20,23);break;case s.ss_mmm:t=t.slice(17,23);break;case s.mm_ss:t=t.slice(14,19);break;case s.mm:t=t.slice(14,16);break;case s.sec_s:t=t.slice(17,19);break;case s.hh:t=t.slice(11,13);break;case s.yyyy_mm_dd_hh_mm_ss:t=t.slice(0,19);break;case s.yyyy_mm_dd_hh_mm:t=t.slice(0,16);break;case s.yyyy_mm_dd:t=t.slice(0,10);break;case s.day:t=this.dayInText.slice(0,3);break;case s.day_date:t=this.dayInText+", "+this.monthInText+" "+this.day+", "+this.year;break;case s.day_month_date_year_full:t=this.dayInText.slice(0,3)+", "+this.monthInText+" "+this.day+", "+this.year+": "+t.slice(11,23)}return t}static convertTimeMsToTcTime(e,t){let s;e<=0?(s=null!=t?new Date(t):new Date,s.setMilliseconds(s.getMilliseconds()+e)):s=new Date(e);const a=new Date(Date.UTC(1601,0,1)),r=s.getTime()-a.getTime();return Math.floor(1e4*r)}}let s,a,r,n,m,_,i;t.TIME_IN_SEC_TO_TC_FACTOR=1e7,t.TIME_IN_MS_TO_TC_FACTOR=1e4,e.SPTime=t,function(e){e.yyyy_mm_dd_hh_mm_ss_mmm="yyyy_mm_dd_hh_mm_ss_mmm",e.hh_mm_ss_mmm="hh_mm_ss_mmm",e.hh_mm_ss_mm="hh_mm_ss_mm",e.hh_mm_ss_m="hh_mm_ss_m",e.hh_mm_ss="hh_mm_ss",e.hh_mm="hh_mm",e.dd_MM="dd_MM",e.dd="dd",e.MM="MM",e.yy_mm="yy_mm",e.mmm="mmm",e.sec_s="sec_s",e.ss_mmm="ss_mmm",e.mm_ss="mm_ss",e.mm="mm",e.hh="hh",e.yyyy_mm_dd_hh_mm_ss="yyyy_mm_dd_hh_mm_ss",e.yyyy_mm_dd_hh_mm="yyyy_mm_dd_hh_mm",e.yyyy_mm_dd="yyyy_mm_dd",e.day="day",e.day_date="day_day",e.day_month_date_year_full="day_month_date_year_full"}(s=e.E_TimeFormat||(e.E_TimeFormat={})),function(e){e[e.YTCHART=0]="YTCHART",e[e.BARCHART=1]="BARCHART",e[e.COMPAREYTCHART=2]="COMPAREYTCHART",e[e.TIMESERIESBARCHART=3]="TIMESERIESBARCHART",e[e.PIECHART=4]="PIECHART",e[e.RINGCHART=5]="RINGCHART",e[e.SINGLEVALUECHART=6]="SINGLEVALUECHART",e[e.PARETOCHART=7]="PARETOCHART"}(a=e.E_ChartType||(e.E_ChartType={})),function(e){e.IsTimeCompareChart=function(e){return e===a.COMPAREYTCHART||e===a.TIMESERIESBARCHART}}(r=e.E_ChartTypeHelper||(e.E_ChartTypeHelper={})),function(e){e.min=function(e){let t=Number.MAX_VALUE;for(let s=0;s<e.length;s++)e[s]<t&&(t=e[s]);return t},e.max=function(e){let t=-Number.MAX_VALUE;for(let s=0;s<e.length;s++)e[s]>t&&(t=e[s]);return t}}(n=e.AlyMath||(e.AlyMath={})),function(e){e.makeColorDarker=function(e,t){if(null==e||null==t)return e;const s=e.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);if(!s)throw new Error("Invalid RGBA-String.");let a=parseInt(s[1],10),r=parseInt(s[2],10),n=parseInt(s[3],10),m=parseFloat(s[4]);const _=Math.floor(t/100*255);return a=Math.max(0,a-_),r=Math.max(0,r-_),n=Math.max(0,n-_),`rgba(${a}, ${r}, ${n}, ${m})`},e.setColorOpacity=function(e,t){const s=e.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);if(!s)throw new Error("Invalid RGBA-String.");return`rgba(${parseInt(s[1],10)}, ${parseInt(s[2],10)}, ${parseInt(s[3],10)}, ${t})`}}(m=e.ColorHandler||(e.ColorHandler={})),function(s){function a(s,a,r,n,m,_){const i=new t(s),o=new t(e.TimeConverter.getFromTcTime(a,_)),h=new Date(o.year,o.month-1,o.day,o.hours,o.minutes,o.seconds,o.milliseconds),c=(m?o.month:i.month)-1;let d=new Date(i.year,c,o.day,o.hours,o.minutes,o.seconds,o.milliseconds);return n?(r&&i.day!=o.day&&h.setMonth(h.getMonth()+1),h.getTime()-d.getTime()):d.getTime()-h.getTime()}s.calculateTimeDiffMs=function(s,r,n,m,_,i){const o=e.TimeConverter.getToTcTime(s,i,_),h=e.TimeConverter.getToTcTime(n,i,_),c=e.TimeConverter.getFromTcTime(n,i);let d=(o-h)/t.TIME_IN_MS_TO_TC_FACTOR;if(0==d||s.from==n.from)return 0;const l=c<o;l||(d*=-1);const y=m==e.ECompareChartCompareTypes.MATCHING_START;let u=0;switch(r){case e.TimeIntervalStrings.MilliSecond_s:u=d;break;case e.TimeIntervalStrings.Second_s:const t=d/1e3;u=1e3*((y?!l:l)?Math.floor(t):Math.ceil(t));break;case e.TimeIntervalStrings.Minute_s:const r=d/6e4;u=6e4*((y?!l:l)?Math.floor(r):Math.ceil(r));break;case e.TimeIntervalStrings.Hour_s:const n=d/36e5;u=36e5*((y?!l:l)?Math.floor(n):Math.ceil(n));break;case e.TimeIntervalStrings.Day_s:const m=d/864e5;u=864e5*((y?!l:l)?Math.floor(m):Math.ceil(m));break;case e.TimeIntervalStrings.Week_s:const _=d/6048e5;u=6048e5*((y?!l:l)?Math.floor(_):Math.ceil(_));break;case e.TimeIntervalStrings.Month_s:u=a(c,s,y,l,!1,i);break;case e.TimeIntervalStrings.Year_s:u=a(c,s,y,l,!0,i);break;default:return console.log("no valid rangeunit found"),null}return l?u:-u},s.getIntervalInRange=a}(_=e.TimeDiffHelper||(e.TimeDiffHelper={})),function(e){e.calculateGrid=function(e,t,s){const a=Math.ceil(Math.sqrt(e)),r=Math.ceil(Math.sqrt(e)),n={};return t<s?(n.columns=a,n.rows=r):(n.columns=r,n.rows=a),n},e.calcRowAndColumn=function(e,t){let s=Math.floor(e/t),a=e%t;s++,a++;const r={};return r.rows=s,r.columns=a,r}}(i=e.GridCreator||(e.GridCreator={}));e.MonthMerger=class{static addOffsetForMonthBreak(e,s){if(s>0){const a=e[s-1],r=new t(a.timestamp),n=e[s];if(new t(n.timestamp).month>r.month){const e=new Date(r.date.getFullYear(),r.date.getMonth()+1,0).getDate();if(e<31)return 864e9*(31-e)}}return 0}static addOffsetForMonthBreakInterval(e,t){let s=0;const a=e.date;for(;a.getMonth()<t.date.getMonth();){const e=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();e<31&&(s+=864e9*(31-e)),a.setMonth(a.getMonth()+1)}return s}static isPreviousLastDayButNot31(e){const t=new Date(e.date.getTime());return t.setDate(t.getDate()-1),t.getMonth()<e.date.getMonth()&&31!==t.getDate()}}}(e.Analytics||(e.Analytics={}))}(e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));