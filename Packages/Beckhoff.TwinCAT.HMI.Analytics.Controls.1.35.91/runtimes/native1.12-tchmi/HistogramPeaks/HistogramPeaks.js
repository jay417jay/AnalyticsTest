var TcHmi;!function(t){let s;!function(s){let e;!function(s){class e extends t.Controls.Analytics.AnalyticsControl{constructor(t,s,e){super(t,s,e),this.__onResized=()=>(t,s)=>{let e=super.__getScaleFactor();0!=this.__hasLicense&&(this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),!0===this.__showTitle?this.__elementCanvas.css("height",110*e):this.__elementCanvas.css("height",130*e),this.__elementCanvas.css("width",140*e),this.__elementCanvas.css("margin-left",0*e),this.__elementCanvas.css("margin-top",5*e),this.__processDrawPeaksCanvas())}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=150,this.__defaultHeight=150,this.__elementCanvas=this.__elementTemplateRoot.find(".tchmi-histogram-peaks-canvas"))}__init(){super.setEditableProperties([]),super.__init()}__attach(){super.__attach()}__detach(){super.__detach();var t=this.__elementCanvas[0];t.width=0,t.height=0}destroy(){this.__keepAlive||super.destroy()}setTotalPoints(s){var e=t.ValueConverter.toNumber(s);null===e&&(e=this.getAttributeDefaultValueInternal("TotalPoints")),e!==this.__totalPoints&&(this.__totalPoints=e,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTotalPoints"]),this.__processDrawPeaksCanvas())}getTotalPoints(){return this.__totalPoints}setNumPeaks(s){var e=t.ValueConverter.toNumber(s);null===e&&(e=this.getAttributeDefaultValueInternal("NumPeaks")),e!==this.__numPeaks&&(this.__numPeaks=e,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getNumPeaks"]),this.__processDrawPeaksCanvas())}getNumPeaks(){return this.__numPeaks}setPeaksAlias(s){var e=t.ValueConverter.toString(s);null===e&&(e=this.getAttributeDefaultValueInternal("PeaksAlias")),e!==this.__peaksAlias&&(this.__peaksAlias=e,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getPeaksAlias"]),this.__processPeaksAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getPeaksAlias(){return this.__peaksAlias}__processPeaksAlias(){this.__processDrawPeaksCanvas()}setTotalPointsAlias(s){var e=t.ValueConverter.toString(s);null===e&&(e=this.getAttributeDefaultValueInternal("TotalPointsAlias")),e!==this.__totalPointsAlias&&(this.__totalPointsAlias=e,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTotalPointsAlias"]),this.__processTotalPointsAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getTotalPointsAlias(){return this.__totalPointsAlias}__processTotalPointsAlias(){this.__processDrawPeaksCanvas()}__processColor(){this.__processDrawPeaksCanvas()}__processDrawPeaksCanvas(){void 0!==this.__elementCanvas&&void 0!==this.__totalPoints&&null!==this.__totalPoints&&void 0!==this.__numPeaks&&null!==this.__numPeaks&&this.__controlColorLight&&void 0!==this.__controlColorDark&&void 0!==this.__showTitle&&void 0!==this.__peaksAlias&&void 0!==this.__totalPointsAlias&&null!==this.__showTitle&&null!==this.__peaksAlias&&null!==this.__totalPointsAlias&&void 0!==this.__fontColor&&this.DrawPeaksCanvas(this.__elementCanvas[0],this.__totalPoints,this.__numPeaks,this.__controlColorLight,this.__controlColorDark,this.__showTitle,this.__peaksAlias,this.__totalPointsAlias,this.__fontColor)}DrawPeaksCanvas(t,s,e,i,a,o,l,n,_){var r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),t.width=1400,t.height=!0===o?1100:1300;let h=t.width,P=t.height;r.lineWidth=20,r.fillStyle=i;let u=.05*h,c=.95*h,v=.8*P,d=.15*P,g=.15*h,k=.38*h,m=.61*h,C=.84*h,p=.5*P,T=.1*P,A=.95*P;r.strokeStyle=a,r.moveTo(g,v),r.lineTo(g,p),r.lineTo(k,p),r.lineTo(k,v),r.fill(),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(k,v),r.lineTo(k,d),r.lineTo(m,d),r.lineTo(m,v),r.fill(),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(m,v),r.lineTo(m,p),r.lineTo(C,p),r.lineTo(C,v),r.fill(),r.stroke(),r.closePath(),r.strokeStyle=_,r.beginPath(),r.moveTo(u,v),r.lineTo(c,v),r.stroke(),r.closePath(),r.beginPath(),r.lineCap="round",r.moveTo(c-70,v-70),r.lineTo(c,v),r.lineTo(c-70,v+70),r.stroke(),r.closePath(),r.beginPath(),r.fillStyle=_,r.textAlign="start",r.font="bold 140px sans-serif",r.fillText(" "+l+": "+e.toString(),10,T,c-u),r.fillText(" "+n+": "+s.toString(),10,A,c-u)}}s.HistogramPeaks=e}(e=s.Analytics||(s.Analytics={})),s.registerEx("HistogramPeaks","TcHmi.Controls.Analytics",e.HistogramPeaks)}(s=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));