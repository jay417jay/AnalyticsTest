var TcHmi;!function(t){let e;!function(e){let s;!function(e){class s extends t.Controls.Analytics.AnalyticsControl{constructor(t,e,s){super(t,e,s),this.__radialGrad="radialGradTimingAnalysis",this.__onResized=()=>(t,e)=>{let s=super.__getScaleFactor();0!=this.__hasLicense&&(this.__elementNameAlias.css("padding-bottom",5*s),this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),this.__elementState.css("font-size",14*s),this.__elementState.css("width",70*s),this.__elementState.css("height",23*s),this.__elementState.css("padding-bottom",3*s),this.__elementSvg.css("margin-right",5*this.getRenderedWidth()/310),this.__elementStateOn.css("margin-top",5*s),this.__elementStateValues.css("font-size",14*s),this.__elementStateValues.css("height",22*s),this.__elementStateValues.css("margin-left",5*s),this.__elementStateOnValue.css("margin-top",5*s),this.__elementInnerContainer.css("width",85*s),this.__showTitle?(this.__elementSvg.css("height",110*s),this.__elementSvg.css("width",110*s),this.__elementSvg.css("margin-top",3*s),this.__elementState.css("margin-left",15*s),this.__elementState.css("margin-top",10*s),this.__elementStateValues.css("margin-top",10*s)):(this.__elementSvg.css("height",110*s),this.__elementSvg.css("width",110*s),this.__elementSvg.css("margin-top",5*s),this.__elementState.css("margin-left",5*s),this.__elementState.css("margin-top",12*s),this.__elementStateValues.css("margin-top",12*s)))}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=150,this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-timing-analysis-svg"),this.__elementSvgOn=this.__elementTemplateRoot.find(".tchmi-timing-analysis-svg-on-circle"),this.__elementSvgOff=this.__elementTemplateRoot.find(".tchmi-timing-analysis-svg-off-circle"),this.__elementSvgWholeCircle=this.__elementTemplateRoot.find(".tchmi-timing-analysis-svg-whole-circle"),this.__elementSvgDefs=this.__elementTemplateRoot.find(".tchmi-timing-analysis-defs"),this.__elementInnerContainer=this.__elementTemplateRoot.find(".tchmi-timing-analysis-inner-container"),this.__elementState=this.__elementTemplateRoot.find(".tchmi-timing-analysis-state"),this.__elementStateOn=this.__elementTemplateRoot.find(".tchmi-timing-analysis-on-state"),this.__elementStateOff=this.__elementTemplateRoot.find(".tchmi-timing-analysis-off-state"),this.__elementCurrent=this.__elementTemplateRoot.find(".tchmi-timing-analysis-current"),this.__elementStateValues=this.__elementTemplateRoot.find(".tchmi-timing-analysis-state-values"),this.__elementStateOnValue=this.__elementTemplateRoot.find(".tchmi-timing-analysis-on-state-value"),this.__elementStateOffValue=this.__elementTemplateRoot.find(".tchmi-timing-analysis-off-state-value"),this.__elementCurrentValue=this.__elementTemplateRoot.find(".tchmi-timing-analysis-current-value"))}__init(){let t=[new e.Property(this,"ShowMilliSeconds","Show Milliseconds",e.E_DataType.BOOLEAN),new e.Property(this,"OnColor","On Color",e.E_DataType.SOLIDCOLOR),new e.Property(this,"OffColor","Off Color",e.E_DataType.SOLIDCOLOR)];super.setEditableProperties(t),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setOffColor(e){let s=t.ValueConverter.toObject(e);null===s&&(s=this.getAttributeDefaultValueInternal("OffColor")),s!==this.__offColor&&(this.__offColor=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffColor"]),this.__processOffColor())}getOffColor(){return this.__offColor}__processOffColor(){this.__processColor()}setOnColor(e){let s=t.ValueConverter.toObject(e);null===s&&(s=this.getAttributeDefaultValueInternal("OnColor")),s!==this.__onColor&&(this.__onColor=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnColor"]),this.__processOnColor())}getOnColor(){return this.__onColor}__processOnColor(){this.__processColor(),this.__processTotals()}setShowMilliSeconds(e){var s=t.ValueConverter.toBoolean(e);null===s&&(s=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),s!==this.__showMilliSeconds&&(this.__showMilliSeconds=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){this.__processTotalsOn(),this.__processTotalsOff(),this.__processCurrents()}setTotalOn(e){var s=t.ValueConverter.toObject(e);null===s&&(s=this.getAttributeDefaultValueInternal("totalOn")),JSON.stringify(s)!==JSON.stringify(this.__totalOn)&&(this.__totalOn=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTotalOn"]),this.__processTotalsOn())}getTotalOn(){return this.__totalOn}__processTotalsOn(){void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&null!==this.__dayAlias&&this.__elementStateOnValue.text(this.TimeSpanConverter(this.__totalOn,this.__showMilliSeconds,this.__dayAlias,!1)),this.__processTotals()}setTotalOff(e){var s=t.ValueConverter.toObject(e);null===s&&(s=this.getAttributeDefaultValueInternal("totalOff")),JSON.stringify(s)!==JSON.stringify(this.__totalOff)&&(this.__totalOff=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTotalOff"]),this.__processTotalsOff())}getTotalOff(){return this.__totalOff}__processTotalsOff(){void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&null!==this.__dayAlias&&this.__elementStateOffValue.text(this.TimeSpanConverter(this.__totalOff,this.__showMilliSeconds,this.__dayAlias,!1)),this.__processTotals()}setOnAlias(e){var s=t.ValueConverter.toString(e);null===s&&(s=this.getAttributeDefaultValueInternal("OnAlias")),s!==this.__onAlias&&(this.__onAlias=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOnAlias"]),this.__processOnAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getOnAlias(){return this.__onAlias}__processOnAlias(){void 0!==this.__onAlias&&null!==this.__onAlias&&this.__elementStateOn.text(this.__onAlias)}setOffAlias(e){var s=t.ValueConverter.toString(e);null===s&&(s=this.getAttributeDefaultValueInternal("OffAlias")),s!==this.__offAlias&&(this.__offAlias=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getOffAlias"]),this.__processOffAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getOffAlias(){return this.__offAlias}__processOffAlias(){void 0!==this.__offAlias&&null!==this.__offAlias&&this.__elementStateOff.text(this.__offAlias)}setCurrentAlias(e){var s=t.ValueConverter.toString(e);null===s&&(s=this.getAttributeDefaultValueInternal("CurrentAlias")),s!==this.__currentAlias&&(this.__currentAlias=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrentAlias"]),this.__processCurrentAlias(),t.EventProvider.raise(`${this.__id}.onResized`,null))}getCurrentAlias(){return this.__currentAlias}__processCurrentAlias(){void 0!==this.__currentAlias&&null!==this.__currentAlias&&this.__elementCurrent.text(this.__currentAlias)}setState(e){var s=t.ValueConverter.toBoolean(e);null===s&&(s=this.getAttributeDefaultValueInternal("State")),s!==this.__state&&(this.__state=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getState"]),this.__processState())}getState(){return this.__state}__processState(){this.__processTotals()}setDayAlias(e){var s=t.ValueConverter.toString(e);null===s&&(s=this.getAttributeDefaultValueInternal("DayAlias")),s!==this.__dayAlias&&(this.__dayAlias=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getDayAlias"]),this.__processDayAlias())}getDayAlias(){return this.__dayAlias}__processDayAlias(){this.__processTotals()}__processColorGradient(){this.__processColor()}__processColor(){if(this.__elementSvgOff.css("stroke",this.__controlColorDark),this.__elementInnerContainer.css("fill",this.__fontColor),this.__elementCurrentValue.css("color",this.__controlColorDark),this.__elementSvgDefs[0].innerHTML="",null!=this.__onColor&&null!=this.__offColor&&null!=this.__colorGradient){var t="radial-gradient(circle at 65% 35%, "+this.GetColorGradientLighter(this.__onColor.color,this.__colorGradient)+","+this.__onColor.color+"70%)";this.__elementStateOn.css("background",t),this.__elementStateOnValue.css("color",this.__onColor.color);var e="radial-gradient(circle at 65% 35%, "+this.GetColorGradientLighter(this.__offColor.color,this.__colorGradient)+","+this.__offColor.color+"70%)";this.__elementStateOff.css("background",e),this.__elementStateOffValue.css("color",this.__offColor.color),!0===this.__state?this.__elementCurrent.css("background",t):this.__elementCurrent.css("background",e),this.__elementSvgOn.css("fill",this.__onColor.color),this.__elementSvgOff.css("fill",this.__offColor.color);var s=this.__colorGradient/100;s<0&&(s*=-1),s>1&&(s=1),this.CreateRadialGradient("rgba(255,255,255,1)",this.__elementSvgDefs[0],this.__colorGradient,this.__radialGrad+this.__secureId,0,s,0),this.__elementSvgWholeCircle.css("fill","url(#"+this.__radialGrad+this.__secureId+")")}}__processTotals(){var t=0;void 0!==this.__totalOff&&void 0!==this.__totalOn&&(t=this.convertTimeSpan(this.__totalOn)/(this.convertTimeSpan(this.__totalOn)+this.convertTimeSpan(this.__totalOff))),null!=this.__onColor&&this.DrawChart(this.__elementSvgOn,t,this.__onColor.color)}setCurrent(e){var s=t.ValueConverter.toObject(e);null===s&&(s=this.getAttributeDefaultValueInternal("current")),JSON.stringify(s)!==JSON.stringify(this.__current)&&(this.__current=s,t.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCurrent"]),this.__processCurrents())}getCurrent(){return this.__current}__processCurrents(){void 0!==this.__showMilliSeconds&&null!==this.__showMilliSeconds&&void 0!==this.__dayAlias&&null!==this.__dayAlias&&this.__elementCurrentValue.text(this.TimeSpanConverter(this.__current,this.__showMilliSeconds,this.__dayAlias,!1))}DrawChart(t,e,s){var i="M50,50 m-49 0 a49,49 0 1, 0 98,0 a49,49 0 1, 0 -98,0";e>=1||1==e?t.css("fill",s):i=this.describeArc(50,50,49,0,360*e),t[0].setAttribute("d",i+"L50,50z")}}e.TimingAnalysis=s}(s=e.Analytics||(e.Analytics={})),e.registerEx("TimingAnalysis","TcHmi.Controls.Analytics",s.TimingAnalysis)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));