var TcHmi;!function(e){let t;!function(t){let s;!function(t){class s extends e.Controls.Analytics.AnalyticsControl{constructor(e,t,s){super(e,t,s),this.__onResized=()=>(e,t)=>{let s=super.__getScaleFactor();0!=this.__hasLicense&&(this.__showReset?this.__elementNameAlias.css("padding-right","16px"):this.__elementNameAlias.css("padding-right","5px"),!0===this.__showTitle?(this.__elementSvg.css("width",270*s),this.__elementSvg.css("height",270*s)):(this.__elementSvg.css("width",285*s),this.__elementSvg.css("height",285*s)))}}__previnit(){super.__previnit(),0!=this.__hasLicense&&(this.__defaultWidth=310,this.__defaultHeight=310,this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg"),this.__elementSvgCoordinateSystem=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-line-coordinate-system"),this.__elementSvgCoordinateSystemGraph=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-line-coordinate-system-graph"),this.__elementSvgTextCount=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-count"),this.__elementSvgTextCountValley=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-count-valley"),this.__elementSvgTextCountRate=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-count-rate"),this.__elementSvgTextCountPeak=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-count-peak"),this.__elementSvgTextCountAlias=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-count-alias"),this.__elementSvgTextValue=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-values"),this.__elementSvgTextValueValley=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-values-valley"),this.__elementSvgTextValueRate=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-values-rate"),this.__elementSvgTextValuePeak=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-values-peak"),this.__elementSvgTextDate=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-date"),this.__elementSvgTextDateValley=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-date-valley"),this.__elementSvgTextDateRate=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-date-rate"),this.__elementSvgTextDatePeak=this.__elementTemplateRoot.find(".tchmi-curve-sketcher-svg-text-date-peak"))}__init(){let e=[new t.Property(this,"ShowMilliSeconds","Show Milliseconds",t.E_DataType.BOOLEAN),new t.Property(this,"ShowMaxRateOfChange","Show Max Rate Of Change",t.E_DataType.BOOLEAN)];super.setEditableProperties(e),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setLastPeak(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("LastPeak")),s!==this.__lastPeak&&(this.__lastPeak=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastPeak"]),this.__processLastPeak())}getLastPeak(){return this.__lastPeak}__processLastPeak(){this.__elementSvgTextValuePeak.css("text-anchor","start"),this.__elementSvgTextValuePeak[0].textContent=this.__lastPeak.toString()}setLastValley(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("LastValley")),s!==this.__lastValley&&(this.__lastValley=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastValley"]),this.__processLastValley())}getLastValley(){return this.__lastValley}__processLastValley(){this.__elementSvgTextValueValley.css("text-anchor","end"),this.__elementSvgTextValueValley[0].textContent=this.__lastValley.toString()}setMaxRateOfChange(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("MaxRateOfChange")),s!==this.__maxRateOfChange&&(this.__maxRateOfChange=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMaxRateOfChange"]),this.__processMaxRateOfChange())}getMaxRateOfChange(){return this.__maxRateOfChange}__processMaxRateOfChange(){this.__elementSvgTextValueRate.css("text-anchor","end"),this.__elementSvgTextValueRate[0].textContent=this.__maxRateOfChange.toString()}setLastTimePeak(t){var s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("LastTimePeak")),JSON.stringify(s)!==JSON.stringify(this.__lastTimePeak)&&(this.__lastTimePeak=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastTimePeak"]),this.__processLastTimePeak())}getLastTimePeak(){return this.__lastTimePeak}__processLastTimePeak(){let e=this.DateTimeConverter(this.__lastTimePeak,this.__monthAlias,this.__showMilliSeconds),t=e.split(" ");this.__elementSvgTextDatePeak[0].textContent=e.replace(t[t.length-1],""),this.__elementSvgTextDatePeak[1].textContent=t[t.length-1]}setLastTimeValley(t){var s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("LastTimeValley")),JSON.stringify(s)!==JSON.stringify(this.__lastTimeValley)&&(this.__lastTimeValley=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getLastTimeValley"]),this.__processLastTimeValley())}getLastTimeValley(){return this.__lastTimeValley}__processLastTimeValley(){let e=this.DateTimeConverter(this.__lastTimeValley,this.__monthAlias,this.__showMilliSeconds),t=e.split(" ");this.__elementSvgTextDateValley[0].textContent=e.replace(t[t.length-1],""),this.__elementSvgTextDateValley[1].textContent=t[t.length-1]}setTimeMaxRateOfChange(t){var s=e.ValueConverter.toObject(t);null===s&&(s=this.getAttributeDefaultValueInternal("TimeMaxRateOfChange ")),JSON.stringify(s)!==JSON.stringify(this.__timeMaxRateOfChange)&&(this.__timeMaxRateOfChange=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getTimeMaxRateOfChange "]),this.__processLastTimeMaxRateOfChange())}getTimeMaxRateOfChange(){return this.__timeMaxRateOfChange}__processLastTimeMaxRateOfChange(){let e=this.DateTimeConverter(this.__timeMaxRateOfChange,this.__monthAlias,this.__showMilliSeconds),t=e.split(" ");this.__elementSvgTextDateRate[0].textContent=e.replace(t[t.length-1],""),this.__elementSvgTextDateRate[1].textContent=t[t.length-1]}setCountValley(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CountValley")),s!==this.__countValley&&(this.__countValley=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountValley"]),this.__processCountValley())}getCountValley(){return this.__countValley}__processCountValley(){this.__elementSvgTextCountValley[0].textContent=this.getTrimmedNumber(this.__countValley)}setCountPeak(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CountPeak")),s!==this.__countPeak&&(this.__countPeak=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountPeak"]),this.__processCountPeak())}getCountPeak(){return this.__countPeak}__processCountPeak(){this.__elementSvgTextCountPeak[0].textContent=this.getTrimmedNumber(this.__countPeak)}setShowMaxRateOfChange(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ShowMaxRateOfChange")),s!==this.__showMaxRateOfChange&&(this.__showMaxRateOfChange=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMaxRateOfChange"]),this.__processShowMaxRateOfChange())}getShowMaxRateOfChange(){return this.__showMaxRateOfChange}__processShowMaxRateOfChange(){1==this.__showMaxRateOfChange?(this.__elementSvgTextCountAlias[1].setAttribute("visibility","visible"),this.__elementSvgTextCountRate.css("visibility","visible"),this.__elementSvgTextValueRate.css("visibility","visible"),this.__elementSvgTextDateRate.css("visibility","visible")):(this.__elementSvgTextCountAlias[1].setAttribute("visibility","hidden"),this.__elementSvgTextCountRate.css("visibility","hidden"),this.__elementSvgTextValueRate.css("visibility","hidden"),this.__elementSvgTextDateRate.css("visibility","hidden"))}setCountMaxRateOfChange(t){var s=e.ValueConverter.toNumber(t);null===s&&(s=this.getAttributeDefaultValueInternal("CountMaxRateOfChange ")),s!==this.__countMaxRateOfChange&&(this.__countMaxRateOfChange=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCountMaxRateOfChange "]),this.__processCountMaxRateOfChange())}getCountMaxRateOfChange(){return this.__countMaxRateOfChange}__processCountMaxRateOfChange(){this.__elementSvgTextCountRate[0].textContent=this.getTrimmedNumber(this.__countMaxRateOfChange)}setShowMilliSeconds(t){var s=e.ValueConverter.toBoolean(t);null===s&&(s=this.getAttributeDefaultValueInternal("ShowMilliSeconds")),s!==this.__showMilliSeconds&&(this.__showMilliSeconds=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getShowMilliSeconds"]),this.__processShowMilliSeconds())}getShowMilliSeconds(){return this.__showMilliSeconds}__processShowMilliSeconds(){this.__processLastTimePeak(),this.__processLastTimeValley(),this.__processLastTimeMaxRateOfChange()}setCounterAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("CounterAlias")),s!==this.__counterAlias&&(this.__counterAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getCounterAlias"]),this.__processCounterAlias(),e.EventProvider.raise(`${this.__id}.onResized`,null))}getCounterAlias(){return this.__counterAlias}__processCounterAlias(){for(var e=0;e<this.__elementSvgTextCountAlias.length;e++)this.__elementSvgTextCountAlias[e].textContent=this.__counterAlias+":"}setMonthAlias(t){var s=e.ValueConverter.toString(t);null===s&&(s=this.getAttributeDefaultValueInternal("MonthAlias")),s!==this.__monthAlias&&(this.__monthAlias=s,e.EventProvider.raise(`${this.__id}.onFunctionResultChanged`,["getMonthAlias"]),this.__processMonthAlias())}getMonthAlias(){return this.__monthAlias}__processMonthAlias(){t.DCTimestruct.monthAlias=this.__monthAlias,this.__processLastTimePeak(),this.__processLastTimeValley(),this.__processLastTimeMaxRateOfChange()}__processColor(){this.__elementSvgCoordinateSystem.css("stroke",this.__fontColor),this.__elementSvgCoordinateSystemGraph.css("stroke",this.__controlColorDark),this.__elementSvgTextValue.css("fill",this.__fontColor),this.__elementSvgTextCountAlias.css("fill",this.__fontColor),this.__elementSvgTextCount.css("fill",this.__fontColor),this.__elementSvgTextDate.css("fill",this.__fontColor)}}t.CurveSketcher=s}(s=t.Analytics||(t.Analytics={})),t.registerEx("CurveSketcher","TcHmi.Controls.Analytics",s.CurveSketcher)}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));